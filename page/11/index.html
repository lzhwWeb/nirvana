<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
 <meta name="referrer" content="no-referrer"/>

  <link rel="apple-touch-icon" sizes="180x180" href="/nirvana/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/nirvana/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/nirvana/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/nirvana/images/logo.svg" color="#222">

<link rel="stylesheet" href="/nirvana/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lzhwweb.github.io","root":"/nirvana/","images":"/nirvana/images","scheme":"Gemini","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/nirvana/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>
<meta name="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
<meta property="og:type" content="website">
<meta property="og:title" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
<meta property="og:url" content="https://lzhwweb.github.io/nirvana/page/11/index.html">
<meta property="og:site_name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
<meta property="og:description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="nirvana">
<meta property="article:tag" content="å‰ç«¯,javascript,node,git">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lzhwweb.github.io/nirvana/page/11/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>
<title>æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/nirvana/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/nirvana/" rel="section">é¦–é¡µ</a></li>
        <li class="menu-item menu-item-git"><a href="/nirvana/categories/git" rel="section">git</a></li>
        <li class="menu-item menu-item-linux"><a href="/nirvana/categories/linux" rel="section">linux</a></li>
        <li class="menu-item menu-item-android"><a href="/nirvana/categories/android" rel="section">android</a></li>
        <li class="menu-item menu-item-éšç¬”"><a href="/nirvana/categories/informal" rel="section">éšç¬”</a></li>
        <li class="menu-item menu-item-mac"><a href="/nirvana/categories/mac" rel="section">mac</a></li>
        <li class="menu-item menu-item-react-native"><a href="/nirvana/categories/reactnative" rel="section">react-native</a></li>
        <li class="menu-item menu-item-ç®—æ³•"><a href="/nirvana/categories/algorithm" rel="section">ç®—æ³•</a></li>
        <li class="menu-item menu-item-è¯»ä¹¦ç¬”è®°"><a href="/nirvana/categories/note" rel="section">è¯»ä¹¦ç¬”è®°</a></li>
        <li class="menu-item menu-item-å¼€å‘å·¥å…·"><a href="/nirvana/categories/tool" rel="section">å¼€å‘å·¥å…·</a></li>
        <li class="menu-item menu-item-è®¾è®¡æ¨¡å¼(ts)"><a href="/nirvana/categories/DesignPattern" rel="section">è®¾è®¡æ¨¡å¼(TS)</a></li>
        <li class="menu-item menu-item-å‰ç«¯"><a href="/nirvana/categories/javascript" rel="section">å‰ç«¯</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="nirvana"
      src="/nirvana/images/headphoto.jpeg">
  <p class="site-author-name" itemprop="name">nirvana</p>
  <div class="site-description" itemprop="description">ä¸ªäººå­¦ä¹ ç¬”è®°</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/nirvana/archives">
          <span class="site-state-item-count">183</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/lzhwWeb" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;lzhwWeb" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Template-Method%EF%BC%88%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Template-Method%EF%BC%88%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%89/" class="post-title-link" itemprop="url">Template-Methodï¼ˆæ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼‰</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/DesignPattern/" itemprop="url" rel="index"><span itemprop="name">DesignPattern</span></a>
        </span>
    </span>

  
    <span id="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Template-Method%EF%BC%88%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%89/" class="post-meta-item leancloud_visitors" data-flag-title="Template-Methodï¼ˆæ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼‰" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>2k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>2 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"><a href="#æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"></a>æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</h3><blockquote>
<p>åœ¨æ¨¡æ¿æ¨¡å¼ï¼ˆTemplate Methodï¼‰ä¸­ï¼Œä¸€ä¸ªæŠ½è±¡ç±»å…¬å¼€å®šä¹‰äº†æ‰§è¡Œå®ƒçš„æ–¹æ³•çš„æ–¹å¼/æ¨¡æ¿ã€‚å®ƒçš„å­ç±»å¯ä»¥æŒ‰éœ€è¦é‡å†™æ–¹æ³•å®ç°ï¼Œä½†è°ƒç”¨å°†ä»¥æŠ½è±¡ç±»ä¸­å®šä¹‰çš„æ–¹å¼è¿›è¡Œã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚</p>
</blockquote>
<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><ul>
<li><p><strong>æ„å›¾ï¼š</strong>å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­ã€‚æ¨¡æ¿æ–¹æ³•ä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚</p>
</li>
<li><p><strong>ä¸»è¦è§£å†³ï¼š</strong>ä¸€äº›æ–¹æ³•é€šç”¨ï¼Œå´åœ¨æ¯ä¸€ä¸ªå­ç±»éƒ½é‡æ–°å†™äº†è¿™ä¸€æ–¹æ³•ã€‚</p>
</li>
<li><p><strong>ä½•æ—¶ä½¿ç”¨ï¼š</strong>æœ‰ä¸€äº›é€šç”¨çš„æ–¹æ³•ã€‚</p>
</li>
<li><p><strong>å¦‚ä½•è§£å†³ï¼š</strong>å°†è¿™äº›é€šç”¨ç®—æ³•æŠ½è±¡å‡ºæ¥ã€‚</p>
</li>
<li><p><strong>å…³é”®ä»£ç ï¼š</strong>åœ¨æŠ½è±¡ç±»å®ç°ï¼Œå…¶ä»–æ­¥éª¤åœ¨å­ç±»å®ç°ã€‚</p>
</li>
<li><p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<blockquote>
<ol>
<li> å°è£…ä¸å˜éƒ¨åˆ†ï¼Œæ‰©å±•å¯å˜éƒ¨åˆ†ã€‚ </li>
<li>æå–å…¬å…±ä»£ç ï¼Œä¾¿äºç»´æŠ¤ã€‚ </li>
<li>è¡Œä¸ºç”±çˆ¶ç±»æ§åˆ¶ï¼Œå­ç±»å®ç°ã€‚</li>
</ol>
</blockquote>
</li>
<li><p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<blockquote>
<ol>
<li>æœ‰å¤šä¸ªå­ç±»å…±æœ‰çš„æ–¹æ³•ï¼Œä¸”é€»è¾‘ç›¸åŒã€‚ </li>
<li>é‡è¦çš„ã€å¤æ‚çš„æ–¹æ³•ï¼Œå¯ä»¥è€ƒè™‘ä½œä¸ºæ¨¡æ¿æ–¹æ³•ã€‚</li>
</ol>
</blockquote>
</li>
</ul>
<h3 id="AbstractDisplayç±»ï¼šå®šä¹‰æ‰“å°é€»è¾‘"><a href="#AbstractDisplayç±»ï¼šå®šä¹‰æ‰“å°é€»è¾‘" class="headerlink" title="AbstractDisplayç±»ï¼šå®šä¹‰æ‰“å°é€»è¾‘"></a>AbstractDisplayç±»ï¼šå®šä¹‰æ‰“å°é€»è¾‘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">export default abstract class AbstractDisplay &#123;</span><br><span class="line">    public abstract open(): void;</span><br><span class="line">    public abstract print(): void;</span><br><span class="line">    public abstract close(): void;</span><br><span class="line">    public display(): void &#123;</span><br><span class="line">        this.open();</span><br><span class="line">        for (let i &#x3D; 0; i &lt; 5; i++) &#123;</span><br><span class="line">            this.print();</span><br><span class="line">        &#125;</span><br><span class="line">        this.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="CharDisplayç±»-æ‰“å°æ–¹å¼"><a href="#CharDisplayç±»-æ‰“å°æ–¹å¼" class="headerlink" title="CharDisplayç±»:æ‰“å°æ–¹å¼"></a>CharDisplayç±»:æ‰“å°æ–¹å¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import AbstractDisplay from &quot;.&#x2F;AbstractDisplay&quot;;</span><br><span class="line"></span><br><span class="line">export default class CharDisplay extends AbstractDisplay &#123;</span><br><span class="line">    private ch: string;</span><br><span class="line"></span><br><span class="line">    constructor(ch: string) &#123;</span><br><span class="line">        super();</span><br><span class="line">        this.ch &#x3D; ch;</span><br><span class="line">    &#125;</span><br><span class="line">    public open() &#123;</span><br><span class="line">        console.log(&quot;ã€Š&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public print() &#123;</span><br><span class="line">        console.log(this.ch);</span><br><span class="line">    &#125;</span><br><span class="line">    public close() &#123;</span><br><span class="line">        console.log(&quot;ã€‹&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="StringDisplayç±»ï¼š"><a href="#StringDisplayç±»ï¼š" class="headerlink" title="StringDisplayç±»ï¼š"></a>StringDisplayç±»ï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import AbstractDisplay from &quot;.&#x2F;AbstractDisplay&quot;;</span><br><span class="line"></span><br><span class="line">export default class StringDisplay extends AbstractDisplay &#123;</span><br><span class="line">    private str: string;</span><br><span class="line">    constructor(str: string) &#123;</span><br><span class="line">        super();</span><br><span class="line">        this.str &#x3D; str;</span><br><span class="line">    &#125;</span><br><span class="line">    public open() &#123;</span><br><span class="line">        console.log(&quot;+-----+&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    public print() &#123;</span><br><span class="line">        console.log(&#96;|$&#123;this.str&#125;|&#96;);</span><br><span class="line">    &#125;</span><br><span class="line">    public close() &#123;</span><br><span class="line">        console.log(&quot;+-----+&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="mainå‡½æ•°"><a href="#mainå‡½æ•°" class="headerlink" title="mainå‡½æ•°"></a>mainå‡½æ•°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import AbstractDisplay from &quot;.&#x2F;AbstractDisplay&quot;</span><br><span class="line">import CharDisplay from &quot;.&#x2F;CharDisplay&quot;</span><br><span class="line">import StringDisplay from &quot;.&#x2F;StringDisplay&quot;;</span><br><span class="line"></span><br><span class="line">const d1: AbstractDisplay &#x3D; new CharDisplay(&quot;H&quot;);</span><br><span class="line">const d2: AbstractDisplay &#x3D; new StringDisplay(&quot;Hello&quot;)</span><br><span class="line">d1.display();</span><br><span class="line">d2.display();</span><br></pre></td></tr></table></figure>
<h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ã€Š</span><br><span class="line">H</span><br><span class="line">H</span><br><span class="line">H</span><br><span class="line">H</span><br><span class="line">H</span><br><span class="line">ã€‹</span><br><span class="line">+-----+</span><br><span class="line">|Hello|</span><br><span class="line">|Hello|</span><br><span class="line">|Hello|</span><br><span class="line">|Hello|</span><br><span class="line">|Hello|</span><br><span class="line">+-----+</span><br></pre></td></tr></table></figure>
<h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p>AbstractClassï¼ˆæŠ½è±¡ç±»ï¼‰ï¼šAbstractClassä¸ä»…è´Ÿè´£å®ç°æ¨¡æ¿æ–¹æ³•ï¼Œè¿˜è´Ÿè´£å£°æ˜æ¨¡æ¿æ–¹æ³•ä¸­æ‰€ä½¿ç”¨çš„çš„æŠ½è±¡æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•åœ¨ConcreteClasså»å®ç°<br>ConcreteClassï¼ˆå…·ä½“å­ç±»ï¼‰ï¼šå…·ä½“å®ç°AbstractClassç±»ä¸­å®šä¹‰çš„æŠ½è±¡æ–¹æ³•</p>
<h3 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h3><p><img src="https://upload-images.jianshu.io/upload_images/10024246-7f402cd441e847d6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Template Methodç±»å›¾"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Visitor-Pattern(%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Visitor-Pattern(%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F)/" class="post-title-link" itemprop="url">Visitor-Pattern(è®¿é—®è€…æ¨¡å¼)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/DesignPattern/" itemprop="url" rel="index"><span itemprop="name">DesignPattern</span></a>
        </span>
    </span>

  
    <span id="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Visitor-Pattern(%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F)/" class="post-meta-item leancloud_visitors" data-flag-title="Visitor-Pattern(è®¿é—®è€…æ¨¡å¼)" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>4.7k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>4 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>è®¿é—®è€…æ¨¡å¼ï¼ˆVisitor Patternï¼‰</strong>è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§å°†æ•°æ®æ“ä½œå’Œæ•°æ®ç»“æ„åˆ†ç¦»çš„è®¾è®¡æ¨¡å¼ã€‚è¿™ç§ç±»å‹çš„è®¾è®¡æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ã€‚æ ¹æ®æ¨¡å¼ï¼Œå…ƒç´ å¯¹è±¡å·²æ¥å—è®¿é—®è€…å¯¹è±¡ï¼Œè¿™æ ·è®¿é—®è€…å¯¹è±¡å°±å¯ä»¥å¤„ç†å…ƒç´ å¯¹è±¡ä¸Šçš„æ“ä½œã€‚</p>
<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><ul>
<li><strong>æ„å›¾ï¼š</strong>ä¸»è¦å°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œåˆ†ç¦»ã€‚</li>
<li><strong>ä¸»è¦è§£å†³ï¼š</strong>ç¨³å®šçš„æ•°æ®ç»“æ„å’Œæ˜“å˜çš„æ“ä½œè€¦åˆé—®é¢˜ã€‚</li>
<li><strong>ä½•æ—¶ä½¿ç”¨ï¼š</strong>éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œéœ€è¦é¿å…è®©è¿™äº›æ“ä½œâ€æ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ï¼Œä½¿ç”¨è®¿é—®è€…æ¨¡å¼å°†è¿™äº›å°è£…åˆ°ç±»ä¸­ã€‚</li>
<li><strong>å¦‚ä½•è§£å†³ï¼š</strong>åœ¨è¢«è®¿é—®çš„ç±»é‡Œé¢åŠ ä¸€ä¸ªå¯¹å¤–æä¾›æ¥å¾…è®¿é—®è€…çš„æ¥å£ã€‚</li>
<li><strong>å…³é”®ä»£ç ï¼š</strong>åœ¨æ•°æ®åŸºç¡€ç±»é‡Œé¢æœ‰ä¸€ä¸ªæ–¹æ³•æ¥å—è®¿é—®è€…ï¼Œå°†è‡ªèº«å¼•ç”¨ä¼ å…¥è®¿é—®è€…ã€‚</li>
<li><strong>ä¼˜ç‚¹ï¼š</strong><br>1ã€ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚<br>2ã€ä¼˜ç§€çš„æ‰©å±•æ€§ã€‚<br>3ã€çµæ´»æ€§ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong><br>1ã€å…·ä½“å…ƒç´ å¯¹è®¿é—®è€…å…¬å¸ƒç»†èŠ‚ï¼Œè¿åäº†è¿ªç±³ç‰¹åŸåˆ™ã€‚<br>2ã€å…·ä½“å…ƒç´ å˜æ›´æ¯”è¾ƒå›°éš¾ã€‚<br>3ã€è¿åäº†ä¾èµ–å€’ç½®åŸåˆ™ï¼Œä¾èµ–äº†å…·ä½“ç±»ï¼Œæ²¡æœ‰ä¾èµ–æŠ½è±¡ã€‚</li>
<li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong><br>1ã€å¯¹è±¡ç»“æ„ä¸­å¯¹è±¡å¯¹åº”çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†ç»å¸¸éœ€è¦åœ¨æ­¤å¯¹è±¡ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚<br>2ã€éœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡è¿›è¡Œå¾ˆå¤šä¸åŒçš„å¹¶ä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œè€Œéœ€è¦é¿å…è®©è¿™äº›æ“ä½œâ€æ±¡æŸ“â€è¿™äº›å¯¹è±¡çš„ç±»ï¼Œä¹Ÿä¸å¸Œæœ›åœ¨å¢åŠ æ–°æ“ä½œæ—¶ä¿®æ”¹è¿™äº›ç±»ã€‚<blockquote>
<p>æ³¨æ„äº‹é¡¹ï¼šè®¿é—®è€…å¯ä»¥å¯¹åŠŸèƒ½è¿›è¡Œç»Ÿä¸€ï¼Œå¯ä»¥åšæŠ¥è¡¨ã€UIã€æ‹¦æˆªå™¨ä¸è¿‡æ»¤å™¨ã€‚</p>
</blockquote>
</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><h5 id="ComputerPart-ts-è¡¨ç¤ºå…ƒç´ çš„æ¥å£"><a href="#ComputerPart-ts-è¡¨ç¤ºå…ƒç´ çš„æ¥å£" class="headerlink" title="ComputerPart.ts è¡¨ç¤ºå…ƒç´ çš„æ¥å£"></a>ComputerPart.ts è¡¨ç¤ºå…ƒç´ çš„æ¥å£</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPartVisitor &#125; from &quot;.&#x2F;ComputerPartVisitor&quot;;</span><br><span class="line"></span><br><span class="line">export interface ComputerPart &#123;</span><br><span class="line">    accept(computerPartVisitor: ComputerPartVisitor): void;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Keyboard-ts-é”®ç›˜å®ä½“ç±»"><a href="#Keyboard-ts-é”®ç›˜å®ä½“ç±»" class="headerlink" title="Keyboard.ts é”®ç›˜å®ä½“ç±»"></a>Keyboard.ts é”®ç›˜å®ä½“ç±»</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPartVisitor &#125; from &quot;.&#x2F;ComputerPartVisitor&quot;;</span><br><span class="line">import &#123; ComputerPart &#125; from &quot;.&#x2F;ComputerPart&quot;;</span><br><span class="line"></span><br><span class="line">export default class Keyboard implements ComputerPart &#123;</span><br><span class="line">    public name: string;</span><br><span class="line">    public accept(computerPartVisitor: ComputerPartVisitor): void &#123;</span><br><span class="line">        this.name &#x3D; &quot;Keyboard&quot;;</span><br><span class="line">        computerPartVisitor.visit(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Mouse-ts-é¼ æ ‡å®ä½“ç±»"><a href="#Mouse-ts-é¼ æ ‡å®ä½“ç±»" class="headerlink" title="Mouse.ts é¼ æ ‡å®ä½“ç±»"></a>Mouse.ts é¼ æ ‡å®ä½“ç±»</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPartVisitor &#125; from &quot;.&#x2F;ComputerPartVisitor&quot;;</span><br><span class="line">import &#123; ComputerPart &#125; from &quot;.&#x2F;ComputerPart&quot;;</span><br><span class="line"></span><br><span class="line">export default class Mouse implements ComputerPart &#123;</span><br><span class="line">    public name: string;</span><br><span class="line">    public accept(computerPartVisitor: ComputerPartVisitor): void &#123;</span><br><span class="line">        this.name &#x3D; &quot;Mouse&quot;;</span><br><span class="line">        computerPartVisitor.visit(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Monitor-ts-æ˜¾ç¤ºå™¨å®ä½“ç±»"><a href="#Monitor-ts-æ˜¾ç¤ºå™¨å®ä½“ç±»" class="headerlink" title="Monitor.ts æ˜¾ç¤ºå™¨å®ä½“ç±»"></a>Monitor.ts æ˜¾ç¤ºå™¨å®ä½“ç±»</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPartVisitor &#125; from &quot;.&#x2F;ComputerPartVisitor&quot;;</span><br><span class="line">import &#123; ComputerPart &#125; from &quot;.&#x2F;ComputerPart&quot;;</span><br><span class="line"></span><br><span class="line">export default class Monitor implements ComputerPart &#123;</span><br><span class="line">    public name: string;</span><br><span class="line">    public accept(computerPartVisitor: ComputerPartVisitor): void &#123;</span><br><span class="line">        this.name &#x3D; &quot;Monitor&quot;;</span><br><span class="line">        computerPartVisitor.visit(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="Computer-ts-è®¡ç®—æœºå®ä½“ç±»"><a href="#Computer-ts-è®¡ç®—æœºå®ä½“ç±»" class="headerlink" title="Computer.ts è®¡ç®—æœºå®ä½“ç±»"></a>Computer.ts è®¡ç®—æœºå®ä½“ç±»</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPartVisitor &#125; from &quot;.&#x2F;ComputerPartVisitor&quot;;</span><br><span class="line">import Mouse from &quot;.&#x2F;Mouse&quot;;</span><br><span class="line">import Keyboard from &quot;.&#x2F;Keyboard&quot;;</span><br><span class="line">import Monitor from &quot;.&#x2F;Monitor&quot;;</span><br><span class="line">import &#123; ComputerPart &#125; from &quot;.&#x2F;ComputerPart&quot;;</span><br><span class="line"></span><br><span class="line">export default class Computer implements ComputerPart &#123;</span><br><span class="line"></span><br><span class="line">    private parts: ComputerPart[];</span><br><span class="line">    public name: string;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">        this.parts &#x3D; [new Mouse(), new Keyboard(), new Monitor()];</span><br><span class="line">        this.name &#x3D; &quot;Computer&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public accept(computerPartVisitor: ComputerPartVisitor): void &#123;</span><br><span class="line">        for (let i &#x3D; 0; i &lt; this.parts.length; i++) &#123;</span><br><span class="line">            this.parts[i].accept(computerPartVisitor);</span><br><span class="line">        &#125;</span><br><span class="line">        computerPartVisitor.visit(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ComputerPartVisitor-ts-è®¿é—®è€…çš„æ¥å£"><a href="#ComputerPartVisitor-ts-è®¿é—®è€…çš„æ¥å£" class="headerlink" title="ComputerPartVisitor.ts è®¿é—®è€…çš„æ¥å£"></a>ComputerPartVisitor.ts è®¿é—®è€…çš„æ¥å£</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import Computer from &quot;.&#x2F;Computer&quot;;</span><br><span class="line">import Mouse from &quot;.&#x2F;Mouse&quot;;</span><br><span class="line">import Keyboard from &quot;.&#x2F;Keyboard&quot;;</span><br><span class="line">import Monitor from &quot;.&#x2F;Monitor&quot;;</span><br><span class="line"></span><br><span class="line">export interface ComputerPartVisitor &#123;</span><br><span class="line">    visit(obj: Computer | Mouse | Keyboard | Monitor): void;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ComputerPartDisplayVisitor-ts-åˆ›å»ºå®ç°äº†ä¸Šè¿°ç±»çš„å®ä½“è®¿é—®è€…ã€‚"><a href="#ComputerPartDisplayVisitor-ts-åˆ›å»ºå®ç°äº†ä¸Šè¿°ç±»çš„å®ä½“è®¿é—®è€…ã€‚" class="headerlink" title="ComputerPartDisplayVisitor.ts åˆ›å»ºå®ç°äº†ä¸Šè¿°ç±»çš„å®ä½“è®¿é—®è€…ã€‚"></a>ComputerPartDisplayVisitor.ts åˆ›å»ºå®ç°äº†ä¸Šè¿°ç±»çš„å®ä½“è®¿é—®è€…ã€‚</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPartVisitor &#125; from &quot;.&#x2F;ComputerPartVisitor&quot;;</span><br><span class="line">import Computer from &quot;.&#x2F;Computer&quot;;</span><br><span class="line">import Mouse from &quot;.&#x2F;Mouse&quot;;</span><br><span class="line">import Keyboard from &quot;.&#x2F;Keyboard&quot;;</span><br><span class="line">import Monitor from &quot;.&#x2F;Monitor&quot;;</span><br><span class="line"></span><br><span class="line">export default class ComputerPartDisplayVisitor implements ComputerPartVisitor &#123;</span><br><span class="line">    public visit(obj: Computer | Mouse | Keyboard | Monitor): void &#123;&#x2F;&#x2F;JavaScriptä¸­æ²¡æœ‰é‡è½½</span><br><span class="line">        console.log(obj.name)</span><br><span class="line">        if (obj.name &#x3D;&#x3D;&#x3D; &quot;Computer&quot;) &#123;</span><br><span class="line">            console.log(&quot;Displaying Computer.&quot;);</span><br><span class="line"></span><br><span class="line">        &#125; else if (obj.name &#x3D;&#x3D;&#x3D; &quot;Mouse&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            console.log(&quot;Displaying Mouse.&quot;);</span><br><span class="line">        &#125; else if (obj.name &#x3D;&#x3D;&#x3D; &quot;Keyboard&quot;) &#123;</span><br><span class="line"></span><br><span class="line">            console.log(&quot;Displaying Keyboard.&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            console.log(&quot;Displaying Monitor.&quot;);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="index-ts"><a href="#index-ts" class="headerlink" title="index.ts"></a>index.ts</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ComputerPart &#125; from &quot;.&#x2F;ComputerPart&quot;;</span><br><span class="line">import Computer from &quot;.&#x2F;Computer&quot;;</span><br><span class="line">import ComputerPartDisplayVisitor from &quot;.&#x2F;ComputerPartDisplayVisitor&quot;;</span><br><span class="line"></span><br><span class="line">const computer: ComputerPart &#x3D; new Computer();</span><br><span class="line">computer.accept(new ComputerPartDisplayVisitor());</span><br></pre></td></tr></table></figure>
<h5 id="result"><a href="#result" class="headerlink" title="result"></a>result</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Mouse</span><br><span class="line">Displaying Mouse.</span><br><span class="line">Keyboard</span><br><span class="line">Displaying Keyboard.</span><br><span class="line">Monitor</span><br><span class="line">Displaying Monitor.</span><br><span class="line">Computer</span><br><span class="line">Displaying Computer.</span><br></pre></td></tr></table></figure>
<h2 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><p><img src="https://upload-images.jianshu.io/upload_images/10024246-23af8b73c70c1911.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<h2 id="è§’è‰²"><a href="#è§’è‰²" class="headerlink" title="è§’è‰²"></a>è§’è‰²</h2><ul>
<li>Visitor(è®¿é—®è€…)<br>Visitorè§’è‰²è´Ÿè´£å¯¹æ•°æ®ç»“æ„ä¸­æ¯ä¸ªå…·ä½“çš„å…ƒç´ å£°æ˜ä¸€ä¸ªè®¿é—®çš„visitæ–¹æ³•ï¼Œvisitæ–¹æ³•æ˜¯ç”¨æ¥æ“ä½œå…ƒç´ çš„æ–¹æ³•ï¼Œè´Ÿè´£å®ç°è¯¥æ–¹æ³•çš„æ˜¯concreteVisitorè§’è‰²</li>
<li>ConcreteVisitorï¼ˆå…·ä½“çš„è®¿é—®è€…ï¼‰<br>ConcreteVisitorè§’è‰²è´Ÿè´£å®ç°Visitorè§’è‰²å®šå½±çš„æ¥å£ï¼Œå®ƒè¦å®ç°æ‰€æœ‰çš„visitæ–¹æ³•ï¼Œå³å®ç°å¦‚ä½•å¤„ç†æ¯ä¸ªConcreteElementè§’è‰²ã€‚ConcreteVisitorè§’è‰²çš„å†…éƒ¨çŠ¶æ€ä¼šéšç€visitçš„å˜åŒ–è€Œå˜åŒ–</li>
<li>Elementï¼ˆå…ƒç´ ï¼‰<br>Elementè§’è‰²è¡¨ç¤ºVisitorè§’è‰²çš„è®¿é—®å¯¹è±¡ã€‚å®ƒå£°æ˜äº†æ¥å—è®¿é—®è€…çš„acceptæ–¹æ³•ã€‚acceptæ–¹æ³•æ¥å—çš„å‚æ•°æ˜¯Visitorè§’è‰²ã€‚</li>
<li>ConcreteElement<br>ConcreteElementè´Ÿè´£å®ç°Elementè§’è‰²å®šä¹‰çš„æ¥å£</li>
<li>ObjectStructureï¼ˆå¯¹è±¡ç»“æ„ï¼‰<br>ObjectStructureè§’è‰²è´Ÿè´£åƒåŠ›Elementè§’è‰²çš„é›†åˆã€‚ConcreteVisitorè§’è‰²ä¸ºæ¯ä¸ªElementéƒ½å‡†å¤‡äº†å¤„ç†æ–¹æ³•ã€‚</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E5%AE%8C%E7%BB%93%E6%84%9F%E6%83%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E5%AE%8C%E7%BB%93%E6%84%9F%E6%83%B3/" class="post-title-link" itemprop="url">å®Œç»“æ„Ÿæƒ³</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/DesignPattern/" itemprop="url" rel="index"><span itemprop="name">DesignPattern</span></a>
        </span>
    </span>

  
    <span id="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E5%AE%8C%E7%BB%93%E6%84%9F%E6%83%B3/" class="post-meta-item leancloud_visitors" data-flag-title="å®Œç»“æ„Ÿæƒ³" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>339</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>ä»2020.03.28åˆ°2021.01.11æ¥è¿‘ä¸€å¹´çš„æ—¶é—´æ‰å®Œæˆè¿™ä¸ªç³»åˆ—ï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šæ„Ÿè§¦çš„ã€‚</p>
<p>ç°åœ¨ä¸€ç›´åœ¨ç”¨TSå¼€å‘ï¼ŒTSè§£å†³äº†ä»¥å‰JSè™½ç„¶æ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯å’Œjavaã€Cã€PHPè¿™ç§å¼ºç±»å‹çš„è¯­è¨€ç›¸æ¯”ï¼Œæ²¡æœ‰æ˜ç¡®çš„classï¼Œinterfaceè¿™äº›é¢å‘å¯¹è±¡çš„å®šä¹‰ï¼Œæƒ³åšä¸€äº›è®¾è®¡æ¨¡å¼çš„å¼€å‘å°±ä¼šå†™çš„ä¸ä¼¦ä¸ç±»ï¼Œæœ‰äº†TSç»ˆäºèƒ½å¤Ÿå†™çœŸæ­£çš„é¢å‘å¯¹è±¡çš„ä»£ç äº†ã€‚</p>
<p>è‡ªä»æ‹¿åˆ°çœ‹åˆ°å…³äºã€Šè®¾è®¡æ¨¡å¼ã€‹è¿™æœ¬ä¹¦ï¼Œå°±æƒ³å†™ä¸€ä¸‹ç”¨TSæ¥å®ç°ç›¸å…³è®¾è®¡æ¨¡å¼çš„æƒ³æ³•ï¼Œé¡ºä¾¿å¤ä¹ ä¸‹ç›¸å…³å†…å®¹ï¼Œæœ¬æ¥è®¡åˆ’1ã€2ä¸ªæœˆå°±èƒ½å®Œæˆè¿™ä»¶äº‹ï¼Œä½†æ˜¯è®¡åˆ’èµ¶ä¸ä¸Šå˜åŒ–ï¼Œå…¶å®å°±æ˜¯æ‹–å»¶ç—‡ï¼Œå‰é¢å‡ åˆ†é’Ÿçƒ­åº¦ï¼Œåæ¥å°±æ˜¯ç»™è‡ªå·±æ‰¾å„ç§ç†ç”±ï¼Œæ ¹æœ¬æ²¡å†™å‡ ä¸ªã€‚</p>
<p>ç›´åˆ°æœ€è¿‘ç¢°åˆ°äº†æ—¥æ›´æ´»åŠ¨ï¼Œä¸ºäº†ç»™è‡ªå·±ä¸€å®šçš„å‹åŠ›ï¼Œå°±å‚ä¸è¿›å»ï¼Œæ‰å‘ç°äººçš„æ½œåŠ›æ˜¯æ— ç©·çš„ï¼Œé€¼ä¸€é€¼è¿˜æ˜¯æœ‰æ½œåŠ›å¯æŒ–çš„ã€‚ğŸ¤©</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8BUML%E7%B1%BB%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8BUML%E7%B1%BB%E5%9B%BE/" class="post-title-link" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹UMLç±»å›¾</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/DesignPattern/" itemprop="url" rel="index"><span itemprop="name">DesignPattern</span></a>
        </span>
    </span>

  
    <span id="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8BUML%E7%B1%BB%E5%9B%BE/" class="post-meta-item leancloud_visitors" data-flag-title="è®¾è®¡æ¨¡å¼ä¹‹UMLç±»å›¾" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>2 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="ç±»å›¾ï¼š"><a href="#ç±»å›¾ï¼š" class="headerlink" title="ç±»å›¾ï¼š"></a>ç±»å›¾ï¼š</h2><p>åœ¨ç±»å›¾ä¸­ä¸€å…±åŒ…å«äº†ä»¥ä¸‹å‡ ç§æ¨¡å‹å…ƒç´ ï¼Œåˆ†åˆ«æ˜¯ï¼šç±»ï¼ˆClassï¼‰ã€æ¥å£ï¼ˆInterfaceï¼‰ä»¥åŠç±»ä¹‹é—´çš„å…³ç³»ã€‚</p>
<h5 id="1ã€ç±»ï¼ˆClass"><a href="#1ã€ç±»ï¼ˆClass" class="headerlink" title="1ã€ç±»ï¼ˆClass)"></a>1ã€ç±»ï¼ˆClass)</h5><p>ã€€ã€€åœ¨é¢å‘å¯¹è±¡ï¼ˆOO) ç¼–ç¨‹ä¸­ï¼Œç±»æ˜¯å¯¹ç°å®ä¸–ç•Œä¸­ä¸€ç»„å…·æœ‰ç›¸åŒç‰¹å¾çš„ç‰©ä½“çš„æŠ½è±¡ã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-8bbcf2cb154f0512.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<h5 id="2ã€-æ¥å£ï¼ˆInterfaceï¼‰"><a href="#2ã€-æ¥å£ï¼ˆInterfaceï¼‰" class="headerlink" title="2ã€ æ¥å£ï¼ˆInterfaceï¼‰"></a>2ã€ æ¥å£ï¼ˆInterfaceï¼‰</h5><p>ã€€ã€€æ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œå…·æœ‰ç±»çš„ç»“æ„ä½†ä¸å¯è¢«å®ä¾‹åŒ–ï¼Œåªå¯ä»¥è¢«å®ç°ï¼ˆç»§æ‰¿ï¼‰ã€‚åœ¨UMLä¸­ï¼Œæ¥å£ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰åç§°çš„å°åœ†åœˆæ¥è¿›è¡Œè¡¨ç¤ºã€‚</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-de1b5d4397a635a9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<h5 id="3ã€ç±»å›¾ä¸­å…³ç³»ï¼ˆrelationï¼‰"><a href="#3ã€ç±»å›¾ä¸­å…³ç³»ï¼ˆrelationï¼‰" class="headerlink" title="3ã€ç±»å›¾ä¸­å…³ç³»ï¼ˆrelationï¼‰"></a>3ã€ç±»å›¾ä¸­å…³ç³»ï¼ˆrelationï¼‰</h5><p>åœ¨UMLç±»å›¾ä¸­ï¼Œå¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§å…³ç³»: </p>
<ul>
<li>æ³›åŒ–ï¼ˆGeneralizationï¼‰</li>
<li>å®ç°ï¼ˆRealizationï¼‰</li>
<li>å…³è”ï¼ˆAssociation)</li>
<li>èšåˆï¼ˆAggregationï¼‰</li>
<li>ç»„åˆ(Composition)</li>
<li>ä¾èµ–(Dependency)</li>
</ul>
<h5 id="3-1-æ³›åŒ–ï¼ˆGeneralizationï¼‰"><a href="#3-1-æ³›åŒ–ï¼ˆGeneralizationï¼‰" class="headerlink" title="3.1 æ³›åŒ–ï¼ˆGeneralizationï¼‰"></a>3.1 æ³›åŒ–ï¼ˆGeneralizationï¼‰</h5><p>ã€æ³›åŒ–å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ç»§æ‰¿å…³ç³»ï¼Œè¡¨ç¤ºä¸€èˆ¬ä¸ç‰¹æ®Šçš„å…³ç³»ï¼Œå®ƒæŒ‡å®šäº†å­ç±»å¦‚ä½•ç‰¹åŒ–çˆ¶ç±»çš„æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼šè€è™æ˜¯åŠ¨ç‰©çš„ä¸€ç§ï¼Œå³æœ‰è€è™çš„ç‰¹æ€§ä¹Ÿæœ‰åŠ¨ç‰©çš„å…±æ€§ã€‚</p>
<p>ã€ç®­å¤´æŒ‡å‘ã€‘ï¼šå¸¦ä¸‰è§’ç®­å¤´çš„å®çº¿ï¼Œç®­å¤´æŒ‡å‘çˆ¶ç±»</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-029720a88a5da64a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ³›åŒ–"></p>
<h5 id="3-2-å®ç°ï¼ˆRealizationï¼‰"><a href="#3-2-å®ç°ï¼ˆRealizationï¼‰" class="headerlink" title="3.2 å®ç°ï¼ˆRealizationï¼‰"></a>3.2 å®ç°ï¼ˆRealizationï¼‰</h5><p>ã€å®ç°å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ç±»ä¸æ¥å£çš„å…³ç³»ï¼Œè¡¨ç¤ºç±»æ˜¯æ¥å£æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºçš„å®ç°.</p>
<p>ã€ç®­å¤´æŒ‡å‘ã€‘ï¼šå¸¦ä¸‰è§’ç®­å¤´çš„è™šçº¿ï¼Œç®­å¤´æŒ‡å‘æ¥å£</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-a3ae84ab7432ba6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å®ç°"></p>
<h5 id="3-3-å…³è”ï¼ˆAssociation"><a href="#3-3-å…³è”ï¼ˆAssociation" class="headerlink" title="3.3 å…³è”ï¼ˆAssociation)"></a>3.3 å…³è”ï¼ˆAssociation)</h5><p>1ã€å…³è”å…³ç³»</p>
<p>å…³è”å…³ç³»åˆå¯è¿›ä¸€æ­¥åˆ†ä¸ºå•å‘å…³è”ã€åŒå‘å…³è”å’Œè‡ªå…³è”ã€‚</p>
<p>ï¼ˆ1ï¼‰å•å‘å…³è”</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-b7da7cefc1e8a965.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨UMLç±»å›¾ä¸­å•å‘å…³è”ç”¨ä¸€ä¸ªå¸¦ç®­å¤´çš„ç›´çº¿è¡¨ç¤ºã€‚ä¸Šå›¾è¡¨ç¤ºæ¯ä¸ªé¡¾å®¢éƒ½æœ‰ä¸€ä¸ªåœ°å€ï¼Œè¿™é€šè¿‡è®©Customerç±»æŒæœ‰ä¸€ä¸ªç±»å‹ä¸ºAddressçš„æˆå‘˜å˜é‡ç±»å®ç°ã€‚</p>
<p>ï¼ˆ2ï¼‰åŒå‘å…³è”</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-8a5ab4ef3ea8fca7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>ä»ä¸Šå›¾ä¸­æˆ‘ä»¬å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œæ‰€è°“çš„åŒå‘å…³è”å°±æ˜¯åŒæ–¹å„è‡ªæŒæœ‰å¯¹æ–¹ç±»å‹çš„æˆå‘˜å˜é‡ã€‚åœ¨UMLç±»å›¾ä¸­ï¼ŒåŒå‘å…³è”ç”¨ä¸€ä¸ªä¸å¸¦ç®­å¤´çš„ç›´çº¿è¡¨ç¤ºã€‚ä¸Šå›¾ä¸­åœ¨Customerç±»ä¸­ç»´æŠ¤ä¸€ä¸ªProduct[]æ•°ç»„ï¼Œè¡¨ç¤ºä¸€ä¸ªé¡¾å®¢è´­ä¹°äº†é‚£äº›äº§å“ï¼›åœ¨Productç±»ä¸­ç»´æŠ¤ä¸€ä¸ªCustomerç±»å‹çš„æˆå‘˜å˜é‡è¡¨ç¤ºè¿™ä¸ªäº§å“è¢«å“ªä¸ªé¡¾å®¢æ‰€è´­ä¹°ã€‚</p>
<p>ï¼ˆ3ï¼‰è‡ªå…³è”</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-d105b28536055929.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>è‡ªå…³è”åœ¨UMLç±»å›¾ä¸­ç”¨ä¸€ä¸ªå¸¦æœ‰ç®­å¤´ä¸”æŒ‡å‘è‡ªèº«çš„ç›´çº¿è¡¨ç¤ºã€‚ä¸Šå›¾çš„æ„æ€å°±æ˜¯Nodeç±»åŒ…å«ç±»å‹ä¸ºNodeçš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå°±æ˜¯â€œè‡ªå·±åŒ…å«è‡ªå·±â€ã€‚</p>
<blockquote>
<p><strong>ä¾èµ–å’Œå…³è”åŒºåˆ«ï¼š</strong><br><em>ç”¨é”¤å­ä¿®äº†ä¸€ä¸‹æ¡Œå­ï¼Œæˆ‘å’Œé”¤å­ä¹‹é—´å°±æ˜¯ä¸€ç§ä¾èµ–ï¼Œæˆ‘å’Œæˆ‘çš„åŒäº‹å°±æ˜¯ä¸€ç§å…³è”ã€‚<br>ä¾èµ–æ˜¯ä¸€ç§å¼±å…³è”ï¼Œåªè¦ä¸€ä¸ªç±»ç”¨åˆ°å¦ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å’Œå¦ä¸€ä¸ªç±»çš„å…³ç³»ä¸æ˜¯å¤ªæ˜æ˜¾çš„æ—¶å€™ï¼ˆå¯ä»¥è¯´æ˜¯â€œusesâ€äº†é‚£ä¸ªç±»ï¼‰ï¼Œå°±å¯ä»¥æŠŠè¿™ç§å…³ç³»çœ‹æˆæ˜¯ä¾èµ–ï¼Œä¾èµ–ä¹Ÿå¯è¯´æ˜¯ä¸€ç§å¶ç„¶çš„å…³ç³»ï¼Œè€Œä¸æ˜¯å¿…ç„¶çš„å…³ç³»ã€‚<br>å…³è”æ˜¯ç±»ä¹‹é—´çš„ä¸€ç§å…³ç³»ï¼Œä¾‹å¦‚è€å¸ˆæ•™å­¦ç”Ÿï¼Œè€å…¬å’Œè€å©†è¿™ç§å…³ç³»æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚ä¾èµ–æ˜¯æ¯”è¾ƒé™Œç”Ÿï¼Œå…³è”æ˜¯æˆ‘ä»¬å·²ç»è®¤è¯†ç†Ÿæ‚‰äº†ã€‚</em></p>
</blockquote>
<h5 id="3-4-èšåˆï¼ˆAggregationï¼‰"><a href="#3-4-èšåˆï¼ˆAggregationï¼‰" class="headerlink" title="3.4 èšåˆï¼ˆAggregationï¼‰"></a>3.4 èšåˆï¼ˆAggregationï¼‰</h5><p>ã€èšåˆå…³ç³»ã€‘ï¼šæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä¸”éƒ¨åˆ†å¯ä»¥ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚</p>
<p>å¦‚è½¦å’Œè½®èƒæ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œè½®èƒç¦»å¼€è½¦ä»ç„¶å¯ä»¥å­˜åœ¨ã€‚</p>
<p>èšåˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯å¼ºçš„å…³è”å…³ç³»ï¼›å…³è”å’Œèšåˆåœ¨è¯­æ³•ä¸Šæ— æ³•åŒºåˆ†ï¼Œå¿…é¡»è€ƒå¯Ÿå…·ä½“çš„é€»è¾‘å…³ç³»ã€‚</p>
<p>ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡</p>
<p>ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦ç©ºå¿ƒè±å½¢çš„å®å¿ƒçº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-5e72b3273da1726a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h5 id="3-5-ç»„åˆ-Composition"><a href="#3-5-ç»„åˆ-Composition" class="headerlink" title="3.5 ç»„åˆ(Composition)"></a>3.5 ç»„åˆ(Composition)</h5><p>ã€ç»„åˆå…³ç³»ã€‘ï¼šæ˜¯æ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»ï¼Œä½†éƒ¨åˆ†ä¸èƒ½ç¦»å¼€æ•´ä½“è€Œå•ç‹¬å­˜åœ¨ã€‚</p>
<p>å¦‚å…¬å¸å’Œéƒ¨é—¨æ˜¯æ•´ä½“å’Œéƒ¨åˆ†çš„å…³ç³»ï¼Œæ²¡æœ‰å…¬å¸å°±ä¸å­˜åœ¨éƒ¨é—¨ã€‚</p>
<p>ç»„åˆå…³ç³»æ˜¯å…³è”å…³ç³»çš„ä¸€ç§ï¼Œæ˜¯æ¯”èšåˆå…³ç³»è¿˜è¦å¼ºçš„å…³ç³»ï¼Œ</p>
<p>å®ƒè¦æ±‚æ™®é€šçš„èšåˆå…³ç³»ä¸­ä»£è¡¨æ•´ä½“çš„å¯¹è±¡è´Ÿè´£ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>ã€ä»£ç ä½“ç°ã€‘ï¼šæˆå‘˜å˜é‡</p>
<p>ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦å®å¿ƒè±å½¢çš„å®çº¿ï¼Œè±å½¢æŒ‡å‘æ•´ä½“</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-f091bcde6b547433.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h5 id="3-6-ä¾èµ–-Dependency"><a href="#3-6-ä¾èµ–-Dependency" class="headerlink" title="3.6 ä¾èµ–(Dependency)"></a>3.6 ä¾èµ–(Dependency)</h5><p>ã€ä¾èµ–å…³ç³»ã€‘ï¼šæ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»ï¼Œå³ä¸€ä¸ªç±»çš„å®ç°éœ€è¦å¦ä¸€ä¸ªç±»çš„ååŠ©ï¼Œ</p>
<p>æ‰€ä»¥è¦å°½é‡ä¸ä½¿ç”¨åŒå‘çš„äº’ç›¸ä¾èµ–.</p>
<p>ã€ä»£ç è¡¨ç°ã€‘ï¼šå±€éƒ¨å˜é‡ã€æ–¹æ³•çš„å‚æ•°æˆ–è€…å¯¹é™æ€æ–¹æ³•çš„è°ƒç”¨</p>
<p>ã€ç®­å¤´åŠæŒ‡å‘ã€‘ï¼šå¸¦ç®­å¤´çš„è™šçº¿ï¼ŒæŒ‡å‘è¢«ä½¿ç”¨è€…</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-4b696f117362a3ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>å„ç§å…³ç³»çš„å¼ºå¼±é¡ºåºï¼š</p>
<p>æ³›åŒ– = å®ç° &gt; ç»„åˆ &gt; èšåˆ &gt; å…³è” &gt; ä¾èµ–</p>
<p>ä¸‹é¢è¿™å¼ UMLå›¾ï¼Œæ¯”è¾ƒå½¢è±¡åœ°å±•ç¤ºäº†å„ç§ç±»å›¾å…³ç³»ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-f8c0a29ab9d7ffa4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p><strong>ç±»å›¾ç»˜åˆ¶çš„è¦ç‚¹</strong></p>
<ul>
<li>ç±»çš„æ“ä½œæ˜¯é’ˆå¯¹ç±»è‡ªèº«çš„æ“ä½œï¼Œè€Œä¸æ˜¯å®ƒå»æ“ä½œäººå®¶ã€‚æ¯”å¦‚ä¹¦è¿™ä¸ªç±»æœ‰ä¸Šæ¶ä¸‹æ¶çš„æ“ä½œï¼Œæ˜¯ä¹¦è‡ªå·±è¢«ä¸Šæ¶ä¸‹æ¶ï¼Œä¸èƒ½å› ä¸ºä¸Šæ¶ä¸‹æ¶æ˜¯ç®¡ç†å‘˜çš„åŠ¨ä½œè€ŒæŠŠå®ƒæ”¾åœ¨ç®¡ç†å‘˜çš„æ“ä½œé‡Œã€‚</li>
<li>ä¸¤ä¸ªç›¸å…³è”çš„ç±»ï¼Œéœ€è¦åœ¨å…³è”çš„ç±»ä¸­åŠ ä¸Šè¢«å…³è”ç±»çš„IDï¼Œå¹¶ä¸”ç®­å¤´æŒ‡å‘è¢«å…³è”ç±»ã€‚å¯ä»¥ç†è§£ä¸ºæ•°æ®è¡¨ä¸­çš„å¤–é”®ã€‚æ¯”å¦‚å€Ÿä¹¦å’Œä¹¦ï¼Œå€Ÿä¹¦éœ€è¦ç”¨åˆ°ä¹¦çš„ä¿¡æ¯ï¼Œå› æ­¤å€Ÿä¹¦ç±»éœ€åŒ…å«ä¹¦çš„IDï¼Œç®­å¤´æŒ‡å‘ä¹¦ã€‚</li>
<li>ç”±äºä¸šåŠ¡å¤æ‚æ€§ï¼Œä¸€ä¸ªæ˜¾ç¤ºä¸­çš„å®ä½“å¯èƒ½ä¼šè¢«åˆ†ä¸ºå¤šä¸ªç±»ï¼Œè¿™æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œç±»ä¸æ˜¯è¶Šå°‘è¶Šå¥½ã€‚ç±»çš„è®¾è®¡å–å†³äºæ€æ ·è®©åå°ç¨‹åºçš„æ“ä½œæ›´åŠ ç®€å•ã€‚æ¯”å¦‚å•çœ‹é€»è¾‘ï¼Œå€Ÿä¹¦ç±»å¯ä»¥ä¸å­˜åœ¨ï¼Œå®ƒçš„ä¿¡æ¯å¯ä»¥æ”¾åœ¨ä¹¦è¿™ä¸ªç±»é‡Œã€‚ç„¶è€Œå€Ÿè¿˜ä¹¦å’Œä¹¦çš„ä¸Šæ¶ä¸‹æ¶å®Œå…¨ä¸æ˜¯ä¸€å›äº‹ï¼Œå€Ÿä¹¦ç±»å¯¹å€Ÿä¹¦çš„æ“ä½œæ›´åŠ æ–¹ä¾¿ï¼Œä¸éœ€è¦å»é‡å¤æ”¹åŠ¨ä¹¦è¿™ä¸ªç±»ä¸­çš„å†…å®¹ã€‚æ­¤å¤–ï¼Œå¦‚æœä¹¦å’Œå€Ÿä¹¦æ˜¯1å¯¹å¤šçš„å…³ç³»ï¼Œé‚£å°±å¿…é¡»åˆ†ä¸ºä¸¤ä¸ªç±»ã€‚</li>
<li>ç±»å›¾ä¸­çš„è§„èŒƒé—®é¢˜ï¼Œæ¯”å¦‚ä¸åŒå…³ç³»éœ€è¦ä¸åŒçš„ç®­å¤´ï¼Œå¯è§æ€§ç¬¦å·ç­‰ã€‚</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%88%86%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%88%86%E7%B1%BB/" class="post-title-link" itemprop="url">è®¾è®¡æ¨¡å¼åˆ†ç±»</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/DesignPattern/" itemprop="url" rel="index"><span itemprop="name">DesignPattern</span></a>
        </span>
    </span>

  
    <span id="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%88%86%E7%B1%BB/" class="post-meta-item leancloud_visitors" data-flag-title="è®¾è®¡æ¨¡å¼åˆ†ç±»" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>275</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>1 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼"><a href="#åˆ›å»ºå‹è®¾è®¡æ¨¡å¼" class="headerlink" title="åˆ›å»ºå‹è®¾è®¡æ¨¡å¼"></a>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼</h2><ul>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Abstract-Factory-Pattern%EF%BC%88%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%EF%BC%89">Abstract Factoryæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Builder-Pattern%EF%BC%88%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%89">Builderæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Factory-Method(%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F)">Factory Methodæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Prototype-Pattern(%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F%EF%BC%89">Prototypeæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Singleton%E6%A8%A1%E5%BC%8F">Singletonæ¨¡å¼</a><h2 id="ç»“æ„å‹è®¾è®¡æ¨¡å¼"><a href="#ç»“æ„å‹è®¾è®¡æ¨¡å¼" class="headerlink" title="ç»“æ„å‹è®¾è®¡æ¨¡å¼"></a>ç»“æ„å‹è®¾è®¡æ¨¡å¼</h2></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Adapter%E6%A8%A1%E5%BC%8F%EF%BC%88%E9%80%82%E9%85%8D%E5%99%A8%EF%BC%89">Adapteræ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Bridge-Pattern%EF%BC%88%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F%EF%BC%89">Bridgeæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Composite%E6%A8%A1%E5%BC%8F%EF%BC%88%E7%BB%84%E5%90%88%E5%AE%9E%E4%BD%93%E6%A8%A1%E5%BC%8F%EF%BC%89">Compositeæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Decorator%E6%A8%A1%E5%BC%8F%EF%BC%88%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%89">Decoratoræ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Facade%E6%A8%A1%E5%BC%8F%EF%BC%88%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F%EF%BC%89">Facadeæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Flyweight-Pattern(%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F)">Flyweightæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Proxy-Pattern(%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F)">Proxyæ¨¡å¼</a><h2 id="è¡Œä¸ºæ€§è®¾è®¡æ¨¡å¼"><a href="#è¡Œä¸ºæ€§è®¾è®¡æ¨¡å¼" class="headerlink" title="è¡Œä¸ºæ€§è®¾è®¡æ¨¡å¼"></a>è¡Œä¸ºæ€§è®¾è®¡æ¨¡å¼</h2></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Chain-of-Responsibility%E6%A8%A1%E5%BC%8F%EF%BC%88%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F%EF%BC%89">Chain of Responsibilityæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Command%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%EF%BC%89">Commandæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Interpreter-Pattern(%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F%EF%BC%89">Interpreteræ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Iterator%E6%A8%A1%E5%BC%8F">Iteratoræ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Mediator%E6%A8%A1%E5%BC%8F%EF%BC%88%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%89">Mediatoræ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Memento-Pattern%EF%BC%88%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F%EF%BC%89">Mementoæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Observer%E6%A8%A1%E5%BC%8F%EF%BC%88%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%EF%BC%89">Observeræ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/State-Pattern%E6%A8%A1%E5%BC%8F%EF%BC%88%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%EF%BC%89">Stateæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Strategy-Pattern%E6%A8%A1%E5%BC%8F%EF%BC%88%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F%EF%BC%89">Strategyæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Template-Method%EF%BC%88%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%89">Template Methodæ¨¡å¼</a></li>
<li><a href="/nirvana/DesignPattern/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88TypeScript%EF%BC%89/Visitor-Pattern(%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F)">Visitoræ¨¡å¼</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/javascript/%E5%89%8D%E7%AB%AF/CSS3%E6%B5%8B%E8%AF%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/javascript/%E5%89%8D%E7%AB%AF/CSS3%E6%B5%8B%E8%AF%95/" class="post-title-link" itemprop="url">CSS3æµ‹è¯•</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
        </span>
    </span>

  
    <span id="/nirvana/javascript/%E5%89%8D%E7%AB%AF/CSS3%E6%B5%8B%E8%AF%95/" class="post-meta-item leancloud_visitors" data-flag-title="CSS3æµ‹è¯•" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>25k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>23 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><img src="https://upload-images.jianshu.io/upload_images/10024246-e54779fc756f5400.gif?imageMogr2/auto-orient/strip"><br>ä¸Šè¾¹çš„â€œå›¾åƒâ€å¹¶éå›¾ç‰‡ï¼Œè€Œæ˜¯çº¯CSS ã€‚è½¬è½½å¤–éƒ¨ç½‘ç«™<a target="_blank" rel="noopener" href="https://purecss3.net/doraemon/doraemon_css3.html">ç‚¹è¿™é‡Œ</a>ç”±äºè¢«å¢™ï¼Œæºä»£ç copyå¦‚ä¸‹ï¼š</p>
<h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!-- saved from url&#x3D;(0048)https:&#x2F;&#x2F;purecss3.net&#x2F;doraemon&#x2F;doraemon_css3.html --&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;ja&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta http-equiv&#x3D;&quot;Content-Type&quot; content&#x3D;&quot;text&#x2F;html; charset&#x3D;UTF-8&quot;&gt;</span><br><span class="line"></span><br><span class="line">	&lt;title&gt;CSS3 ãƒ‰ãƒ©ãˆã‚‚ã‚“ - Pure CSS Design&lt;&#x2F;title&gt;</span><br><span class="line">	&lt;meta name&#x3D;&quot;description&quot; content&#x3D;&quot;å›½æ°‘çš„ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã§ã‚ã‚‹ã€Œãƒ‰ãƒ©ãˆã‚‚ã‚“ã€ã‚’ç”»åƒã‚’ä½¿ã‚ãšCSS3ã ã‘ã§æ›¸ã„ã¦ã¿ãŸï¼&quot;&gt;</span><br><span class="line">	&lt;meta name&#x3D;&quot;keywords&quot; content&#x3D;&quot;CSS3,ãƒ‰ãƒ©ãˆã‚‚ã‚“,CSS,Doraemon,ãƒ‰ãƒ©&quot;&gt;</span><br><span class="line">	&lt;link rel&#x3D;&quot;stylesheet&quot; type&#x3D;&quot;text&#x2F;css&quot; href&#x3D;&quot;.&#x2F;CSS3 ãƒˆã‚™ãƒ©ãˆã‚‚ã‚“ - Pure CSS Design_files&#x2F;dora3.css&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;div id&#x3D;&quot;doraemon&quot;&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;face&quot;&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;head_light&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;eyes&quot;&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;eye eye_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;black_eye black_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">				&lt;div class&#x3D;&quot;eye eye_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;black_eye black_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;base&quot;&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;base_white&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;nose&quot;&gt;</span><br><span class="line">					&lt;div id&#x3D;&quot;nose_light&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;nose_line&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;mouth&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;mouth_rewrite&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;firefox_mouth&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">				&lt;div class&#x3D;&quot;whiskers whi_right_top rotate160&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;whiskers whi_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;whiskers whi_right_bottom rotate20&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">				&lt;div class&#x3D;&quot;whiskers whi_left_top rotate20&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;whiskers whi_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div class&#x3D;&quot;whiskers whi_left_bottom rotate160&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;choker&quot;&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;belt&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;bell&quot;&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;bell_line&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;bell_circle&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;bell_under&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;bell_light&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;body&quot;&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;doutai&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;base_white2 doutai_center&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;pocket&quot;&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;circle&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">				&lt;div id&#x3D;&quot;circle_rewrite&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;hand_right&quot;&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;arm_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;hand_circle hand_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;arm_rewrite_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;hand_left&quot;&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;arm_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;hand_circle hand_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div class&#x3D;&quot;arm_rewrite_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;foot&quot;&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;foot_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;foot_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">			&lt;div id&#x3D;&quot;foot_rewrite&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;shadow_doutai_arm&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;shadow_doutai_left&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;shadow_doutai_right&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">		&lt;div id&#x3D;&quot;shadow_belt&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">	&lt;div id&#x3D;&quot;footer&quot;&gt;</span><br><span class="line">		&lt;p&gt;These are Samples drawn with CSS3 only, with no images. by &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;twitter.com&#x2F;shop_dd&quot;</span><br><span class="line">				title&#x3D;&quot;Twitter shopdd&quot;&gt;@shop_dd&lt;&#x2F;a&gt;&lt;br&gt;Return to &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;purecss3.net&#x2F;&quot;&gt;Pure CSS</span><br><span class="line">				Design&lt;&#x2F;a&gt;.&amp;nbsp;&amp;nbsp;Read about &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;shopdd.jp&#x2F;blog-entry-932.html&quot; target&#x3D;&quot;_blank&quot;&gt;the</span><br><span class="line">				CSS3 Doraemon on shop DD&lt;&#x2F;a&gt; . &lt;br&gt;&lt;&#x2F;p&gt;</span><br><span class="line">	&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&lt;audio controls&#x3D;&quot;controls&quot; style&#x3D;&quot;display: none;&quot;&gt;&lt;&#x2F;audio&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">	#yddContainer &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		font-family: Microsoft YaHei;</span><br><span class="line">		position: relative;</span><br><span class="line">		width: 100%;</span><br><span class="line">		height: 100%;</span><br><span class="line">		top: -4px;</span><br><span class="line">		left: -4px;</span><br><span class="line">		font-size: 12px;</span><br><span class="line">		border: 1px solid</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddTop &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		height: 22px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddTopBorderlr &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		position: static;</span><br><span class="line">		height: 17px;</span><br><span class="line">		padding: 2px 28px;</span><br><span class="line">		line-height: 17px;</span><br><span class="line">		font-size: 12px;</span><br><span class="line">		color: #5079bb;</span><br><span class="line">		font-weight: bold;</span><br><span class="line">		border-style: none solid;</span><br><span class="line">		border-width: 1px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddTopBorderlr .ydd-sp &#123;</span><br><span class="line">		position: absolute;</span><br><span class="line">		top: 2px;</span><br><span class="line">		height: 0;</span><br><span class="line">		overflow: hidden</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-icon &#123;</span><br><span class="line">		left: 5px;</span><br><span class="line">		width: 17px;</span><br><span class="line">		padding: 0px 0px 0px 0px;</span><br><span class="line">		padding-top: 17px;</span><br><span class="line">		background-position: -16px -44px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-close &#123;</span><br><span class="line">		right: 5px;</span><br><span class="line">		width: 16px;</span><br><span class="line">		padding-top: 16px;</span><br><span class="line">		background-position: left -44px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddKeyTitle &#123;</span><br><span class="line">		float: left;</span><br><span class="line">		text-decoration: none</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddMiddle &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		margin-bottom: 10px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-tabs &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		margin: 5px 0;</span><br><span class="line">		padding: 0 5px;</span><br><span class="line">		height: 18px;</span><br><span class="line">		border-bottom: 1px solid</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-tab &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		float: left;</span><br><span class="line">		height: 18px;</span><br><span class="line">		margin: 0 5px -1px 0;</span><br><span class="line">		padding: 0 4px;</span><br><span class="line">		line-height: 18px;</span><br><span class="line">		border: 1px solid;</span><br><span class="line">		border-bottom: none</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-trans-container &#123;</span><br><span class="line">		display: block;</span><br><span class="line">		line-height: 160%</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-trans-container a &#123;</span><br><span class="line">		text-decoration: none;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddBottom &#123;</span><br><span class="line">		position: absolute;</span><br><span class="line">		bottom: 0;</span><br><span class="line">		left: 0;</span><br><span class="line">		width: 100%;</span><br><span class="line">		height: 22px;</span><br><span class="line">		line-height: 22px;</span><br><span class="line">		overflow: hidden;</span><br><span class="line">		background-position: left -22px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-padding010 &#123;</span><br><span class="line">		padding: 0 10px</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddWrapper &#123;</span><br><span class="line">		color: #252525;</span><br><span class="line">		z-index: 10001;</span><br><span class="line">		background: url(chrome-extension:&#x2F;&#x2F;eopjamdnofihpioajgfdikhhbobonhbb&#x2F;ab20.png);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddContainer &#123;</span><br><span class="line">		background: #fff;</span><br><span class="line">		border-color: #4b7598</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddTopBorderlr &#123;</span><br><span class="line">		border-color: #f0f8fc</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddWrapper .ydd-sp &#123;</span><br><span class="line">		background-image: url(chrome-extension:&#x2F;&#x2F;eopjamdnofihpioajgfdikhhbobonhbb&#x2F;ydd-sprite.png)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddWrapper a,</span><br><span class="line">	#yddWrapper a:hover,</span><br><span class="line">	#yddWrapper a:visited &#123;</span><br><span class="line">		color: #50799b</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddWrapper .ydd-tabs &#123;</span><br><span class="line">		color: #959595</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	.ydd-tabs,</span><br><span class="line">	.ydd-tab &#123;</span><br><span class="line">		background: #fff;</span><br><span class="line">		border-color: #d5e7f3</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddBottom &#123;</span><br><span class="line">		color: #363636</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	#yddWrapper &#123;</span><br><span class="line">		min-width: 250px;</span><br><span class="line">		max-width: 400px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">	background:#fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#doraemon&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	margin:50px;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#head_light&#123;</span><br><span class="line">	width:50px;</span><br><span class="line">	height:50px;</span><br><span class="line">	transform: rotate(20deg);</span><br><span class="line">		-webkit-transform: rotate(20deg);</span><br><span class="line">		-moz-transform: rotate(20deg);</span><br><span class="line">		-o-transform: rotate(20deg);</span><br><span class="line">		-ms-transform: rotate(20deg);</span><br><span class="line">	box-shadow:80px 20px 50px #fff;</span><br><span class="line">		-webkit-box-shadow:80px 20px 55px #fff;</span><br><span class="line">		-moz-box-shadow:80px 20px 50px #fff;</span><br><span class="line">	border-radius:45px;</span><br><span class="line">		-webkit-border-radius:45px;</span><br><span class="line">		-moz-border-radius:60px;</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:-20px;</span><br><span class="line">	left:170px;</span><br><span class="line">	opacity:0.5</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#face&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:310px;</span><br><span class="line">	height:300px;</span><br><span class="line">	border-radius:146px;</span><br><span class="line">		-webkit-border-radius:146px;</span><br><span class="line">		-moz-border-radius:146px;</span><br><span class="line">	background:#07beea;	</span><br><span class="line">	background: linear-gradient(right top, #fff,#07beea 20%, #10a6ce 73% ,#000 95% ,#000 155%); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff,#07beea 20%, #10a6ce 73% ,#000 95% ,#000 155%); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff,#07beea 20%, #10a6ce 73% ,#000 95% ,#000 155%); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff,#07beea 20%, #10a6ce 73% ,#000 95% ,#000 155%); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff,#07beea 20%, #10a6ce 73% ,#000 95% ,#000 155%);  </span><br><span class="line">	border:#333 2px solid;</span><br><span class="line">	top:-15px;</span><br><span class="line">	box-shadow:-5px 10px 15px rgba(0,0,0,0.45);</span><br><span class="line">		-webkit-box-shadow:-5px 10px 15px rgba(0,0,0,0.45);</span><br><span class="line">		-moz-box-shadow:-5px 10px 15px rgba(0,0,0,0.45);</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#base&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:-5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#base_white&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	border:#000 2px solid;</span><br><span class="line">	width:264px;</span><br><span class="line">	height:196px;</span><br><span class="line">	border-radius: 150px 150px;</span><br><span class="line">		-webkit-border-radius: 150px 150px;</span><br><span class="line">		-moz-border-radius: 150px 150px;</span><br><span class="line">	background:#FFF;</span><br><span class="line">	background: linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">	z-index:1;</span><br><span class="line">	top:85px;</span><br><span class="line">	left:22px;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#eyes&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:-5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.eye&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	border-radius: 35px 35px;</span><br><span class="line">		-webkit-border-radius: 35px 35px;</span><br><span class="line">		-moz-border-radius: 35px 35px;</span><br><span class="line">	border:2px solid #000;</span><br><span class="line">	width:72px;</span><br><span class="line">	height:83px;</span><br><span class="line">	z-index:20;</span><br><span class="line">	background:#fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.black_eye&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	width:15px;</span><br><span class="line">	height:15px;</span><br><span class="line">	border-radius:10px;</span><br><span class="line">		-webkit-border-radius:10px;</span><br><span class="line">		-moz-border-radius:10px;</span><br><span class="line">	background:#333;</span><br><span class="line">	z-index:21;</span><br><span class="line">		-webkit-animation-name: cate;</span><br><span class="line">		-webkit-animation-duration: 10s;</span><br><span class="line">		-webkit-animation-timing-function: linear;</span><br><span class="line">		-webkit-animation-iteration-count: 200;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@-webkit-keyframes cate&#123;</span><br><span class="line">	0%&#123;</span><br><span class="line">		margin:0 0 0 0;</span><br><span class="line">	&#125;</span><br><span class="line">	80%	&#123;</span><br><span class="line">		margin:0px 0 0 0;</span><br><span class="line">	&#125;</span><br><span class="line">	85%	&#123;</span><br><span class="line">		margin:-20px 0 0 0;</span><br><span class="line">	&#125;</span><br><span class="line">	90%&#123;</span><br><span class="line">		margin:0 0 0 0;</span><br><span class="line">	&#125;</span><br><span class="line">	93%&#123;</span><br><span class="line">		margin:0 0 0 7px;</span><br><span class="line">	&#125;</span><br><span class="line">	96%&#123;</span><br><span class="line">		margin:0 0 0 0;</span><br><span class="line">	&#125;</span><br><span class="line">	100%&#123;</span><br><span class="line">		margin:0 0 0 0;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.black_left&#123;</span><br><span class="line">	top:100px;</span><br><span class="line">	left:130px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.black_right&#123;</span><br><span class="line">	top:100px;</span><br><span class="line">	left:170px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.eye_left&#123;</span><br><span class="line">	top:45px;</span><br><span class="line">	left:82px;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.eye_right&#123;</span><br><span class="line">	top:45px;</span><br><span class="line">	left:156px;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#nose&#123;</span><br><span class="line">	width:32px;</span><br><span class="line">	height:32px;</span><br><span class="line">	border:2px solid #000;</span><br><span class="line">	border-radius:50px;</span><br><span class="line">		-webkit-border-radius:50px;</span><br><span class="line">		-moz-border-radius:50px;</span><br><span class="line">	background:#c93e00;</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:117px;</span><br><span class="line">	left:139px;</span><br><span class="line">	z-index:30;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#nose_light&#123;</span><br><span class="line">	width:10px;</span><br><span class="line">	height:10px;</span><br><span class="line">	border-radius:5px;</span><br><span class="line">		-webkit-border-radius:5px;</span><br><span class="line">		-moz-border-radius:5px;</span><br><span class="line">	box-shadow:19px 8px 5px #fff;</span><br><span class="line">		-webkit-box-shadow:19px 8px 5px #fff;</span><br><span class="line">		-moz-box-shadow:19px 8px 5px #fff;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:0px;</span><br><span class="line">	left:0px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#nose_line&#123;</span><br><span class="line">	background:#333;</span><br><span class="line">	width:3px;</span><br><span class="line">	height:100px;</span><br><span class="line">	top:140px;</span><br><span class="line">	left:155px;</span><br><span class="line">	position:absolute;</span><br><span class="line">		z-index:20;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#mouth&#123;</span><br><span class="line">	width:240px;</span><br><span class="line">	height:240px;</span><br><span class="line">	border-bottom:3px solid #333;</span><br><span class="line">	border-radius:120px;</span><br><span class="line">		-webkit-border-radius:120px;</span><br><span class="line">		-moz-border-radius:120px;</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:0px;</span><br><span class="line">	left:35px;</span><br><span class="line">	z-index:50;</span><br><span class="line">	clip:rect(205px auto auto auto);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.whiskers&#123;</span><br><span class="line">	background:#333;</span><br><span class="line">	height:2px;</span><br><span class="line">	width:60px;</span><br><span class="line">	position:absolute;</span><br><span class="line">	z-index:20;</span><br><span class="line">&#125;</span><br><span class="line">.whi_right&#123;</span><br><span class="line">	top:165px;</span><br><span class="line">	left:210px;	</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line">.whi_right_top&#123;</span><br><span class="line">	top:145px;</span><br><span class="line">	left:210px;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line">.whi_right_bottom&#123;</span><br><span class="line">	top:185px;</span><br><span class="line">	left:210px;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line">.whi_left&#123;</span><br><span class="line">	top:165px;</span><br><span class="line">	left:50px;	</span><br><span class="line">&#125;	</span><br><span class="line">.whi_left_top&#123;</span><br><span class="line">	top:145px;</span><br><span class="line">	left:50px;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line">.whi_left_bottom&#123;</span><br><span class="line">	top:185px;</span><br><span class="line">	left:50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.rotate20&#123;</span><br><span class="line">	transform: rotate(20deg);</span><br><span class="line">		-webkit-transform: rotate(20deg);</span><br><span class="line">		-moz-transform: rotate(20deg);</span><br><span class="line">		-o-transform: rotate(20deg);</span><br><span class="line">		-ms-transform: rotate(20deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.rotate160&#123;</span><br><span class="line">	transform: rotate(160deg);</span><br><span class="line">		-webkit-transform: rotate(160deg);</span><br><span class="line">		-moz-transform: rotate(160deg);</span><br><span class="line">		-o-transform: rotate(160deg);</span><br><span class="line">		-ms-transform: rotate(160deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#choker&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:-55px;</span><br><span class="line">	left:35px;</span><br><span class="line">	z-index:100;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#belt&#123;</span><br><span class="line">	width:230px;</span><br><span class="line">	height:20px;</span><br><span class="line">	border:#000 solid 2px;</span><br><span class="line">	background:#ca4100;</span><br><span class="line">	background: linear-gradient(top, #ca4100, #800400); </span><br><span class="line">		background: -webkit-linear-gradient(top, #ca4100, #800400); </span><br><span class="line">		background: -moz-linear-gradient(top, #ca4100, #800400); </span><br><span class="line">		background: -o-linear-gradient(top, #ca4100, #800400); </span><br><span class="line">		background: -ms-linear-gradient(top, #ca4100, #800400); </span><br><span class="line">	border-radius:10px;	</span><br><span class="line">		-webkit-border-radius:10px;	</span><br><span class="line">		-moz-border-radius:10px;</span><br><span class="line">		position:relative;</span><br><span class="line">	left:5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#bell&#123;</span><br><span class="line">	width:40px;</span><br><span class="line">	height:40px;</span><br><span class="line">	border-radius:50px;</span><br><span class="line">		-webkit-border-radius:50px;</span><br><span class="line">		-moz-border-radius:50px;</span><br><span class="line">	border:2px solid #000;</span><br><span class="line">	background:#f9f12a;</span><br><span class="line">	background: linear-gradient(top, #f9f12a, #e9e11a 75%,#a9a100); </span><br><span class="line">		background: -webkit-linear-gradient(top, #f9f12a, #e9e11a 75%,#a9a100); </span><br><span class="line">		background: -moz-linear-gradient(top, #f9f12a, #e9e11a 75%,#a9a100); </span><br><span class="line">		background: -o-linear-gradient(top, #f9f12a, #e9e11a 75%,#a9a100); </span><br><span class="line">		background: -ms-linear-gradient(top, #f9f12a, #e9e11a 75%,#a9a100); </span><br><span class="line">	box-shadow:-5px 5px 10px rgba(0,0,0,0.25);</span><br><span class="line">		-webkit-box-shadow:-5px 3px 5px rgba(0,0,0,0.25);</span><br><span class="line">		-moz-box-shadow:-5px 5px 10px rgba(0,0,0,0.25);</span><br><span class="line">	position:relative;</span><br><span class="line">	top:-15px;</span><br><span class="line">	left:100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#bell_line&#123;</span><br><span class="line">	width:36px;</span><br><span class="line">	height:2px;</span><br><span class="line">	background:#f9f12a;</span><br><span class="line">	border:#333 solid 2px;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#bell_circle&#123;</span><br><span class="line">	width:12px;</span><br><span class="line">	height:10px;</span><br><span class="line">	border-radius:5px;</span><br><span class="line">		-webkit-border-radius:5px;</span><br><span class="line">		-moz-border-radius:5px;</span><br><span class="line">	background:#000;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:14px;</span><br><span class="line">	left:14px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#bell_under&#123;</span><br><span class="line">	width:3px;</span><br><span class="line">	height:15px;</span><br><span class="line">	background:#000;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:10px;</span><br><span class="line">	left:18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#bell_light&#123;</span><br><span class="line">	width:10px;</span><br><span class="line">	height:10px;</span><br><span class="line">	border-radius:10px;</span><br><span class="line">		-webkit-border-radius:10px;</span><br><span class="line">		-moz-border-radius:10px;</span><br><span class="line">	box-shadow:19px 8px 5px #fff;</span><br><span class="line">		-webkit-box-shadow:19px 8px 5px #fff;</span><br><span class="line">		-moz-box-shadow:19px 8px 5px #fff;</span><br><span class="line">	position:relative;</span><br><span class="line">	opacity:0.7;</span><br><span class="line">	top:-35px;</span><br><span class="line">	left:5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#doutai&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	width:220px;</span><br><span class="line">	height:165px;</span><br><span class="line">	background:#07beea;</span><br><span class="line">	background: linear-gradient(right, #07beea, #0073b3 50%,#0096be 75%,#00b0e0 ,#0096be 100% ,#333 114%); </span><br><span class="line">		background: -webkit-linear-gradient(right, #07beea, #0073b3 50%,#0096be 75%,#00b0e0 ,#0096be 100% ,#333 114%); </span><br><span class="line">		background: -moz-linear-gradient(right, #07beea, #0073b3 50%,#0096be 75%,#00b0e0 ,#0096be 100% ,#333 114%); </span><br><span class="line">		background: -o-linear-gradient(right, #07beea, #0073b3 50%,#0096be 75%,#00b0e0 ,#0096be 100% ,#333 114%); </span><br><span class="line">		background: -ms-linear-gradient(right, #07beea, #0073b3 50%,#0096be 75%,#00b0e0 ,#0096be 100% ,#333 114%); </span><br><span class="line">	border:#333 2px solid;</span><br><span class="line">	top:262px;</span><br><span class="line">	left:46px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.base_white2&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	width:170px;</span><br><span class="line">	height:170px;</span><br><span class="line">	border-radius:85px;</span><br><span class="line">		-webkit-border-radius:85px;</span><br><span class="line">		-moz-border-radius:85px;</span><br><span class="line">	border:2px solid #000;</span><br><span class="line">	background:#FFF;</span><br><span class="line">	background: linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff,#fff 75%, #eee 83%,#999 90%,#444 95%, #000); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.doutai_center&#123;</span><br><span class="line">	top:230px;</span><br><span class="line">	left:72px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#circle&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:130px;</span><br><span class="line">	height:130px;</span><br><span class="line">	border-radius:65px;</span><br><span class="line">		-webkit-border-radius:65px;</span><br><span class="line">		-moz-border-radius:65px;</span><br><span class="line">	background:#fff;</span><br><span class="line">	background: linear-gradient(right top, #fff, #fff 70%,#f8f8f8 75%,#eee 80%,#ddd 88% , #fff); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff, #fff 70%,#f8f8f8 75%,#eee 80%,#ddd 88% , #fff); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff, #fff 70%,#f8f8f8 75%,#eee 80%,#ddd 88% , #fff); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff, #fff 70%,#f8f8f8 75%,#eee 80%,#ddd 88% , #fff); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff, #fff 70%,#f8f8f8 75%,#eee 80%,#ddd 88% , #fff);  </span><br><span class="line">	border:2px solid #000;</span><br><span class="line">	top:-120px;</span><br><span class="line">	left:92px;</span><br><span class="line">&#125;</span><br><span class="line">#circle_rewrite&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:134px;</span><br><span class="line">	height:60px;</span><br><span class="line">	background:#fff;	</span><br><span class="line">	border-bottom:2px solid #000;</span><br><span class="line">	top:-250px;</span><br><span class="line">	left:92px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#hand_right&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:272px;</span><br><span class="line">	left:248px;</span><br><span class="line">	width:100px;</span><br><span class="line">	height:100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#arm_right&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:80px;</span><br><span class="line">	height:50px;</span><br><span class="line">	background:#07beea;</span><br><span class="line">	background: linear-gradient(top, #07beea, #07beea 85%, #555); </span><br><span class="line">		background: -webkit-linear-gradient(top, #07beea, #07beea 85%, #555); </span><br><span class="line">		background: -moz-linear-gradient(top, #07beea, #07beea 85%, #555); </span><br><span class="line">		background: -o-linear-gradient(top, #07beea, #07beea 85%, #555); </span><br><span class="line">		background: -ms-linear-gradient(top, #07beea, #07beea 85%, #555); </span><br><span class="line">	border:solid 1px #000;</span><br><span class="line">	z-index:-1;</span><br><span class="line">	top:17px;</span><br><span class="line">	transform: rotate(35deg);</span><br><span class="line">		-webkit-transform: rotate(35deg);</span><br><span class="line">		-moz-transform: rotate(35deg);</span><br><span class="line">		-o-transform: rotate(35deg);</span><br><span class="line">		-ms-transform: rotate(35deg);</span><br><span class="line">	box-shadow:-10px 7px 10px rgba(0,0,0,0.35);</span><br><span class="line">		-webkit-box-shadow:-10px 7px 10px rgba(0,0,0,0.35);</span><br><span class="line">		-moz-box-shadow:-10px 7px 10px rgba(0,0,0,0.35);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#hand_left&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:272px;</span><br><span class="line">	left:-46px;</span><br><span class="line">	width:100px;</span><br><span class="line">	height:100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#arm_left&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:80px;</span><br><span class="line">	height:50px;</span><br><span class="line">	background:#07beea;</span><br><span class="line">	background: linear-gradient(top left, #0096be, #0096be 55%, #07beea); </span><br><span class="line">		background: -webkit-linear-gradient(top left, #0096be, #0096be 55%, #07beea); </span><br><span class="line">		background: -moz-linear-gradient(top left, #0096be, #0096be 55%, #07beea); </span><br><span class="line">		background: -o-linear-gradient(top left, #0096be, #0096be 55%, #07beea); </span><br><span class="line">		background: -ms-linear-gradient(top left, #0096be, #0096be 55%, #07beea); </span><br><span class="line">	border:solid 1px #000;</span><br><span class="line">	z-index:-1;</span><br><span class="line">	top:17px;</span><br><span class="line">	left:36px;</span><br><span class="line">	transform: rotate(145deg);</span><br><span class="line">		-webkit-transform: rotate(145deg);</span><br><span class="line">		-moz-transform: rotate(145deg);</span><br><span class="line">		-o-transform: rotate(145deg);</span><br><span class="line">		-ms-transform: rotate(145deg);</span><br><span class="line">	box-shadow:5px -7px 10px rgba(0,0,0,0.25);</span><br><span class="line">		-webkit-box-shadow:5px -7px 10px rgba(0,0,0,0.25);</span><br><span class="line">		-moz-box-shadow:5px -7px 10px rgba(0,0,0,0.25);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.hand_circle&#123;</span><br><span class="line">	position:absolute;</span><br><span class="line">	width:60px;</span><br><span class="line">	height:60px;</span><br><span class="line">	border-radius:30px;</span><br><span class="line">		-webkit-border-radius:30px;</span><br><span class="line">		-moz-border-radius:30px;</span><br><span class="line">	border:2px solid #000;</span><br><span class="line">	background:#fff;</span><br><span class="line">	background: linear-gradient(right top, #fff, #fff 50%, #eee 70%, #ddd 80%,#999); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff, #fff 50%, #eee 70%, #ddd 80%,#999); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff, #fff 50%, #eee 70%, #ddd 80%,#999); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff, #fff 50%, #eee 70%, #ddd 80%,#999); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff, #fff 50%, #eee 70%, #ddd 80%,#999); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hand_right&#123;</span><br><span class="line">	top:32px;</span><br><span class="line">	left:40px;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.arm_rewrite_right&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:4px;</span><br><span class="line">	height:45px;</span><br><span class="line">	background:#07beea;</span><br><span class="line">	top:-51px;</span><br><span class="line">	left:18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hand_left&#123;</span><br><span class="line">	top:34px;</span><br><span class="line">	left:10px;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.arm_rewrite_left&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:4px;</span><br><span class="line">	height:50px;</span><br><span class="line">	background:#07beea;</span><br><span class="line">	background: linear-gradient(top left, #0096be, #0096be); </span><br><span class="line">		background: -webkit-linear-gradient(top left, #0096be, #0096be); </span><br><span class="line">		background: -moz-linear-gradient(top left, #0096be, #0096be); </span><br><span class="line">		background: -o-linear-gradient(top left, #0096be, #0096be); </span><br><span class="line">		background: -ms-linear-gradient(top left, #0096be, #0096be); </span><br><span class="line">	top:-52px;</span><br><span class="line">	left:92px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#foot&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:280px;</span><br><span class="line">	height:40px;</span><br><span class="line">	top:-141px;</span><br><span class="line">	left:20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#foot_left&#123;</span><br><span class="line">	width:125px;</span><br><span class="line">	height:30px;</span><br><span class="line">	background:#fff;</span><br><span class="line">	background: linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">	border:solid 2px #333;</span><br><span class="line">	border-top-left-radius:80px;</span><br><span class="line">	border-bottom-left-radius:40px;</span><br><span class="line">	border-top-right-radius:60px;</span><br><span class="line">	border-bottom-right-radius:60px;</span><br><span class="line">		-webkit-border-top-left-radius:80px;</span><br><span class="line">		-webkit-border-bottom-left-radius:40px;</span><br><span class="line">		-webkit-border-top-right-radius:60px;</span><br><span class="line">		-webkit-border-bottom-right-radius:60px;</span><br><span class="line">		-moz-border-radius-topleft:80px;</span><br><span class="line">		-moz-border-radius-bottomleft:40px;</span><br><span class="line">		-moz-border-radius-topright:60px;</span><br><span class="line">		-moz-border-radius-bottomright:60px;</span><br><span class="line">	position:relative;</span><br><span class="line">	left:8px;</span><br><span class="line">	top:2px;</span><br><span class="line">	box-shadow:-6px 0px 10px rgba(0,0,0,0.35);</span><br><span class="line">		-webkit-box-shadow:-6px 0px 10px rgba(0,0,0,0.35);</span><br><span class="line">		-moz-box-shadow:-6px 0px 10px rgba(0,0,0,0.35);</span><br><span class="line">	z-index:-1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#foot_right&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:125px;</span><br><span class="line">	height:30px;</span><br><span class="line">	background:#fff;</span><br><span class="line">	background: linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -moz-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -o-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">		background: -ms-linear-gradient(right top, #fff,#fff 75%, #eee 85%, #999); </span><br><span class="line">	border:solid 2px #333;</span><br><span class="line">	border-top-left-radius:60px;</span><br><span class="line">	border-bottom-left-radius:60px;</span><br><span class="line">	border-top-right-radius:80px;</span><br><span class="line">	border-bottom-right-radius:40px;</span><br><span class="line">		-webkit-border-top-left-radius:60px;</span><br><span class="line">		-webkit-border-bottom-left-radius:60px;</span><br><span class="line">		-webkit-border-top-right-radius:80px;</span><br><span class="line">		-webkit-border-bottom-right-radius:40px;</span><br><span class="line">		-moz-border-radius-topleft:60px;</span><br><span class="line">		-moz-border-radius-bottomleft:60px;</span><br><span class="line">		-moz-border-radius-topright:80px;</span><br><span class="line">		-moz-border-radius-bottomright:40px;</span><br><span class="line">	top:-32px;</span><br><span class="line">	left:141px;</span><br><span class="line">	box-shadow:-6px 0px 10px rgba(0,0,0,0.35);</span><br><span class="line">		-webkit-box-shadow:-6px 0px 10px rgba(0,0,0,0.35);</span><br><span class="line">		-moz-box-shadow:-6px 0px 10px rgba(0,0,0,0.35);</span><br><span class="line">	z-index:-1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#foot_rewrite&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	width:20px;</span><br><span class="line">	height:10px;</span><br><span class="line">	background:#fff;</span><br><span class="line">	background: linear-gradient(right top, #666, #fff 83%, #fff); </span><br><span class="line">		background: -webkit-linear-gradient(right top, #666, #fff 83%, #fff); </span><br><span class="line">		background: -moz-linear-gradient(right top, #666, #fff 83%, #fff); </span><br><span class="line">		background: -o-linear-gradient(right top, #666, #fff 83%, #fff); </span><br><span class="line">		background: -ms-linear-gradient(right top, #666, #fff 83%, #fff); </span><br><span class="line">	top:-76px;</span><br><span class="line">	left:127px;</span><br><span class="line">	border-top:2px solid #000;</span><br><span class="line">	border-right:2px solid #000;</span><br><span class="line">	border-left:2px solid #000;</span><br><span class="line">	border-top-right-radius:40px;</span><br><span class="line">	border-top-left-radius:40px;</span><br><span class="line">		-webkit-border-top-right-radius:40px;</span><br><span class="line">		-webkit-border-top-left-radius:40px;</span><br><span class="line">		-moz-border-radius-topleft:40px;</span><br><span class="line">		-moz-border-radius-topright:40px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#shadow_doutai_left&#123;</span><br><span class="line">	width:30px;</span><br><span class="line">	height:200px;</span><br><span class="line">	box-shadow:-10px 10px 15px rgba(0,0,0,0.45);</span><br><span class="line">		-webkit-box-shadow:-10px 10px 15px rgba(0,0,0,0.45);</span><br><span class="line">		-moz-box-shadow:-10px 10px 15px rgba(0,0,0,0.45);</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:250px;</span><br><span class="line">	left:46px;</span><br><span class="line">	z-index:-10;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#shadow_doutai_right&#123;</span><br><span class="line">	width:30px;</span><br><span class="line">	height:200px;</span><br><span class="line">	box-shadow:10px 10px 15px rgba(0,0,0,0.35);</span><br><span class="line">		-webkit-box-shadow:10px 10px 25px rgba(0,0,0,0.35);</span><br><span class="line">		-moz-box-shadow:10px 10px 15px rgba(0,0,0,0.35);</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:240px;</span><br><span class="line">	left:230px;</span><br><span class="line">	z-index:-10;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#shadow_doutai_arm&#123;</span><br><span class="line">	width:85px;</span><br><span class="line">	height:165px;</span><br><span class="line">	box-shadow:-100px 10px 15px rgba(0,0,0,0.0);</span><br><span class="line">		-webkit-box-shadow:-100px 10px 15px rgba(0,0,0,0.25);</span><br><span class="line">		-moz-box-shadow:-100px 10px 15px rgba(0,0,0,0.25);</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:230px;</span><br><span class="line">	left:113px;</span><br><span class="line">	z-index:10;</span><br><span class="line">	opacity:0.5;</span><br><span class="line">	transform: rotate(-20deg);</span><br><span class="line">		-webkit-transform: rotate(-20deg);</span><br><span class="line">		-moz-transform: rotate(-20deg);</span><br><span class="line">		-o-transform: rotate(-20deg);</span><br><span class="line">		ms-transform: rotate(-20deg);</span><br><span class="line">	border-bottom-left-radius:40px;</span><br><span class="line">		-webkit-border-bottom-left-radius:40px;</span><br><span class="line">		-moz-border-radius-bottomleft:40px;</span><br><span class="line">	border-top-left-radius:20px;</span><br><span class="line">		-webkit-border-top-left-radius:20px;</span><br><span class="line">		-moz-border-radius-topleft:20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#shadow_belt&#123;</span><br><span class="line">	width:40px;</span><br><span class="line">	height:30px;</span><br><span class="line">	box-shadow:-100px 10px 15px rgba(0,0,0,0);</span><br><span class="line">		-webkit-box-shadow:-100px 10px 15px rgba(0,0,0,0.25);</span><br><span class="line">		-moz-box-shadow:-100px 10px 15px rgba(0,0,0,0.25);</span><br><span class="line">	position:absolute;</span><br><span class="line">	top:240px;</span><br><span class="line">	left:130px;</span><br><span class="line">	z-index:10;</span><br><span class="line">	border-bottom-left-radius:40px;</span><br><span class="line">		-webkit-border-bottom-left-radius:40px;</span><br><span class="line">		-moz-border-radius-bottomleft:40px;</span><br><span class="line">	z-index:300;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#arm_left:not(\*|*), .arm_rewrite_left:not(\*|*)&#123;</span><br><span class="line">	background:#07beea;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#arm_left, .arm_rewrite_left&#123;</span><br><span class="line">	background:#07beea\9;</span><br><span class="line">	*background:#07beea;</span><br><span class="line">	_background:#07beea;</span><br><span class="line">&#125;</span><br><span class="line">.arm_rewrite_left&#123;</span><br><span class="line">		background: -ms-linear-gradient(top left, #0096be, #0096be);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#arm_left&#123;</span><br><span class="line">		background: -ms-linear-gradient(top left, #0096be, #0096be 55%, #07beea);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#kiji&#123;</span><br><span class="line">	position:relative;</span><br><span class="line">	top:-150px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer&#123;</span><br><span class="line">	width:97%;</span><br><span class="line">	padding:0 0 0 30px;</span><br><span class="line">	border-bottom:#333 1px solid;</span><br><span class="line">	margin:-150px 0 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#footer a,a:link&#123;</span><br><span class="line">	color:#09C;</span><br><span class="line">	position:relative;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/javascript/%E5%89%8D%E7%AB%AF/JS%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/javascript/%E5%89%8D%E7%AB%AF/JS%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">JSè·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
        </span>
    </span>

  
    <span id="/nirvana/javascript/%E5%89%8D%E7%AB%AF/JS%E8%B7%A8%E5%9F%9F%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="post-meta-item leancloud_visitors" data-flag-title="JSè·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>15k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>14 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>&lt;è½¬&gt;<a target="_blank" rel="noopener" href="https://www.imooc.com/article/21976">è¯¦è§£è·¨åŸŸ(æœ€å…¨çš„è§£å†³æ–¹æ¡ˆ)</a></p>
<ol>
<li>ä»€ä¹ˆæ˜¯è·¨åŸŸ<br>è·¨åŸŸï¼Œæ˜¯æŒ‡æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ã€‚å®ƒæ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥é€ æˆçš„ï¼Œæ˜¯æµè§ˆå™¨å¯¹JavaScriptå®æ–½çš„å®‰å…¨é™åˆ¶ã€‚</li>
</ol>
<p>åŒæºç­–ç•¥é™åˆ¶äº†ä¸€ä¸‹è¡Œä¸ºï¼š</p>
<p>Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–<br>DOM å’Œ JS å¯¹è±¡æ— æ³•è·å–<br>Ajaxè¯·æ±‚å‘é€ä¸å‡ºå»<br>2. å¸¸è§çš„è·¨åŸŸåœºæ™¯<br>æ‰€è°“çš„åŒæºæ˜¯æŒ‡ï¼ŒåŸŸåã€åè®®ã€ç«¯å£å‡ä¸ºç›¸åŒã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//www.nealyang.cn/index.html è°ƒç”¨   http://www.nealyang.cn/server.php  éè·¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">http:<span class="comment">//www.nealyang.cn/index.html è°ƒç”¨   http://www.neal.cn/server.php  è·¨åŸŸ,ä¸»åŸŸä¸åŒ</span></span><br><span class="line"></span><br><span class="line">http:<span class="comment">//abc.nealyang.cn/index.html è°ƒç”¨   http://def.neal.cn/server.php  è·¨åŸŸ,å­åŸŸåä¸åŒ</span></span><br><span class="line"></span><br><span class="line">http:<span class="comment">//www.nealyang.cn:8080/index.html è°ƒç”¨   http://www.nealyang.cn/server.php  è·¨åŸŸ,ç«¯å£ä¸åŒ</span></span><br><span class="line"></span><br><span class="line">https:<span class="comment">//www.nealyang.cn/index.html è°ƒç”¨   http://www.nealyang.cn/server.php  è·¨åŸŸ,åè®®ä¸åŒ</span></span><br><span class="line"></span><br><span class="line">localhost   è°ƒç”¨ <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span> è·¨åŸŸ</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>è·¨åŸŸçš„è§£å†³åŠæ³•</li>
<li>1 jsonpè·¨åŸŸ<br>jsonpè·¨åŸŸå…¶å®ä¹Ÿæ˜¯JavaScriptè®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ç§ä»£ç†æ¨¡å¼ã€‚åœ¨htmlé¡µé¢ä¸­é€šè¿‡ç›¸åº”çš„æ ‡ç­¾ä»ä¸åŒåŸŸåä¸‹åŠ è½½é™æ€èµ„æºæ–‡ä»¶æ˜¯è¢«æµè§ˆå™¨å…è®¸çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªâ€œçŠ¯ç½ªæ¼æ´â€æ¥è¿›è¡Œè·¨åŸŸã€‚ä¸€èˆ¬ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€çš„åˆ›å»ºscriptæ ‡ç­¾ï¼Œå†å»è¯·æ±‚ä¸€ä¸ªå¸¦å‚ç½‘å€æ¥å®ç°è·¨åŸŸé€šä¿¡</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;åŸç”Ÿçš„å®ç°æ–¹å¼</span><br><span class="line">let script &#x3D; document.createElement(&#39;script&#39;);</span><br><span class="line"></span><br><span class="line">script.src &#x3D; &#39;http:&#x2F;&#x2F;www.nealyang.cn&#x2F;login?username&#x3D;Nealyang&amp;callback&#x3D;callback&#39;;</span><br><span class="line"></span><br><span class="line">document.body.appendChild(script);</span><br><span class="line"></span><br><span class="line">function callback(res) &#123;</span><br><span class="line">  console.log(res);</span><br><span class="line">&#125;</span><br><span class="line">&#96;&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">å½“ç„¶ï¼Œjqueryä¹Ÿæ”¯æŒjsonpçš„å®ç°æ–¹å¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>$.ajax({<br>    url:â€™<a target="_blank" rel="noopener" href="http://www.nealyang.cn/login&#39;">http://www.nealyang.cn/login&#39;</a>,<br>    type:â€™GETâ€™,<br>    dataType:â€™jsonpâ€™,//è¯·æ±‚æ–¹å¼ä¸ºjsonp<br>    jsonpCallback:â€™callbackâ€™,<br>    data:{<br>        â€œusernameâ€:â€Nealyangâ€<br>    }<br>})</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è™½ç„¶è¿™ç§æ–¹å¼éå¸¸å¥½ç”¨ï¼Œä½†æ˜¯ä¸€ä¸ªæœ€å¤§çš„ç¼ºé™·æ˜¯ï¼Œåªèƒ½å¤Ÿå®ç°getè¯·æ±‚</span><br><span class="line"></span><br><span class="line">3.2 document.domain + iframe è·¨åŸŸ</span><br><span class="line">è¿™ç§è·¨åŸŸçš„æ–¹å¼æœ€ä¸»è¦çš„æ˜¯è¦æ±‚ä¸»åŸŸåç›¸åŒã€‚ä»€ä¹ˆæ˜¯ä¸»åŸŸåç›¸åŒå‘¢ï¼Ÿ</span><br><span class="line">www.geekjc.com aaa.geekjc.com ba.ad.geekjc.com è¿™ä¸‰ä¸ªä¸»åŸŸåéƒ½æ˜¯geekjc.com,è€Œä¸»åŸŸåä¸åŒçš„å°±ä¸èƒ½ç”¨æ­¤æ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">å‡è®¾ç›®å‰a.geekjc.com å’Œ b.geekjc.com åˆ†åˆ«å¯¹åº”æŒ‡å‘ä¸åŒipçš„æœåŠ¡å™¨ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>a.geekjc.com ä¸‹æœ‰ä¸€ä¸ªtest.htmlæ–‡ä»¶</p>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>html</title>
    <script type="text/javascript" src = "jquery-1.12.1.js"></script>
</head>
<body>
    <div>Aé¡µé¢</div>
    <iframe 
    style = "display : none" 
    name = "iframe1" 
    id = "iframe" 
    src="http://b.geekjc.com/1.html" frameborder="0"></iframe>
    <script type="text/javascript">
        $(function(){
            try{
                document.domain = "geekjc.com"
            }catch(e){}
            $("#iframe").load(function(){
                var jq = document.getElementById('iframe').contentWindow.$
                jq.get("http://geekjc.com/test.json",function(data){
                    console.log(data);
                });
            })
        })
    </script>
</body>
</html>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åˆ©ç”¨ iframe åŠ è½½ å…¶ä»–åŸŸä¸‹çš„æ–‡ä»¶ï¼ˆgeekjc.com&#x2F;1.htmlï¼‰, åŒæ—¶ document.domain è®¾ç½®æˆ geekjc.com ï¼Œå½“ iframe åŠ è½½å®Œæ¯•åå°±å¯ä»¥è·å– geekjc.com åŸŸä¸‹çš„å…¨å±€å¯¹è±¡ï¼Œ æ­¤æ—¶å°è¯•ç€å»è¯·æ±‚ geekjc.com åŸŸåä¸‹çš„ test.json ï¼ˆæ­¤æ—¶å¯ä»¥è¯·æ±‚æ¥å£ï¼‰ï¼Œå°±ä¼šå‘ç°æ•°æ®è¯·æ±‚å¤±è´¥äº†~~ æƒŠä¸æƒŠå–œï¼Œæ„ä¸æ„å¤–ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span><br><span class="line"></span><br><span class="line">æ•°æ®è¯·æ±‚å¤±è´¥ï¼Œç›®çš„æ²¡æœ‰è¾¾åˆ°ï¼Œè‡ªç„¶æ˜¯è¿˜å°‘ä¸€æ­¥ï¼š</span><br></pre></td></tr></table></figure>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>html</title>
    <script type="text/javascript" src = "jquery-1.12.1.js"></script>
    <script type="text/javascript">
        $(function(){
            try{
                document.domain = "geekjc.com"
            }catch(e){}
        })
    </script>
</head>
<body>
    <div id = "div1">Bé¡µé¢</div>
</body>
</html>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ­¤æ—¶åœ¨è¿›è¡Œåˆ·æ–°æµè§ˆå™¨ï¼Œå°±ä¼šå‘ç°æ•°æ®è¿™æ¬¡çœŸçš„æ˜¯æˆåŠŸäº†~</span><br><span class="line"></span><br><span class="line">3.3 window.name + iframe è·¨åŸŸ</span><br><span class="line">window.nameå±æ€§å¯è®¾ç½®æˆ–è€…è¿”å›å­˜æ”¾çª—å£åç§°çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä»–çš„ç¥å™¨ä¹‹å¤„åœ¨äºnameå€¼åœ¨ä¸åŒé¡µé¢æˆ–è€…ä¸åŒåŸŸä¸‹åŠ è½½åä¾æ—§å­˜åœ¨ï¼Œæ²¡æœ‰ä¿®æ”¹å°±ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨éå¸¸é•¿çš„name(2MB)</span><br><span class="line"></span><br><span class="line">å‡è®¾indexé¡µé¢è¯·æ±‚è¿œç«¯æœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼Œæˆ‘ä»¬åœ¨è¯¥é¡µé¢ä¸‹åˆ›å»ºiframeæ ‡ç­¾ï¼Œè¯¥iframeçš„srcæŒ‡å‘æœåŠ¡å™¨æ–‡ä»¶çš„åœ°å€ï¼ˆiframeæ ‡ç­¾srcå¯ä»¥è·¨åŸŸï¼‰ï¼ŒæœåŠ¡å™¨æ–‡ä»¶é‡Œè®¾ç½®å¥½window.nameçš„å€¼ï¼Œç„¶åå†åœ¨index.htmlé‡Œé¢è¯»å–æ”¹iframeä¸­çš„window.nameçš„å€¼ã€‚å®Œç¾~</span><br></pre></td></tr></table></figure>
<body>
  <script type="text/javascript"> 
    iframe = document.createElement('iframe'),
    iframe.src = 'http://localhost:8080/data.php';
    document.body.appendChild(iframe);
    iframe.onload = function() {
      console.log(iframe.contentWindow.name)
    };
  </script>
</body>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å½“ç„¶ï¼Œè¿™æ ·è¿˜æ˜¯ä¸å¤Ÿçš„ã€‚</span><br><span class="line"></span><br><span class="line">å› ä¸ºè§„å®šå¦‚æœindex.htmlé¡µé¢å’Œå’Œè¯¥é¡µé¢é‡Œçš„iframeæ¡†æ¶çš„srcå¦‚æœä¸åŒæºï¼Œåˆ™ä¹Ÿæ— æ³•æ“ä½œæ¡†æ¶é‡Œçš„ä»»ä½•ä¸œè¥¿ï¼Œæ‰€ä»¥å°±å–ä¸åˆ°iframeæ¡†æ¶çš„nameå€¼äº†ï¼Œå‘Šè¯‰ä½ æˆ‘ä»¬ä¸æ˜¯ä¸€å®¶çš„ï¼Œä½ ä¹Ÿä¼‘æƒ³å¾—åˆ°æˆ‘è¿™é‡Œçš„æ•°æ®ã€‚ æ—¢ç„¶è¦åŒæºï¼Œé‚£å°±æ¢ä¸ªsrcå»æŒ‡ï¼Œå‰é¢è¯´äº†æ— è®ºæ€æ ·åŠ è½½window.nameå€¼éƒ½ä¸ä¼šå˜åŒ–ï¼Œäºæ˜¯æˆ‘ä»¬åœ¨index.htmlç›¸åŒç›®å½•ä¸‹ï¼Œæ–°å»ºäº†ä¸ªproxy.htmlçš„ç©ºé¡µé¢ï¼Œä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure>
<body>
  <script type="text/javascript"> 
    iframe = document.createElement('iframe'),
    iframe.src = 'http://localhost:8080/data.php';
    document.body.appendChild(iframe);
    iframe.onload = function() {
      iframe.src = 'http://localhost:81/cross-domain/proxy.html';
      console.log(iframe.contentWindow.name)
    };
  </script>
</body>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç†æƒ³ä¼¼ä¹å¾ˆç¾å¥½ï¼Œåœ¨iframeè½½å…¥è¿‡ç¨‹ä¸­ï¼Œè¿…é€Ÿé‡ç½®iframe.srcçš„æŒ‡å‘ï¼Œä½¿ä¹‹ä¸index.htmlåŒæºï¼Œé‚£ä¹ˆindexé¡µé¢å°±èƒ½å»è·å–å®ƒçš„nameå€¼äº†ï¼ä½†æ˜¯ç°å®æ˜¯æ®‹é…·çš„ï¼Œiframeåœ¨ç°å®ä¸­çš„è¡¨ç°æ˜¯ä¸€ç›´ä¸åœåœ°åˆ·æ–°ï¼Œ ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œæ¯æ¬¡è§¦å‘onloadæ—¶é—´åï¼Œé‡ç½®srcï¼Œç›¸å½“äºé‡æ–°è½½å…¥é¡µé¢ï¼Œåˆè§¦å‘onloadäº‹ä»¶ï¼Œäºæ˜¯å°±ä¸åœåœ°åˆ·æ–°äº†ï¼ˆä½†æ˜¯éœ€è¦çš„æ•°æ®è¿˜æ˜¯èƒ½è¾“å‡ºçš„ï¼‰ã€‚ä¿®æ”¹åä»£ç å¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure>
<body>
  <script type="text/javascript"> 
    iframe = document.createElement('iframe');
    iframe.style.display = 'none';
    var state = 0;

<pre><code>iframe.onload = function() &#123;
  if(state === 1) &#123;
      var data = JSON.parse(iframe.contentWindow.name);
      console.log(data);
      iframe.contentWindow.document.write(&#39;&#39;);
      iframe.contentWindow.close();
    document.body.removeChild(iframe);
  &#125; else if(state === 0) &#123;
      state = 1;
      iframe.contentWindow.location = &#39;http://localhost:81/cross-domain/proxy.html&#39;;
  &#125;
&#125;;

iframe.src = &#39;http://localhost:8080/data.php&#39;;
document.body.appendChild(iframe);
</code></pre>
<p>  </script></p>
</body>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">æ‰€ä»¥å¦‚ä¸Šï¼Œæˆ‘ä»¬å°±æ‹¿åˆ°äº†æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªæ¡ä»¶æ˜¯å¿…ä¸å¯å°‘çš„ï¼š</span><br><span class="line"></span><br><span class="line">iframeæ ‡ç­¾çš„è·¨åŸŸèƒ½åŠ›</span><br><span class="line">window.nameså±æ€§å€¼åœ¨æ–‡æ¡£åˆ·æ–°åä¾ç„¶å­˜åœ¨çš„èƒ½åŠ›</span><br><span class="line">3.4 location.hash + iframe è·¨åŸŸ</span><br><span class="line">æ­¤è·¨åŸŸæ–¹æ³•å’Œä¸Šé¢ä»‹ç»çš„æ¯”è¾ƒç±»ä¼¼ï¼Œä¸€æ ·æ˜¯åŠ¨æ€æ’å…¥ä¸€ä¸ªiframeç„¶åè®¾ç½®å…¶srcä¸ºæœåŠ¡ç«¯åœ°å€ï¼Œè€ŒæœåŠ¡ç«¯åŒæ ·è¾“å‡ºä¸€ç«¯jsä»£ç ï¼Œä¹ŸåŒæ—¶é€šè¿‡ä¸å­çª—å£ä¹‹é—´çš„é€šä¿¡æ¥å®Œæˆæ•°æ®çš„ä¼ è¾“ã€‚</span><br><span class="line"></span><br><span class="line">å…³äºé”šç‚¹ç›¸ä¿¡å¤§å®¶éƒ½å·²ç»çŸ¥é“äº†ï¼Œå…¶å®å°±æ˜¯è®¾ç½®é”šç‚¹ï¼Œè®©æ–‡æ¡£æŒ‡å®šçš„ç›¸åº”çš„ä½ç½®ã€‚é”šç‚¹çš„è®¾ç½®ç”¨aæ ‡ç­¾ï¼Œç„¶åhrefæŒ‡å‘è¦è·³è½¬åˆ°çš„idï¼Œå½“ç„¶ï¼Œå‰ææ˜¯ä½ å¾—æœ‰ä¸ªæ»šåŠ¨æ¡ï¼Œä¸ç„¶ä¹Ÿä¸å¥½æ»šåŠ¨å˜›æ˜¯å§ã€‚</span><br><span class="line"></span><br><span class="line">è€Œlocation.hashå…¶å®å°±æ˜¯urlçš„é”šç‚¹ã€‚æ¯”å¦‚https:&#x2F;&#x2F;www.geekjc.com#geekjcgçš„ç½‘å€æ‰“å¼€åï¼Œåœ¨æ§åˆ¶å°è¾“å…¥location.hashå°±ä¼šè¿”å›#geekjcçš„å­—æ®µã€‚</span><br><span class="line"></span><br><span class="line">åŸºç¡€çŸ¥è¯†è¡¥å……å®Œæ¯•ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯´ä¸‹å¦‚ä½•å®ç°è·¨åŸŸ</span><br><span class="line"></span><br><span class="line">å¦‚æœindexé¡µé¢è¦è·å–è¿œç«¯æœåŠ¡å™¨çš„æ•°æ®ï¼ŒåŠ¨æ€çš„æ’å…¥ä¸€ä¸ªiframeï¼Œå°†iframeçš„srcæ‰§è¡ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œè¿™æ—¶å€™çš„top window å’ŒåŒ…è£¹è¿™ä¸ªiframeçš„å­çª—å£æ˜¯ä¸èƒ½é€šä¿¡çš„ï¼Œå› ä¸ºåŒæºç­–ç•¥ï¼Œæ‰€ä»¥æ”¹å˜å­çª—å£çš„è·¯å¾„å°±å¯ä»¥äº†ï¼Œå°†æ•°æ®å½“åšæ”¹å˜åçš„è·¯å¾„çš„hashå€¼åŠ è½½è·¯å¾„ä¸Šï¼Œç„¶åå°±å¯ä»¥é€šä¿¡äº†ã€‚å°†æ•°æ®åŠ åœ¨indexé¡µé¢åœ°å€çš„hashä¸Šï¼Œ indexé¡µé¢ç›‘å¬hashçš„å˜åŒ–ï¼Œh5çš„hashchangeæ–¹æ³•</span><br></pre></td></tr></table></figure>
<body>
  <script type="text/javascript">
    function getData(url, fn) {
      var iframe = document.createElement('iframe');
      iframe.style.display = 'none';
      iframe.src = url;

<pre><code>  iframe.onload = function() &#123;
    fn(iframe.contentWindow.location.hash.substring(1));
    window.location.hash = &#39;&#39;;
    document.body.removeChild(iframe);
  &#125;;

  document.body.appendChild(iframe);
&#125;

// get data from server
var url = &#39;http://localhost:8080/data.php&#39;;
getData(url, function(data) &#123;
  var jsondata = JSON.parse(data);
  console.log(jsondata.name + &#39; &#39; + jsondata.age);
&#125;);
</code></pre>
<p>  </script></p>
</body>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">è¡¥å……è¯´æ˜ï¼šå…¶å®location.hashå’Œwindow.nameéƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œéƒ½æ˜¯åˆ©ç”¨å…¨å±€å¯¹è±¡å±æ€§çš„æ–¹æ³•ï¼Œç„¶åè¿™ä¸¤ç§æ–¹æ³•å’Œjsonpä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯åªèƒ½å¤Ÿå®ç°getè¯·æ±‚</span><br><span class="line"></span><br><span class="line">3.5 postMessageè·¨åŸŸ</span><br><span class="line">è¿™æ˜¯ç”±H5æå‡ºæ¥çš„ä¸€ä¸ªç‚«é…·çš„APIï¼ŒIE8+ï¼Œchrome,fféƒ½å·²ç»æ”¯æŒå®ç°äº†è¿™ä¸ªåŠŸèƒ½ã€‚è¿™ä¸ªåŠŸèƒ½ä¹Ÿæ˜¯éå¸¸çš„ç®€å•ï¼Œå…¶ä¸­åŒ…æ‹¬æ¥å—ä¿¡æ¯çš„Messageæ—¶é—´ï¼Œå’Œå‘é€ä¿¡æ¯çš„postMessageæ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">å‘é€ä¿¡æ¯çš„postMessageæ–¹æ³•æ˜¯å‘å¤–ç•Œçª—å£å‘é€ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">otherWindow.postMessage(message,targetOrigin);</span><br><span class="line">otherWindowæŒ‡çš„æ˜¯ç›®æ ‡çª—å£ï¼Œä¹Ÿå°±æ˜¯è¦ç»™å“ªä¸€ä¸ªwindowå‘é€æ¶ˆæ¯ï¼Œæ˜¯window.frameså±æ€§çš„æˆå‘˜æˆ–è€…æ˜¯window.openæ–¹æ³•åˆ›å»ºçš„çª—å£ã€‚ Messageæ˜¯è¦å‘é€çš„æ¶ˆæ¯ï¼Œç±»å‹ä¸ºStringï¼ŒObject(IE8ã€9ä¸æ”¯æŒObj)ï¼ŒtargetOriginæ˜¯é™å®šæ¶ˆæ¯æ¥å—èŒƒå›´ï¼Œä¸é™åˆ¶å°±ç”¨æ˜Ÿå· *</span><br><span class="line"></span><br><span class="line">æ¥å—ä¿¡æ¯çš„messageäº‹ä»¶</span><br></pre></td></tr></table></figure>
var onmessage = function(event) {
  var data = event.data;
  var origin = event.origin;
}

<p>if(typeof window.addEventListener != â€˜undefinedâ€™){<br>    window.addEventListener(â€˜messageâ€™,onmessage,false);<br>}else if(typeof window.attachEvent != â€˜undefinedâ€™){<br>    window.attachEvent(â€˜onmessageâ€™, onmessage);<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¸¾ä¸ªæ —å­</span><br><span class="line"></span><br><span class="line">a.html(http:&#x2F;&#x2F;www.nealyang.cn&#x2F;a.html)</span><br></pre></td></tr></table></figure>
<iframe id="iframe" src="http://www.neal.cn/b.html" style="display:none;"></iframe>
<script>       
    var iframe = document.getElementById('iframe');
    iframe.onload = function() {
        var data = {
            name: 'aym'
        };
        // å‘nealä¼ é€è·¨åŸŸæ•°æ®
        iframe.contentWindow.postMessage(JSON.stringify(data), 'http://www.neal.cn');
    };

<pre><code>// æ¥å—domain2è¿”å›æ•°æ®
window.addEventListener(&#39;message&#39;, function(e) &#123;
    alert(&#39;data from neal ---&gt; &#39; + e.data);
&#125;, false);
</code></pre>
<p></script></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b.html(http:&#x2F;&#x2F;www.neal.cn&#x2F;b.html)</span><br></pre></td></tr></table></figure>
<script>
    // æ¥æ”¶domain1çš„æ•°æ®
    window.addEventListener('message', function(e) {
        alert('data from nealyang ---> ' + e.data);

        var data = JSON.parse(e.data);
        if (data) {
            data.number = 16;

            // å¤„ç†åå†å‘å›nealyang
            window.parent.postMessage(JSON.stringify(data), 'http://www.nealyang.cn');
        }
    }, false);
</script>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">3.6 è·¨åŸŸèµ„æºå…±äº« CORS</span><br><span class="line">å› ä¸ºæ˜¯ç›®å‰ä¸»æµçš„è·¨åŸŸè§£å†³æ–¹æ¡ˆã€‚æ‰€ä»¥è¿™é‡Œå¤šä»‹ç»ç‚¹ã€‚</span><br><span class="line"></span><br><span class="line">ç®€ä»‹</span><br><span class="line"></span><br><span class="line">CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharingï¼‰ã€‚ å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚</span><br><span class="line"></span><br><span class="line">CORSéœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒã€‚ç›®å‰ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥åŠŸèƒ½ï¼ŒIEæµè§ˆå™¨ä¸èƒ½ä½äºIE10ã€‚IE8+ï¼šIE8&#x2F;9éœ€è¦ä½¿ç”¨XDomainRequestå¯¹è±¡æ¥æ”¯æŒCORSã€‚</span><br><span class="line"></span><br><span class="line">æ•´ä¸ªCORSé€šä¿¡è¿‡ç¨‹ï¼Œéƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦ç”¨æˆ·å‚ä¸ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼ŒCORSé€šä¿¡ä¸åŒæºçš„AJAXé€šä¿¡æ²¡æœ‰å·®åˆ«ï¼Œä»£ç å®Œå…¨ä¸€æ ·ã€‚æµè§ˆå™¨ä¸€æ—¦å‘ç°AJAXè¯·æ±‚è·¨æºï¼Œå°±ä¼šè‡ªåŠ¨æ·»åŠ ä¸€äº›é™„åŠ çš„å¤´ä¿¡æ¯ï¼Œæœ‰æ—¶è¿˜ä¼šå¤šå‡ºä¸€æ¬¡é™„åŠ çš„è¯·æ±‚ï¼Œä½†ç”¨æˆ·ä¸ä¼šæœ‰æ„Ÿè§‰ã€‚ å› æ­¤ï¼Œå®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯æœåŠ¡å™¨ã€‚åªè¦æœåŠ¡å™¨å®ç°äº†CORSæ¥å£ï¼Œå°±å¯ä»¥è·¨æºé€šä¿¡ã€‚</span><br><span class="line"></span><br><span class="line">ä¸¤ç§è¯·æ±‚</span><br><span class="line">è¯´èµ·æ¥å¾ˆæç¬‘ï¼Œåˆ†ä¸ºä¸¤ç§è¯·æ±‚ï¼Œä¸€ç§æ˜¯ç®€å•è¯·æ±‚ï¼Œå¦ä¸€ç§æ˜¯éç®€å•è¯·æ±‚ã€‚åªè¦æ»¡è¶³ä¸‹é¢æ¡ä»¶å°±æ˜¯ç®€å•è¯·æ±‚</span><br><span class="line"></span><br><span class="line">è¯·æ±‚æ–¹å¼ä¸ºHEADã€POST æˆ–è€… GET</span><br><span class="line">httpå¤´ä¿¡æ¯ä¸è¶…å‡ºä¸€ä¸‹å­—æ®µï¼šAcceptã€Accept-Language ã€ Content-Languageã€ Last-Event-IDã€ Content-Type(é™äºä¸‰ä¸ªå€¼ï¼šapplication&#x2F;x-www-form-urlencodedã€multipart&#x2F;form-dataã€text&#x2F;plain)</span><br><span class="line">ä¸ºä»€ä¹ˆè¦åˆ†ä¸ºç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼Œå› ä¸ºæµè§ˆå™¨å¯¹è¿™ä¸¤ç§è¯·æ±‚æ–¹å¼çš„å¤„ç†æ–¹å¼æ˜¯ä¸åŒçš„ã€‚</span><br><span class="line">ç®€å•è¯·æ±‚</span><br><span class="line"></span><br><span class="line">åŸºæœ¬æµç¨‹</span><br><span class="line"></span><br><span class="line">å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥å‘å‡ºCORSè¯·æ±‚ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œå¢åŠ ä¸€ä¸ªOriginå­—æ®µã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæµè§ˆå™¨å‘ç°è¿™æ¬¡è·¨æºAJAXè¯·æ±‚æ˜¯ç®€å•è¯·æ±‚ï¼Œå°±è‡ªåŠ¨åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªOriginå­—æ®µã€‚</span><br></pre></td></tr></table></figure>
<p>GET /cors HTTP/1.1<br>Origin: <a target="_blank" rel="noopener" href="http://api.bob.com/">http://api.bob.com</a><br>Host: api.alice.com<br>Accept-Language: en-US<br>Connection: keep-alive<br>User-Agent: Mozilla/5.0<br>â€¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Originå­—æ®µç”¨æ¥è¯´æ˜ï¼Œæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºï¼ˆåè®® + åŸŸå + ç«¯å£ï¼‰ã€‚æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†³å®šæ˜¯å¦åŒæ„è¿™æ¬¡è¯·æ±‚ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœOriginæŒ‡å®šçš„æºï¼Œä¸åœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ã€‚ æµè§ˆå™¨å‘ç°ï¼Œè¿™ä¸ªå›åº”çš„å¤´ä¿¡æ¯æ²¡æœ‰åŒ…å«Access-Control-Allow-Originå­—æ®µï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œå°±çŸ¥é“å‡ºé”™äº†ï¼Œä»è€ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¢«XMLHttpRequestçš„onerrorå›è°ƒå‡½æ•°æ•è·ã€‚</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼Œè¿™ç§é”™è¯¯æ— æ³•é€šè¿‡çŠ¶æ€ç è¯†åˆ«ï¼Œå› ä¸ºHTTPå›åº”çš„çŠ¶æ€ç æœ‰å¯èƒ½æ˜¯200ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœOriginæŒ‡å®šçš„åŸŸååœ¨è®¸å¯èŒƒå›´å†…ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”ï¼Œä¼šå¤šå‡ºå‡ ä¸ªå¤´ä¿¡æ¯å­—æ®µã€‚</span><br></pre></td></tr></table></figure>
<p>   Access-Control-Allow-Origin: <a target="_blank" rel="noopener" href="http://api.bob.com/">http://api.bob.com</a><br>   Access-Control-Allow-Credentials: true<br>   Access-Control-Expose-Headers: FooBar<br>   Content-Type: text/html; charset=utf-8</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ä¸Šé¢çš„å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªä¸CORSè¯·æ±‚ç›¸å…³çš„å­—æ®µï¼Œéƒ½ä»¥Access-Control-å¼€å¤´</span><br><span class="line"></span><br><span class="line">Access-Control-Allow-Origin :è¯¥å­—æ®µæ˜¯å¿…é¡»çš„ã€‚å®ƒçš„å€¼è¦ä¹ˆæ˜¯è¯·æ±‚æ—¶Originå­—æ®µçš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª*ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚</span><br><span class="line">Access-Control-Allow-Credentials: è¯¥å­—æ®µå¯é€‰ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸ºtrueï¼Œå³è¡¨ç¤ºæœåŠ¡å™¨æ˜ç¡®è®¸å¯ï¼ŒCookieå¯ä»¥åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œä¸€èµ·å‘ç»™æœåŠ¡å™¨ã€‚è¿™ä¸ªå€¼ä¹Ÿåªèƒ½è®¾ä¸ºtrueï¼Œå¦‚æœæœåŠ¡å™¨ä¸è¦æµè§ˆå™¨å‘é€Cookieï¼Œåˆ é™¤è¯¥å­—æ®µå³å¯ã€‚</span><br><span class="line">Access-Control-Expose-Headers:è¯¥å­—æ®µå¯é€‰ã€‚CORSè¯·æ±‚æ—¶ï¼ŒXMLHttpRequestå¯¹è±¡çš„getResponseHeader()æ–¹æ³•åªèƒ½æ‹¿åˆ°6ä¸ªåŸºæœ¬å­—æ®µï¼šCache-Controlã€Content-Languageã€Content-Typeã€Expiresã€Last-Modifiedã€Pragmaã€‚å¦‚æœæƒ³æ‹¿åˆ°å…¶ä»–å­—æ®µï¼Œå°±å¿…é¡»åœ¨Access-Control-Expose-Headersé‡Œé¢æŒ‡å®šã€‚</span><br><span class="line"></span><br><span class="line">withCredentials å±æ€§</span><br><span class="line"></span><br><span class="line">ä¸Šé¢è¯´åˆ°ï¼ŒCORSè¯·æ±‚é»˜è®¤ä¸å‘é€Cookieå’ŒHTTPè®¤è¯ä¿¡æ¯ã€‚å¦‚æœè¦æŠŠCookieå‘åˆ°æœåŠ¡å™¨ï¼Œä¸€æ–¹é¢è¦æœåŠ¡å™¨åŒæ„ï¼ŒæŒ‡å®šAccess-Control-Allow-Credentialså­—æ®µã€‚</span><br><span class="line"></span><br><span class="line">å¦ä¸€æ–¹é¢ï¼Œå¼€å‘è€…å¿…é¡»åœ¨AJAXè¯·æ±‚ä¸­æ‰“å¼€withCredentialså±æ€§ã€‚</span><br></pre></td></tr></table></figure>
<p>var xhr = new XMLHttpRequest(); // IE8/9éœ€ç”¨window.XDomainRequestå…¼å®¹</p>
<p>// å‰ç«¯è®¾ç½®æ˜¯å¦å¸¦cookie<br>xhr.withCredentials = true;</p>
<p>xhr.open(â€˜postâ€™, â€˜<a target="_blank" rel="noopener" href="http://www.domain2.com:8080/login&#39;">http://www.domain2.com:8080/login&#39;</a>, true);<br>xhr.setRequestHeader(â€˜Content-Typeâ€™, â€˜application/x-www-form-urlencodedâ€™);<br>xhr.send(â€˜user=adminâ€™);</p>
<p>xhr.onreadystatechange = function() {<br>    if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {<br>        alert(xhr.responseText);<br>    }<br>};</p>
<p>// jquery<br>$.ajax({<br>    â€¦<br>   xhrFields: {<br>       withCredentials: true    // å‰ç«¯è®¾ç½®æ˜¯å¦å¸¦cookie<br>   },<br>   crossDomain: true,   // ä¼šè®©è¯·æ±‚å¤´ä¸­åŒ…å«è·¨åŸŸçš„é¢å¤–ä¿¡æ¯ï¼Œä½†ä¸ä¼šå«cookie<br>    â€¦<br>});</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å¦åˆ™ï¼Œå³ä½¿æœåŠ¡å™¨åŒæ„å‘é€Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå‘é€ã€‚æˆ–è€…ï¼ŒæœåŠ¡å™¨è¦æ±‚è®¾ç½®Cookieï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå¤„ç†ã€‚ ä½†æ˜¯ï¼Œå¦‚æœçœç•¥withCredentialsè®¾ç½®ï¼Œæœ‰çš„æµè§ˆå™¨è¿˜æ˜¯ä¼šä¸€èµ·å‘é€Cookieã€‚è¿™æ—¶ï¼Œå¯ä»¥æ˜¾å¼å…³é—­withCredentialsã€‚</span><br><span class="line"></span><br><span class="line">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å‘é€Cookieï¼ŒAccess-Control-Allow-Originå°±ä¸èƒ½è®¾ä¸ºæ˜Ÿå·ï¼Œå¿…é¡»æŒ‡å®šæ˜ç¡®çš„ã€ä¸è¯·æ±‚ç½‘é¡µä¸€è‡´çš„åŸŸåã€‚åŒæ—¶ï¼ŒCookieä¾ç„¶éµå¾ªåŒæºæ”¿ç­–ï¼Œåªæœ‰ç”¨æœåŠ¡å™¨åŸŸåè®¾ç½®çš„Cookieæ‰ä¼šä¸Šä¼ ï¼Œå…¶ä»–åŸŸåçš„Cookieå¹¶ä¸ä¼šä¸Šä¼ ï¼Œä¸”ï¼ˆè·¨æºï¼‰åŸç½‘é¡µä»£ç ä¸­çš„document.cookieä¹Ÿæ— æ³•è¯»å–æœåŠ¡å™¨åŸŸåä¸‹çš„Cookieã€‚</span><br><span class="line"></span><br><span class="line">éç®€å•è¯·æ±‚</span><br><span class="line"></span><br><span class="line">éç®€å•è¯·æ±‚æ˜¯é‚£ç§å¯¹æœåŠ¡å™¨æœ‰ç‰¹æ®Šè¦æ±‚çš„è¯·æ±‚ï¼Œæ¯”å¦‚è¯·æ±‚æ–¹æ³•æ˜¯PUTæˆ–DELETEï¼Œæˆ–è€…Content-Typeå­—æ®µçš„ç±»å‹æ˜¯application&#x2F;jsonã€‚</span><br><span class="line"></span><br><span class="line">éç®€å•è¯·æ±‚çš„CORSè¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º&quot;é¢„æ£€&quot;è¯·æ±‚ï¼ˆpreflightï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">æµè§ˆå™¨å…ˆè¯¢é—®æœåŠ¡å™¨ï¼Œå½“å‰ç½‘é¡µæ‰€åœ¨çš„åŸŸåæ˜¯å¦åœ¨æœåŠ¡å™¨çš„è®¸å¯åå•ä¹‹ä¸­ï¼Œä»¥åŠå¯ä»¥ä½¿ç”¨å“ªäº›HTTPåŠ¨è¯å’Œå¤´ä¿¡æ¯å­—æ®µã€‚åªæœ‰å¾—åˆ°è‚¯å®šç­”å¤ï¼Œæµè§ˆå™¨æ‰ä¼šå‘å‡ºæ­£å¼çš„XMLHttpRequestè¯·æ±‚ï¼Œå¦åˆ™å°±æŠ¥é”™ã€‚</span><br></pre></td></tr></table></figure>
<p>var url = â€˜<a target="_blank" rel="noopener" href="http://api.alice.com/cors&#39;">http://api.alice.com/cors&#39;</a>;<br>var xhr = new XMLHttpRequest();<br>xhr.open(â€˜PUTâ€™, url, true);<br>xhr.setRequestHeader(â€˜X-Custom-Headerâ€™, â€˜valueâ€™);<br>xhr.send();<br>æµè§ˆå™¨å‘ç°ï¼Œè¿™æ˜¯ä¸€ä¸ªéç®€å•è¯·æ±‚ï¼Œå°±è‡ªåŠ¨å‘å‡ºä¸€ä¸ªâ€é¢„æ£€â€è¯·æ±‚ï¼Œè¦æ±‚æœåŠ¡å™¨ç¡®è®¤å¯ä»¥è¿™æ ·è¯·æ±‚ã€‚ä¸‹é¢æ˜¯è¿™ä¸ªâ€é¢„æ£€â€è¯·æ±‚çš„HTTPå¤´ä¿¡æ¯ã€‚</p>
<p>  OPTIONS /cors HTTP/1.1<br>   Origin: <a target="_blank" rel="noopener" href="http://api.bob.com/">http://api.bob.com</a><br>   Access-Control-Request-Method: PUT<br>   Access-Control-Request-Headers: X-Custom-Header<br>   Host: api.alice.com<br>   Accept-Language: en-US<br>   Connection: keep-alive<br>   User-Agent: Mozilla/5.0â€¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;é¢„æ£€&quot;è¯·æ±‚ç”¨çš„è¯·æ±‚æ–¹æ³•æ˜¯OPTIONSï¼Œè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯ç”¨æ¥è¯¢é—®çš„ã€‚å¤´ä¿¡æ¯é‡Œé¢ï¼Œå…³é”®å­—æ®µæ˜¯Originï¼Œè¡¨ç¤ºè¯·æ±‚æ¥è‡ªå“ªä¸ªæºã€‚</span><br><span class="line"></span><br><span class="line">é™¤äº†Originå­—æ®µï¼Œ&quot;é¢„æ£€&quot;è¯·æ±‚çš„å¤´ä¿¡æ¯åŒ…æ‹¬ä¸¤ä¸ªç‰¹æ®Šå­—æ®µã€‚</span><br><span class="line"></span><br><span class="line">Access-Control-Request-Methodï¼šè¯¥å­—æ®µæ˜¯å¿…é¡»çš„ï¼Œç”¨æ¥åˆ—å‡ºæµè§ˆå™¨çš„CORSè¯·æ±‚ä¼šç”¨åˆ°å“ªäº›HTTPæ–¹æ³•ï¼Œä¸Šä¾‹æ˜¯PUTã€‚</span><br><span class="line">Access-Control-Request-Headersï¼šè¯¥å­—æ®µæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šæµè§ˆå™¨CORSè¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µï¼Œä¸Šä¾‹æ˜¯X-Custom-Header</span><br><span class="line">é¢„æ£€è¯·æ±‚çš„å›åº”</span><br><span class="line"></span><br><span class="line">æœåŠ¡å™¨æ”¶åˆ°&quot;é¢„æ£€&quot;è¯·æ±‚ä»¥åï¼Œæ£€æŸ¥äº†Originã€Access-Control-Request-Methodå’ŒAccess-Control-Request-Headerså­—æ®µä»¥åï¼Œç¡®è®¤å…è®¸è·¨æºè¯·æ±‚ï¼Œå°±å¯ä»¥åšå‡ºå›åº”</span><br></pre></td></tr></table></figure>
<p>HTTP/1.1 200 OK<br>Date: Mon, 01 Dec 2008 01:15:39 GMT<br>Server: Apache/2.0.61 (Unix)<br>Access-Control-Allow-Origin: <a target="_blank" rel="noopener" href="http://api.bob.com/">http://api.bob.com</a><br>Access-Control-Allow-Methods: GET, POST, PUT<br>Access-Control-Allow-Headers: X-Custom-Header<br>Content-Type: text/html; charset=utf-8<br>Content-Encoding: gzip<br>Content-Length: 0<br>Keep-Alive: timeout=2, max=100<br>Connection: Keep-Alive<br>Content-Type: text/plain</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¸Šé¢çš„HTTPå›åº”ä¸­ï¼Œå…³é”®çš„æ˜¯Access-Control-Allow-Originå­—æ®µï¼Œè¡¨ç¤ºhttp:&#x2F;&#x2F;api.bob.comå¯ä»¥è¯·æ±‚æ•°æ®ã€‚è¯¥å­—æ®µä¹Ÿå¯ä»¥è®¾ä¸ºæ˜Ÿå·ï¼Œè¡¨ç¤ºåŒæ„ä»»æ„è·¨æºè¯·æ±‚ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœæµè§ˆå™¨å¦å®šäº†&quot;é¢„æ£€&quot;è¯·æ±‚ï¼Œä¼šè¿”å›ä¸€ä¸ªæ­£å¸¸çš„HTTPå›åº”ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•CORSç›¸å…³çš„å¤´ä¿¡æ¯å­—æ®µã€‚è¿™æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šè®¤å®šï¼ŒæœåŠ¡å™¨ä¸åŒæ„é¢„æ£€è¯·æ±‚ï¼Œå› æ­¤è§¦å‘ä¸€ä¸ªé”™è¯¯ï¼Œè¢«XMLHttpRequestå¯¹è±¡çš„onerrorå›è°ƒå‡½æ•°æ•è·ã€‚æ§åˆ¶å°ä¼šæ‰“å°å‡ºå¦‚ä¸‹çš„æŠ¥é”™ä¿¡æ¯ã€‚</span><br><span class="line"></span><br><span class="line">æœåŠ¡å™¨å›åº”çš„å…¶ä»–CORSç›¸å…³å­—æ®µå¦‚ä¸‹ï¼š</span><br></pre></td></tr></table></figure>
<p>Access-Control-Allow-Methods: GET, POST, PUT<br>Access-Control-Allow-Headers: X-Custom-Header<br>Access-Control-Allow-Credentials: true<br>Access-Control-Max-Age: 1728000</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Methodsï¼šè¯¥å­—æ®µå¿…éœ€ï¼Œå®ƒçš„å€¼æ˜¯é€—å·åˆ†éš”çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰æ”¯æŒçš„æ–¹æ³•ï¼Œè€Œä¸å•æ˜¯æµè§ˆå™¨è¯·æ±‚çš„é‚£ä¸ªæ–¹æ³•ã€‚è¿™æ˜¯ä¸ºäº†é¿å…å¤šæ¬¡&quot;é¢„æ£€&quot;è¯·æ±‚ã€‚</span><br><span class="line">Access-Control-Allow-Headersï¼šå¦‚æœæµè§ˆå™¨è¯·æ±‚åŒ…æ‹¬Access-Control-Request-Headerså­—æ®µï¼Œåˆ™Access-Control-Allow-Headerså­—æ®µæ˜¯å¿…éœ€çš„ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µï¼Œä¸é™äºæµè§ˆå™¨åœ¨&quot;é¢„æ£€&quot;ä¸­è¯·æ±‚çš„å­—æ®µã€‚</span><br><span class="line">Access-Control-Allow-Credentialsï¼š è¯¥å­—æ®µä¸ç®€å•è¯·æ±‚æ—¶çš„å«ä¹‰ç›¸åŒã€‚</span><br><span class="line">Access-Control-Max-Ageï¼š è¯¥å­—æ®µå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚ä¸Šé¢ç»“æœä¸­ï¼Œæœ‰æ•ˆæœŸæ˜¯20å¤©ï¼ˆ1728000ç§’ï¼‰ï¼Œå³å…è®¸ç¼“å­˜è¯¥æ¡å›åº”1728000ç§’ï¼ˆå³20å¤©ï¼‰ï¼Œåœ¨æ­¤æœŸé—´ï¼Œä¸ç”¨å‘å‡ºå¦ä¸€æ¡é¢„æ£€è¯·æ±‚ã€‚</span><br><span class="line">æµè§ˆå™¨æ­£å¸¸è¯·æ±‚å›åº”</span><br><span class="line"></span><br><span class="line">ä¸€æ—¦æœåŠ¡å™¨é€šè¿‡äº†&quot;é¢„æ£€&quot;è¯·æ±‚ï¼Œä»¥åæ¯æ¬¡æµè§ˆå™¨æ­£å¸¸çš„CORSè¯·æ±‚ï¼Œå°±éƒ½è·Ÿç®€å•è¯·æ±‚ä¸€æ ·ï¼Œä¼šæœ‰ä¸€ä¸ªOriginå¤´ä¿¡æ¯å­—æ®µã€‚æœåŠ¡å™¨çš„å›åº”ï¼Œä¹Ÿéƒ½ä¼šæœ‰ä¸€ä¸ªAccess-Control-Allow-Originå¤´ä¿¡æ¯å­—æ®µã€‚</span><br></pre></td></tr></table></figure>
<p>PUT /cors HTTP/1.1<br>Origin: <a target="_blank" rel="noopener" href="http://api.bob.com/">http://api.bob.com</a><br>Host: api.alice.com<br>X-Custom-Header: value<br>Accept-Language: en-US<br>Connection: keep-alive<br>User-Agent: Mozilla/5.0â€¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æµè§ˆå™¨çš„æ­£å¸¸CORSè¯·æ±‚ã€‚ä¸Šé¢å¤´ä¿¡æ¯çš„Originå­—æ®µæ˜¯æµè§ˆå™¨è‡ªåŠ¨æ·»åŠ çš„ã€‚ä¸‹é¢æ˜¯æœåŠ¡å™¨æ­£å¸¸çš„å›åº”ã€‚</span><br></pre></td></tr></table></figure>
<p>Access-Control-Allow-Origin: <a target="_blank" rel="noopener" href="http://api.bob.com/">http://api.bob.com</a><br>Content-Type: text/html; charset=utf-8<br>Access-Control-Allow-Originå­—æ®µæ˜¯æ¯æ¬¡å›åº”éƒ½å¿…å®šåŒ…å«çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ç»“æŸè¯­</span><br><span class="line"></span><br><span class="line">CORSä¸JSONPçš„ä½¿ç”¨ç›®çš„ç›¸åŒï¼Œä½†æ˜¯æ¯”JSONPæ›´å¼ºå¤§ã€‚JSONPåªæ”¯æŒGETè¯·æ±‚ï¼ŒCORSæ”¯æŒæ‰€æœ‰ç±»å‹çš„HTTPè¯·æ±‚ã€‚JSONPçš„ä¼˜åŠ¿åœ¨äºæ”¯æŒè€å¼æµè§ˆå™¨ï¼Œä»¥åŠå¯ä»¥å‘ä¸æ”¯æŒCORSçš„ç½‘ç«™è¯·æ±‚æ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">3.7 WebSocketåè®®è·¨åŸŸ</span><br><span class="line">WebSocket protocolæ˜¯HTML5ä¸€ç§æ–°çš„åè®®ã€‚å®ƒå®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨å…¨åŒå·¥é€šä¿¡ï¼ŒåŒæ—¶å…è®¸è·¨åŸŸé€šè®¯ï¼Œæ˜¯server pushæŠ€æœ¯çš„ä¸€ç§å¾ˆå¥½çš„å®ç°ã€‚</span><br><span class="line"></span><br><span class="line">åŸç”ŸWebSocket APIä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œæˆ‘ä»¬ä½¿ç”¨Socket.ioï¼Œå®ƒå¾ˆå¥½åœ°å°è£…äº†webSocketæ¥å£ï¼Œæä¾›äº†æ›´ç®€å•ã€çµæ´»çš„æ¥å£ï¼Œä¹Ÿå¯¹ä¸æ”¯æŒwebSocketçš„æµè§ˆå™¨æä¾›äº†å‘ä¸‹å…¼å®¹ã€‚</span><br><span class="line"></span><br><span class="line">å‰ç«¯ä»£ç ï¼š</span><br></pre></td></tr></table></figure>
<div>user inputï¼š<input type="text"></div>
<script src="./socket.io.js"></script>
<script>
var socket = io('http://www.domain2.com:8080');

<p>// è¿æ¥æˆåŠŸå¤„ç†<br>socket.on(â€˜connectâ€™, function() {<br>    // ç›‘å¬æœåŠ¡ç«¯æ¶ˆæ¯<br>    socket.on(â€˜messageâ€™, function(msg) {<br>        console.log(â€˜data from server: â€”&gt; â€˜ + msg);<br>    });</p>
<pre><code>// ç›‘å¬æœåŠ¡ç«¯å…³é—­
socket.on(&#39;disconnect&#39;, function() &#123; 
    console.log(&#39;Server socket has closed.&#39;); 
&#125;);
</code></pre>
<p>});</p>
<p>document.getElementsByTagName(â€˜inputâ€™)[0].onblur = function() {<br>    socket.send(this.value);<br>};<br></script><br>node Server</p>
<p>var http = require(â€˜httpâ€™);<br>var socket = require(â€˜socket.ioâ€™);</p>
<p>// å¯httpæœåŠ¡<br>var server = http.createServer(function(req, res) {<br>    res.writeHead(200, {<br>        â€˜Content-typeâ€™: â€˜text/htmlâ€™<br>    });<br>    res.end();<br>});</p>
<p>server.listen(â€˜8080â€™);<br>console.log(â€˜Server is running at port 8080â€¦â€™);</p>
<p>// ç›‘å¬socketè¿æ¥<br>socket.listen(server).on(â€˜connectionâ€™, function(client) {<br>    // æ¥æ”¶ä¿¡æ¯<br>    client.on(â€˜messageâ€™, function(msg) {<br>        client.send(â€˜helloï¼šâ€™ + msg);<br>        console.log(â€˜data from client: â€”&gt; â€˜ + msg);<br>    });</p>
<pre><code>// æ–­å¼€å¤„ç†
client.on(&#39;disconnect&#39;, function() &#123;
    console.log(&#39;Client socket has closed.&#39;); 
&#125;);
</code></pre>
<p>});</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">3.8 nodeä»£ç†è·¨åŸŸ</span><br><span class="line">nodeä¸­é—´ä»¶å®ç°è·¨åŸŸä»£ç†ï¼Œæ˜¯é€šè¿‡å¯ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå®ç°æ•°æ®çš„è½¬å‘ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®cookieDomainRewriteå‚æ•°ä¿®æ”¹å“åº”å¤´ä¸­cookieä¸­åŸŸåï¼Œå®ç°å½“å‰åŸŸçš„cookieå†™å…¥ï¼Œæ–¹ä¾¿æ¥å£ç™»å½•è®¤è¯ã€‚</span><br><span class="line"></span><br><span class="line">åˆ©ç”¨node + express + http-proxy-middlewareæ­å»ºä¸€ä¸ªproxyæœåŠ¡å™¨</span><br><span class="line"></span><br><span class="line">å‰ç«¯ä»£ç </span><br></pre></td></tr></table></figure>
<p>var xhr = new XMLHttpRequest();</p>
<p>// å‰ç«¯å¼€å…³ï¼šæµè§ˆå™¨æ˜¯å¦è¯»å†™cookie<br>xhr.withCredentials = true;</p>
<p>// è®¿é—®http-proxy-middlewareä»£ç†æœåŠ¡å™¨<br>xhr.open(â€˜getâ€™, â€˜<a target="_blank" rel="noopener" href="http://www.domain1.com:3000/login?user=admin&#39;">http://www.domain1.com:3000/login?user=admin&#39;</a>, true);<br>xhr.send();<br>åç«¯ä»£ç </p>
<p>var express = require(â€˜expressâ€™);<br>var proxy = require(â€˜http-proxy-middlewareâ€™);<br>var app = express();</p>
<p>app.use(â€˜/â€˜, proxy({<br>    // ä»£ç†è·¨åŸŸç›®æ ‡æ¥å£<br>    target: â€˜<a href="http://www.domain2.com:8080&#39;">http://www.domain2.com:8080&#39;</a>,<br>    changeOrigin: true,</p>
<pre><code>// ä¿®æ”¹å“åº”å¤´ä¿¡æ¯ï¼Œå®ç°è·¨åŸŸå¹¶å…è®¸å¸¦cookie
onProxyRes: function(proxyRes, req, res) &#123;
    res.header(&#39;Access-Control-Allow-Origin&#39;, &#39;http://www.domain1.com&#39;);
    res.header(&#39;Access-Control-Allow-Credentials&#39;, &#39;true&#39;);
&#125;,

// ä¿®æ”¹å“åº”ä¿¡æ¯ä¸­çš„cookieåŸŸå
cookieDomainRewrite: &#39;www.domain1.com&#39;  // å¯ä»¥ä¸ºfalseï¼Œè¡¨ç¤ºä¸ä¿®æ”¹
</code></pre>
<p>}));</p>
<p>app.listen(3000);<br>console.log(â€˜Proxy server is listen at port 3000â€¦â€™);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3.9 nginxä»£ç†è·¨åŸŸ</span><br><span class="line">1ã€ nginxé…ç½®è§£å†³iconfontè·¨åŸŸ</span><br><span class="line">æµè§ˆå™¨è·¨åŸŸè®¿é—®jsã€cssã€imgç­‰å¸¸è§„é™æ€èµ„æºè¢«åŒæºç­–ç•¥è®¸å¯ï¼Œä½†iconfontå­—ä½“æ–‡ä»¶(eot|otf|ttf|woff|svg)ä¾‹å¤–ï¼Œæ­¤æ—¶å¯åœ¨nginxçš„é™æ€èµ„æºæœåŠ¡å™¨ä¸­åŠ å…¥ä»¥ä¸‹é…ç½®ã€‚</span><br></pre></td></tr></table></figure>
<p>location / {<br>  add_header Access-Control-Allow-Origin *;<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2ã€ nginxåå‘ä»£ç†æ¥å£è·¨åŸŸ</span><br><span class="line">è·¨åŸŸåŸç†ï¼š åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œä¸æ˜¯HTTPåè®®çš„ä¸€éƒ¨åˆ†ã€‚æœåŠ¡å™¨ç«¯è°ƒç”¨HTTPæ¥å£åªæ˜¯ä½¿ç”¨HTTPåè®®ï¼Œä¸ä¼šæ‰§è¡ŒJSè„šæœ¬ï¼Œä¸éœ€è¦åŒæºç­–ç•¥ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è·¨è¶Šé—®é¢˜ã€‚</span><br><span class="line"></span><br><span class="line">å®ç°æ€è·¯ï¼šé€šè¿‡nginxé…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼ˆåŸŸåä¸domain1ç›¸åŒï¼Œç«¯å£ä¸åŒï¼‰åšè·³æ¿æœºï¼Œåå‘ä»£ç†è®¿é—®domain2æ¥å£ï¼Œå¹¶ä¸”å¯ä»¥é¡ºä¾¿ä¿®æ”¹cookieä¸­domainä¿¡æ¯ï¼Œæ–¹ä¾¿å½“å‰åŸŸcookieå†™å…¥ï¼Œå®ç°è·¨åŸŸç™»å½•ã€‚</span><br><span class="line"></span><br><span class="line">nginxå…·ä½“é…ç½®ï¼š</span><br></pre></td></tr></table></figure>
<p>#proxyæœåŠ¡å™¨<br>server {<br>    listen       81;<br>    server_name  <a target="_blank" rel="noopener" href="http://www.domain1.com/">www.domain1.com</a>;</p>
<pre><code>location / &#123;
    proxy_pass   http://www.domain2.com:8080;  #åå‘ä»£ç†
    proxy_cookie_domain www.domain2.com www.domain1.com; #ä¿®æ”¹cookieé‡ŒåŸŸå
    index  index.html index.htm;

    # å½“ç”¨webpack-dev-serverç­‰ä¸­é—´ä»¶ä»£ç†æ¥å£è®¿é—®nignxæ—¶ï¼Œæ­¤æ—¶æ— æµè§ˆå™¨å‚ä¸ï¼Œæ•…æ²¡æœ‰åŒæºé™åˆ¶ï¼Œä¸‹é¢çš„è·¨åŸŸé…ç½®å¯ä¸å¯ç”¨
    add_header Access-Control-Allow-Origin http://www.domain1.com;  #å½“å‰ç«¯åªè·¨åŸŸä¸å¸¦cookieæ—¶ï¼Œå¯ä¸º*
    add_header Access-Control-Allow-Credentials true;
&#125;
</code></pre>
<p>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1.) å‰ç«¯ä»£ç ç¤ºä¾‹ï¼š</span><br></pre></td></tr></table></figure>
<p>var xhr = new XMLHttpRequest();</p>
<p>// å‰ç«¯å¼€å…³ï¼šæµè§ˆå™¨æ˜¯å¦è¯»å†™cookie<br>xhr.withCredentials = true;</p>
<p>// è®¿é—®nginxä¸­çš„ä»£ç†æœåŠ¡å™¨<br>xhr.open(â€˜getâ€™, â€˜<a target="_blank" rel="noopener" href="http://www.domain1.com:81/?user=admin&#39;">http://www.domain1.com:81/?user=admin&#39;</a>, true);<br>xhr.send();</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2.) Nodejsåå°ç¤ºä¾‹ï¼š</span><br></pre></td></tr></table></figure>
<p>var http = require(â€˜httpâ€™);<br>var server = http.createServer();<br>var qs = require(â€˜querystringâ€™);</p>
<p>server.on(â€˜requestâ€™, function(req, res) {<br>    var params = qs.parse(req.url.substring(2));</p>
<pre><code>// å‘å‰å°å†™cookie
res.writeHead(200, &#123;
    &#39;Set-Cookie&#39;: &#39;l=a123456;Path=/;Domain=www.domain2.com;HttpOnly&#39;   // HttpOnly:è„šæœ¬æ— æ³•è¯»å–
&#125;);

res.write(JSON.stringify(params));
res.end();
</code></pre>
<p>});</p>
<p>server.listen(â€˜8080â€™);<br>console.log(â€˜Server is running at port 8080â€¦â€™);</p>
<pre><code>
</code></pre>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/javascript/%E5%89%8D%E7%AB%AF/Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B2%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/javascript/%E5%89%8D%E7%AB%AF/Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B2%E8%A7%A3/" class="post-title-link" itemprop="url">Javascriptå‡½æ•°å¼ç¼–ç¨‹è¦æŒæ¡çš„çŸ¥è¯†ç‚¹è®²è§£</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 22:09:45" itemprop="dateModified" datetime="2021-03-10T22:09:45+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
        </span>
    </span>

  
    <span id="/nirvana/javascript/%E5%89%8D%E7%AB%AF/Javascript%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E8%A6%81%E6%8E%8C%E6%8F%A1%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AE%B2%E8%A7%A3/" class="post-meta-item leancloud_visitors" data-flag-title="Javascriptå‡½æ•°å¼ç¼–ç¨‹è¦æŒæ¡çš„çŸ¥è¯†ç‚¹è®²è§£" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>18k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>16 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><strong>ä¸€ï¼šç†è§£callå’Œapply åŠarguments.callee</strong></p>
<p>ECMAScript3ç»™Functionçš„åŸå‹å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œä»–ä»¬æ˜¯<code>Function.prototype.call</code>Â å’ŒÂ <code>Function.prototype.apply</code>. å…¶å®ä»–ä»¬çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä¼ é€’çš„å‚æ•°ä¸ä¸€æ ·è€Œå·²ï¼›</p>
<p><strong>1. apply;</strong>Â æ¥å—2ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šäº†å‡½æ•°ä½“å†…thiså¯¹è±¡çš„æŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„é›†åˆï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var yunxi &#x3D; function(a,b)&#123;</span><br><span class="line"></span><br><span class="line">   console.log([a,b]); &#x2F;&#x2F; [1,2]</span><br><span class="line"></span><br><span class="line">   console.log(this &#x3D;&#x3D;&#x3D; window); &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">yunxi.apply(null,[1,2]);</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥nullï¼Œå‡½æ•°ä½“å†…é»˜è®¤ä¼šæŒ‡å‘ä¸å®¿ä¸»å¯¹è±¡ï¼Œå³windowå¯¹è±¡ï¼›å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨yunxiå‡½æ•°å†…æ‰“å°ä¸‹å€¼ä¸ºtrueå³å¯çœ‹åˆ°ï¼š</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ä½¿ç”¨callæ–¹æ³•çš„å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var yunxi &#x3D; function(a,b)&#123;</span><br><span class="line"></span><br><span class="line">   console.log([a,b]); &#x2F;&#x2F; [1,2]</span><br><span class="line"></span><br><span class="line">   console.log(this &#x3D;&#x3D;&#x3D; window); &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">yunxi.call(null,1,2);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ° callæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»¥é€—å·éš”å¼€çš„å‚æ•°ï¼›</p>
<p><strong>é‚£ä¹ˆcallå’Œapplyç”¨åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ</strong></p>
<p>1.callå’Œapply æœ€å¸¸è§çš„ç”¨é€”æ˜¯æ”¹å˜å‡½æ•°ä½“å†…çš„thisæŒ‡å‘ï¼Œå¦‚ä¸‹ä»£ç :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var longen &#x3D; &#123;</span><br><span class="line">    name:&#39;yunxi&#39;</span><br><span class="line">&#125;;</span><br><span class="line">var longen2 &#x3D; &#123;</span><br><span class="line">    name: &#39;æˆ‘å«æ¶‚æ ¹å&#39;</span><br><span class="line">&#125;;</span><br><span class="line">var name &#x3D; &quot;æˆ‘æ˜¯æ¥æµ‹è¯•çš„&quot;;</span><br><span class="line">var getName &#x3D; function()&#123;</span><br><span class="line">    return this.name;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(getName()); &#x2F;&#x2F; æ‰“å° &quot;æˆ‘æ˜¯æ¥æµ‹è¯•çš„&quot;;</span><br><span class="line">console.log(getName.call(longen)); &#x2F;&#x2F; æ‰“å° yunxi</span><br><span class="line">console.log(getName.call(longen2)); &#x2F;&#x2F; æ‰“å° &quot;æˆ‘å«æ¶‚æ ¹å&quot;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ¬¡è°ƒç”¨Â <code>getName()</code>æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ˜¯æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥å®ƒçš„thisæŒ‡å‘ä¸windowï¼Œå› æ­¤æ‰“å°å‡ºå…¨å±€å¯¹è±¡çš„nameçš„å€¼ï¼›</p>
<p>ç¬¬äºŒæ¬¡è°ƒç”¨<code>getName.call(longen);</code>æ‰§è¡Œè¿™å¥ä»£ç åï¼ŒgetNameè¿™ä¸ªæ–¹æ³•çš„å†…éƒ¨æŒ‡é’ˆthisæŒ‡å‘äºlongenè¿™ä¸ªå¯¹è±¡äº†ï¼Œå› æ­¤æ‰“å°<code>this.name</code>å®é™…ä¸Šæ˜¯longen.nameï¼Œå› æ­¤è¿”å›çš„æ˜¯<code>name=â€yunxiâ€;</code></p>
<p>ä½†æ˜¯thisæŒ‡é’ˆä¹Ÿæœ‰åˆ—å¤–çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸€ä¸ªç‚¹å‡»å…ƒç´ ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼ŒthisæŒ‡é’ˆå°±æŒ‡å‘ä¸é‚£ä¸ªç‚¹å‡»å…ƒç´ ï¼Œä½†æ˜¯å½“æˆ‘ä»¬åœ¨å†…éƒ¨å†åŒ…å«ä¸€ä¸ªå‡½æ•°åï¼Œåœ¨å‡½æ•°å†…å†ç»§ç»­è°ƒç”¨thisçš„è¯ï¼Œé‚£ä¹ˆç°åœ¨çš„thisæŒ‡é’ˆå°±æŒ‡å‘äº†windowäº†ï¼›æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&quot;longen&quot;).onclick &#x3D; function()&#123;</span><br><span class="line">    console.log(this); &#x2F;&#x2F; this å°±æŒ‡å‘äºdivå…ƒç´ å¯¹è±¡äº†</span><br><span class="line">    var func &#x3D; function()&#123;</span><br><span class="line">        console.log(this); &#x2F;&#x2F; æ‰“å°å‡ºwindowå¯¹è±¡</span><br><span class="line">    &#125;</span><br><span class="line">    func();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç ã€‚å¯ä»¥çœ‹åˆ°å¤–éƒ¨thisæŒ‡å‘ä¸è¢«ç‚¹å‡»çš„é‚£ä¸ªå…ƒç´ ï¼Œå†…éƒ¨æ™®é€šå‡½æ•°è°ƒç”¨ï¼ŒthisæŒ‡é’ˆéƒ½æ˜¯æŒ‡å‘äºwindowå¯¹è±¡ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨callæˆ–è€…applyæ–¹æ³•æ¥æ”¹å˜thisçš„æŒ‡é’ˆçš„ï¼›å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&quot;longen&quot;).onclick &#x3D; function()&#123;</span><br><span class="line">    console.log(this); &#x2F;&#x2F; this å°±æŒ‡å‘äºdivå…ƒç´ å¯¹è±¡äº†</span><br><span class="line">    var func &#x3D; function()&#123;</span><br><span class="line">        console.log(this); &#x2F;&#x2F; å°±æŒ‡å‘äºdivå…ƒç´ å¯¹è±¡äº†</span><br><span class="line">    &#125;</span><br><span class="line">    func.call(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç æˆ‘ä»¬ä½¿ç”¨callæ–¹æ³•è°ƒç”¨funcå‡½æ•°ï¼Œä½¿thisæŒ‡å‘ä¸funcè¿™ä¸ªå¯¹è±¡äº†ï¼Œå½“ç„¶ä¸Šé¢çš„æ–¹æ³•æˆ‘ä»¬è¿˜å¯ä»¥ä¸ä½¿ç”¨callæˆ–è€…applyæ–¹æ³•æ¥æ”¹å˜thisçš„æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤–éƒ¨å…ˆä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥ä¿å­˜thisçš„æŒ‡é’ˆï¼Œåœ¨å†…éƒ¨è°ƒç”¨çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ªä¸ªå˜é‡å³å¯ï¼Œå¦‚ä¸‹ä»£ç æ¼”ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&quot;longen&quot;).onclick &#x3D; function()&#123;</span><br><span class="line">    console.log(this); &#x2F;&#x2F; this å°±æŒ‡å‘äºdivå…ƒç´ å¯¹è±¡äº†</span><br><span class="line">    var self &#x3D; this;</span><br><span class="line">    var func &#x3D; function()&#123;</span><br><span class="line">        console.log(self); &#x2F;&#x2F; å°±æŒ‡å‘äºdivå…ƒç´ å¯¹è±¡äº†</span><br><span class="line">    &#125;</span><br><span class="line">    func();</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<p><strong>arguments.calleeçš„ç†è§£</strong></p>
<p>calleeæ˜¯argumentsçš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒå¯ä»¥è¢«ç”¨ä½œå½“å‰å‡½æ•°æˆ–å‡½æ•°ä½“æ‰§è¡Œçš„ç¯å¢ƒä¸­ï¼Œæˆ–è€…è¯´è°ƒç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼›è¿”å›çš„æ˜¯å½“å‰æ­£åœ¨è¢«æ‰§è¡Œçš„Functionå¯¹è±¡ï¼›ç®€å•çš„æ¥è¯´å°±æ˜¯å½“å‰æ‰§è¡Œç¯å¢ƒçš„å‡½æ•°è¢«è°ƒç”¨æ—¶å€™ï¼Œarguments.calleeå¯¹è±¡ä¼šæŒ‡å‘ä¸è‡ªèº«ï¼Œå°±æ˜¯å½“å‰çš„é‚£ä¸ªå‡½æ•°çš„å¼•ç”¨ï¼›</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var count &#x3D; 1;</span><br><span class="line">var test &#x3D; function() &#123;</span><br><span class="line">    console.log(count + &quot; -- &quot; + (test.length &#x3D;&#x3D; arguments.callee.length) );</span><br><span class="line">    &#x2F;&#x2F; æ‰“å°å‡º 1 -- true 2 -- true  3 -- true </span><br><span class="line">    if (count++ &lt; 3) &#123;</span><br><span class="line">        &#x2F;&#x2F; è°ƒç”¨test()å‡½æ•°è‡ªèº«</span><br><span class="line">        arguments.callee();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">test();</span><br></pre></td></tr></table></figure>

<p><code>arguments.callee()</code>çš„å«ä¹‰æ˜¯è°ƒç”¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°è‡ªèº«ï¼Œæ¯”å¦‚ä¸Šé¢çš„testçš„åŒ¿åå‡½æ•°ï¼›</p>
<p><strong>Function.prototype.bindä»‹ç»</strong></p>
<p>ç›®å‰å¾ˆå¤šé«˜çº§æµè§ˆå™¨éƒ½æ”¯æŒ<code>Function.prototype.bind</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨æ¥æŒ‡å®šå‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘ã€‚ä¸ºäº†æ”¯æŒå„ä¸ªæµè§ˆå™¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±æ¥ç®€å•çš„æ¨¡æ‹Ÿä¸€ä¸ª~</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.bind &#x3D; function(context) &#123;</span><br><span class="line">    var self &#x3D; this;</span><br><span class="line">    return function()&#123;</span><br><span class="line">        return self.apply(context,arguments);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var yunxi &#x3D; &#123;</span><br><span class="line">    name: &#39;yunxi&#39;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var func &#x3D; function()&#123;</span><br><span class="line">    console.log(this.name); &#x2F;&#x2F; yunxi</span><br><span class="line">&#125;.bind(yunxi);</span><br><span class="line"></span><br><span class="line">func();</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼šfuncè¿™ä¸ªå‡½æ•°ä½¿ç”¨è°ƒç”¨bindè¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æŠŠå¯¹è±¡yunxiä½œä¸ºå‚æ•°ä¼ è¿›å»ï¼Œç„¶åbindå‡½æ•°ä½¿ç”¨returnè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå½“æˆ‘ä»¬è°ƒç”¨<code>func()</code>æ‰§è¡Œè¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œå…¶å®æˆ‘ä»¬å°±æ˜¯åœ¨è°ƒç”¨bindæ–¹æ³•å†…çš„returnè¿”å›çš„é‚£ä¸ªå‡½æ•°ï¼Œåœ¨è¿”å›çš„é‚£ä¸ªå‡½æ•°å†…contextçš„ä¸Šä¸‹æ–‡å…¶å®å°±æ˜¯æˆ‘ä»¬ä»¥å‚æ•°yunxiå¯¹è±¡ä¼ è¿›å»çš„ï¼Œå› æ­¤thisæŒ‡é’ˆæŒ‡å‘ä¸yunxiè¿™ä¸ªå¯¹è±¡äº†~ æ‰€ä»¥æ‰“å°å‡º<code>this.name</code>Â å°±æ˜¯yunxié‚£ä¸ªå¯¹è±¡çš„nameäº†;</p>
<p>é™¤äº†ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°çš„ä»‹ç»applyæˆ–è€…callæ–¹æ³•å¯ä»¥æ”¹å˜thisæŒ‡é’ˆå¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨callæˆ–è€…applyæ¥ç»§æ‰¿å¯¹è±¡çš„æ–¹æ³•ï¼›å®è´¨ä¹Ÿå°±æ˜¯æ”¹å˜thisçš„æŒ‡é’ˆäº†ï¼›</p>
<p>æ¯”å¦‚æœ‰å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var Yunxi &#x3D; function(name)&#123;</span><br><span class="line">    this.name &#x3D; name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var Longen &#x3D; function()&#123;</span><br><span class="line">    Yunxi.apply(this,arguments);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Longen.prototype.getName &#x3D; function()&#123;</span><br><span class="line">    return this.name;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var longen &#x3D; new Longen(&quot;tugenhua&quot;);</span><br><span class="line">console.log(longen.getName());  &#x2F;&#x2F; æ‰“å°å‡ºtugenhua</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç ï¼šæˆ‘å…ˆå®ä¾‹åŒ–Longenè¿™ä¸ªå¯¹è±¡ï¼ŒæŠŠå‚æ•°ä¼ è¿›å»ï¼Œä¹‹åä½¿ç”¨<code>Yunxi.apply(this,arguments)</code>è¿™å¥ä»£ç æ¥æ”¹å˜Longenè¿™ä¸ªå¯¹è±¡çš„thisçš„æŒ‡é’ˆï¼Œä½¿ä»–æŒ‡å‘äº†Yunxiè¿™ä¸ªå¯¹è±¡ï¼Œå› æ­¤Yunxiè¿™ä¸ªå¯¹è±¡ä¿å­˜äº†longenè¿™ä¸ªå®ä¾‹åŒ–å¯¹è±¡çš„å‚æ•°tugenhuaï¼Œå› æ­¤å½“æˆ‘ä»¬è°ƒç”¨<code>longen.getName</code>è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿”å›<code>this.name</code>ï¼Œå³æˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¿”å›çš„æ˜¯<code>Yunxi.name</code>Â å› æ­¤è¿”å›çš„æ˜¯ tugenhuaï¼Œæˆ‘ä»¬åªæ˜¯å€Ÿç”¨äº†ä¸‹Yunxiè¿™ä¸ªå¯¹è±¡å†…çš„<code>this.name</code>æ¥ä¿å­˜Longenä¼ è¿›å»çš„å‚æ•°è€Œå·²ï¼›</p>
<p><strong>äºŒï¼šé—­åŒ…çš„ç†è§£</strong></p>
<p><strong>é—­åŒ…çš„ç»“æ„æœ‰å¦‚ä¸‹2ä¸ªç‰¹æ€§</strong></p>
<p>1.å°é—­æ€§ï¼šå¤–ç•Œæ— æ³•è®¿é—®é—­åŒ…å†…éƒ¨çš„æ•°æ®ï¼Œå¦‚æœåœ¨é—­åŒ…å†…å£°æ˜å˜é‡ï¼Œå¤–ç•Œæ˜¯æ— æ³•è®¿é—®çš„ï¼Œé™¤éé—­åŒ…ä¸»åŠ¨å‘å¤–ç•Œæä¾›è®¿é—®æ¥å£ï¼›</p>
<p>2.æŒä¹…æ€§ï¼šä¸€èˆ¬çš„å‡½æ•°ï¼Œè°ƒç”¨å®Œæ¯•ä¹‹åï¼Œç³»ç»Ÿè‡ªåŠ¨æ³¨é”€å‡½æ•°ï¼Œè€Œå¯¹äºé—­åŒ…æ¥è¯´ï¼Œåœ¨å¤–éƒ¨å‡½æ•°è¢«è°ƒç”¨ä¹‹åï¼Œé—­åŒ…ç»“æ„ä¾ç„¶ä¿å­˜åœ¨</p>
<p>ç³»ç»Ÿä¸­ï¼Œé—­åŒ…ä¸­çš„æ•°æ®ä¾ç„¶å­˜åœ¨ï¼Œä»è€Œå®ç°å¯¹æ•°æ®çš„æŒä¹…ä½¿ç”¨ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>ä½¿ç”¨é—­åŒ…ä¼šå æœ‰å†…å­˜èµ„æºï¼Œè¿‡å¤šçš„ä½¿ç”¨é—­åŒ…ä¼šå¯¼è‡´å†…å­˜æº¢å‡ºç­‰.</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function a(x) &#123;</span><br><span class="line">    var a &#x3D; x;</span><br><span class="line">    var b &#x3D; function()&#123;</span><br><span class="line">        return a;</span><br><span class="line">    &#125;</span><br><span class="line">    return b;</span><br><span class="line">&#125;</span><br><span class="line">var b &#x3D; a(1);</span><br><span class="line">console.log(b()); &#x2F;&#x2F; 1</span><br></pre></td></tr></table></figure>

<p>é¦–å…ˆåœ¨aå‡½æ•°å†…å®šä¹‰äº†2ä¸ªå˜é‡ï¼Œ1ä¸ªæ˜¯å­˜å‚¨å‚æ•°ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯é—­åŒ…ç»“æ„ï¼Œåœ¨é—­åŒ…ç»“æ„ä¸­ä¿å­˜ç€bå‡½æ•°å†…çš„aå˜é‡ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå½“aå‡½æ•°è°ƒç”¨å®Œä¹‹åaå˜é‡ä¼šè‡ªåŠ¨é”€æ¯çš„ï¼Œä½†æ˜¯ç”±äºé—­åŒ…çš„å½±å“ï¼Œé—­åŒ…ä¸­ä½¿ç”¨äº†å¤–ç•Œçš„å˜é‡ï¼Œå› æ­¤aå˜é‡ä¼šä¸€ç›´ä¿å­˜åœ¨å†…å­˜å½“ä¸­ï¼Œå› æ­¤å˜é‡aå‚æ•°æ²¡æœ‰éšç€aå‡½æ•°é”€æ¯è€Œè¢«é‡Šæ”¾ï¼Œå› æ­¤å¼•ç”³å‡ºé—­åŒ…çš„ç¼ºç‚¹æ˜¯ï¼šè¿‡å¤šçš„ä½¿ç”¨é—­åŒ…ä¼šå æœ‰å†…å­˜èµ„æºï¼Œæˆ–å†…å­˜æº¢å‡ºç­‰è‚¯èƒ½æ€§ï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ç»å…¸çš„é—­åŒ…å®åˆ—å¦‚ä¸‹ï¼š</span><br><span class="line">function f(x)&#123;              &#x2F;&#x2F;å¤–éƒ¨å‡½æ•°</span><br><span class="line">    var a &#x3D; x;              &#x2F;&#x2F; å¤–éƒ¨å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œå¹¶ä¼ é€’å‚æ•°</span><br><span class="line">    var b &#x3D; function()&#123;     &#x2F;&#x2F; å†…éƒ¨å‡½æ•° </span><br><span class="line">        return a;           &#x2F;&#x2F; è®¿é—®å¤–éƒ¨å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡</span><br><span class="line">    &#125;;</span><br><span class="line">    a++;                    &#x2F;&#x2F; è®¿é—®åï¼ŒåŠ¨æ€æ›´æ–°å¤–éƒ¨å‡½æ•°çš„å˜é‡</span><br><span class="line">    return b;               &#x2F;&#x2F; è¿”å›å†…éƒ¨å‡½æ•°</span><br><span class="line">&#125;</span><br><span class="line">var c &#x3D; f(5);               &#x2F;&#x2F; è°ƒç”¨å¤–éƒ¨å‡½æ•°å¹¶ä¸”èµ‹å€¼</span><br><span class="line">console.log(c());           &#x2F;&#x2F; è°ƒç”¨å†…éƒ¨å‡½æ•°ï¼Œè¿”å›å¤–éƒ¨å‡½æ•°æ›´æ–°åçš„å€¼ä¸º6</span><br></pre></td></tr></table></figure>

<p><strong>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä¸‹ä½¿ç”¨é—­åŒ…çš„åˆ—å­</strong></p>
<p>åœ¨å¦‚ä¸‹ä»£ç ä¸­æœ‰2ä¸ªå‡½æ•°ï¼Œfå‡½æ•°çš„åŠŸèƒ½æ˜¯ï¼šæŠŠæ•°ç»„ç±»å‹çš„å‚æ•°ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼åˆ†åˆ«å°è£…åœ¨é—­åŒ…ç»“æ„ä¸­ï¼Œç„¶åæŠŠé—­åŒ…å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå¹¶è¿”å›è¿™ä¸ªæ•°ç»„ï¼Œä½†æ˜¯åœ¨å‡½æ•°eä¸­è°ƒç”¨å‡½æ•°få¹¶å‘å…¶ä¼ é€’ä¸€ä¸ªæ•°ç»„<code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</code>,ç„¶åéå†è¿”å›å‡½æ•°fè¿”å›æ•°ç»„ï¼Œæˆ‘ä»¬è¿è¡Œæ‰“å°åå‘ç°éƒ½æ˜¯c undefinedï¼Œé‚£æ˜¯å› ä¸ºåœ¨æ‰§è¡Œfå‡½æ•°ä¸­çš„å¾ªç¯æ—¶å€™ï¼ŒæŠŠå€¼è™½ç„¶ä¿å­˜åœ¨tempä¸­ï¼Œä½†æ˜¯æ¯æ¬¡å¾ªç¯åtempå€¼åœ¨ä¸æ–­çš„å˜åŒ–ï¼Œå½“forå¾ªç¯ç»“æŸåï¼Œæ­¤æ—¶tempå€¼ä¸ºcï¼ŒåŒæ—¶iå˜ä¸º3ï¼Œå› æ­¤å½“è°ƒç”¨çš„æ—¶å€™ æ‰“å°å‡ºæ¥çš„æ˜¯tempä¸º3ï¼Œarrs[3]å˜ä¸ºundefinedï¼›å› æ­¤æ‰“å°å‡º c undefined</p>
<p>è§£å†³é—­åŒ…çš„ç¼ºé™·æˆ‘ä»¬å¯ä»¥å†åœ¨å¤–é¢åŒ…ä¸€å±‚å‡½æ•°ï¼Œæ¯æ¬¡å¾ªç¯çš„æ—¶å€™ï¼ŒæŠŠtempå‚æ•°å’Œiå‚æ•°ä¼ é€’è¿›å» å¦‚ä»£ç äºŒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ä»£ç ä¸€</span><br><span class="line">function f(x) &#123;</span><br><span class="line">    var arrs &#x3D; [];</span><br><span class="line">    for(var i &#x3D; 0; i &lt; x.length; i++) &#123;</span><br><span class="line">        var temp &#x3D; x[i];</span><br><span class="line">        arrs.push(function()&#123;</span><br><span class="line">            console.log(temp + &#39; &#39; +x[i]); &#x2F;&#x2F; c undefined</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    return arrs;</span><br><span class="line">&#125;</span><br><span class="line">function e()&#123;</span><br><span class="line">    var ar &#x3D; f([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]);</span><br><span class="line">    for(var i &#x3D; 0,ilen &#x3D; ar.length; i &lt; ilen; i++) &#123;</span><br><span class="line">        ar[i]();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">e(); </span><br><span class="line">&#x2F;&#x2F; ä»£ç äºŒï¼š</span><br><span class="line">function f2(x) &#123;</span><br><span class="line">    var arrs &#x3D; [];</span><br><span class="line">    for(var i &#x3D; 0; i &lt; x.length; i++) &#123;</span><br><span class="line">        var temp &#x3D; x[i];</span><br><span class="line">        (function(temp,i)&#123;</span><br><span class="line">            arrs.push(function()&#123;</span><br><span class="line">                console.log(temp + &#39; &#39; +x[i]); &#x2F;&#x2F; c undefined</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)(temp,i);</span><br><span class="line">    &#125;</span><br><span class="line">    return arrs;</span><br><span class="line">&#125;</span><br><span class="line">function e2()&#123;</span><br><span class="line">    var ar &#x3D; f2([&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]);</span><br><span class="line">    for(var i &#x3D; 0,ilen &#x3D; ar.length; i &lt; ilen; i++) &#123;</span><br><span class="line">        ar[i]();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">e2(); </span><br></pre></td></tr></table></figure>

<p><strong>ä¸‰ï¼šjavascriptä¸­çš„thisè¯¦è§£</strong></p>
<p>thisçš„æŒ‡å‘å¸¸è§çš„æœ‰å¦‚ä¸‹å‡ ç‚¹éœ€è¦å¸¸ç”¨åˆ°ï¼š</p>
<ol>
<li> å…¨å±€å¯¹è±¡çš„thisæ˜¯æŒ‡å‘ä¸windowï¼›</li>
<li> ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ã€‚</li>
<li> ä½œä¸ºå¯¹è±¡æ–¹æ³•è°ƒç”¨ã€‚</li>
<li> æ„é€ å™¨è°ƒç”¨ã€‚</li>
<li> <code>Function.prototype.call</code>Â æˆ–Â <code>Function.prototype.apply</code>è°ƒç”¨ã€‚</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«æ¥ä»‹ç»ä¸€ä¸‹</p>
<p><strong>1.å…¨å±€å¯¹è±¡çš„thisï¼›</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">console.log(this); &#x2F;&#x2F; thisæŒ‡å‘äºwindow</span><br><span class="line">setTimeout() å’Œ setInterval()å‡½æ•°å†…éƒ¨çš„thisæŒ‡é’ˆæ˜¯æŒ‡å‘äºwindowçš„ï¼Œå¦‚ä¸‹ä»£ç ï¼š</span><br><span class="line"> function test()&#123;</span><br><span class="line">    console.log(11);</span><br><span class="line"> &#125;</span><br><span class="line"> setTimeout(function()&#123;</span><br><span class="line">    console.log(this &#x3D;&#x3D;&#x3D; window); &#x2F;&#x2F; true</span><br><span class="line">    this.test(); &#x2F;&#x2F; 11 </span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>2.ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ï¼›</strong></p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &quot;longen&quot;;</span><br><span class="line">function test()&#123;</span><br><span class="line">    return this.name;</span><br><span class="line">&#125;</span><br><span class="line">console.log(test()); &#x2F;&#x2F; longen</span><br></pre></td></tr></table></figure>

<p>å½“ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨æ—¶å€™ï¼Œthisæ€»æ˜¯æŒ‡å‘äº†å…¨å±€å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨å½“ä¸­ï¼Œå…¨å±€å¯¹è±¡ä¸€èˆ¬æŒ‡çš„æ˜¯windowï¼›</p>
<p><strong>3.ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ã€‚</strong></p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj &#x3D; &#123;</span><br><span class="line">    &quot;name&quot;: &quot;æˆ‘çš„èŠ±åæ”¹ä¸ºäº‘æºªäº†ï¼Œå°±æ˜¯ä¸ºäº†å¥½ç©&quot;,</span><br><span class="line">    getName: function()&#123;</span><br><span class="line">        console.log(this); &#x2F;&#x2F; åœ¨è¿™é‡ŒthisæŒ‡å‘äºobjå¯¹è±¡äº†</span><br><span class="line">        console.log(this.name); &#x2F;&#x2F; æ‰“å° æˆ‘çš„èŠ±åæ”¹ä¸ºäº‘æºªäº†ï¼Œå°±æ˜¯ä¸ºäº†å¥½ç©</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getName(); &#x2F;&#x2F; å¯¹è±¡æ–¹æ³•è°ƒç”¨</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å‘¢ï¼Œæˆ‘ä»¬ä¸èƒ½åƒå¦‚ä¸‹ä¸€æ ·è°ƒç”¨å¯¹è±¡äº†ï¼Œå¦‚ä¸‹è°ƒç”¨å¯¹è±¡çš„è¯ï¼Œthisè¿˜æ˜¯æ‰§è¡Œäº†windowï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &quot;å…¨å±€å¯¹è±¡åå­—&quot;;</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">    &quot;name&quot;: &quot;æˆ‘çš„èŠ±åæ”¹ä¸ºäº‘æºªäº†ï¼Œå°±æ˜¯ä¸ºäº†å¥½ç©&quot;,</span><br><span class="line">    getName: function()&#123;</span><br><span class="line">        console.log(this);  &#x2F;&#x2F; window</span><br><span class="line">        console.log(this.name); &#x2F;&#x2F; å…¨å±€å¯¹è±¡åå­—</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var yunxi &#x3D; obj.getName; </span><br><span class="line">yunxi();</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œyunxi()å‡½æ•°ï¼Œè¿˜æ˜¯ä¼šåƒè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·ï¼ŒthisæŒ‡å‘äº†windowçš„ï¼›</p>
<p><strong>4.æ„é€ å™¨è°ƒç”¨ã€‚</strong><br>Javascriptä¸­ä¸åƒJavaä¸€æ ·ï¼Œæœ‰ç±»çš„æ¦‚å¿µï¼Œè€ŒJSä¸­åªèƒ½é€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼Œé€šè¿‡new å¯¹è±¡ï¼Œå½“newè¿ç®—ç¬¦è°ƒç”¨å‡½æ•°æ—¶å€™ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ„é€ å™¨é‡Œé¢çš„thiså°±æ˜¯æŒ‡å‘è¿”å›çš„è¿™ä¸ªå¯¹è±¡ï¼›</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var Obj &#x3D; function()&#123;</span><br><span class="line">    this.name &#x3D; &quot;yunxi&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">var test &#x3D; new Obj();</span><br><span class="line">console.log(test.name); &#x2F;&#x2F; yunxi</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæ„é€ å™¨å‡½æ•°ç¬¬ä¸€ä¸ªå­—æ¯éœ€è¦å¤§å†™ï¼Œè¿™æ˜¯ä¸ºäº†åŒºåˆ†æ™®é€šå‡½æ•°è¿˜æ˜¯æ„é€ å™¨å‡½æ•°è€Œè¨€ï¼›</p>
<p>å¦‚ä¸Šä»£ç ï¼šé€šè¿‡è°ƒç”¨<code>new Obj()</code>æ–¹æ³• è¿”å›å€¼ä¿å­˜åˆ°testå˜é‡ä¸­ï¼Œé‚£ä¹ˆtestå°±æ˜¯é‚£ä¸ªå¯¹è±¡äº†ï¼Œæ‰€ä»¥å†…éƒ¨çš„thiså°±æŒ‡å‘ä¸testå¯¹è±¡äº†ï¼Œå› æ­¤<code>test.name</code>å°±å¼•ç”¨åˆ°äº†å†…éƒ¨çš„<code>this.name</code>Â å³è¾“å‡º â€œyunxiâ€å­—ç¬¦ä¸²ï¼›</p>
<p>ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–çš„æƒ…å†µï¼Œæ¯”å¦‚æ„é€ å™¨æ˜¾ç¤ºåœ°è¿”å›äº†ä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œé‚£ä¹ˆè¿™æ¬¡ç»§ç»­è°ƒç”¨çš„è¯ï¼Œé‚£ä¹ˆä¼šæœ€ç»ˆä¼šè¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œæ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var obj &#x3D; function()&#123;</span><br><span class="line">    this.name &#x3D; &quot;yunxi&quot;;</span><br><span class="line">    return &#123;</span><br><span class="line">        &quot;age&quot;: &quot;27&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var test &#x3D; new obj();</span><br><span class="line">console.log(test.name); &#x2F;&#x2F; undefined</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆç»§ç»­è°ƒç”¨çš„è¯ï¼Œä¼šè¿”å›unedfinedï¼Œå› ä¸ºè¿”å›çš„æ˜¯é‚£ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œé¢æ²¡æœ‰nameè¿™ä¸ªå±æ€§ï¼Œå› æ­¤å€¼ä¸ºundefinedï¼›</p>
<p><strong>å››ï¼šç†è§£å‡½æ•°å¼•ç”¨å’Œå‡½æ•°è°ƒç”¨çš„åŒºåˆ«</strong></p>
<p>çœ‹ä¸‹é¢çš„ä»£ç åˆ†æ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å‡½æ•°å¼•ç”¨ ä»£ç ä¸€</span><br><span class="line">function f()&#123;</span><br><span class="line">    var x &#x3D; 5;</span><br><span class="line">    return x;</span><br><span class="line">&#125;</span><br><span class="line">var a &#x3D; f;</span><br><span class="line">var b &#x3D; f;</span><br><span class="line"></span><br><span class="line">console.log(a&#x3D;&#x3D;&#x3D;b); &#x2F;&#x2F; true</span><br><span class="line">&#x2F;&#x2F; å‡½æ•°è°ƒç”¨ ä»£ç äºŒ</span><br><span class="line">function f2() &#123;</span><br><span class="line">    var x &#x3D; 5;</span><br><span class="line">    return x;</span><br><span class="line">&#125;</span><br><span class="line">var a2 &#x3D; f2();</span><br><span class="line">var b2 &#x3D; f2();</span><br><span class="line">console.log(a2 &#x3D;&#x3D;&#x3D; b2);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å‡½æ•°è°ƒç”¨ ä»£ç ä¸‰</span><br><span class="line">function f3()&#123;</span><br><span class="line">    var x &#x3D; 5;</span><br><span class="line">    return function()&#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">var a3 &#x3D; f3();</span><br><span class="line">var b3 &#x3D; f3();</span><br><span class="line">console.log(a3 &#x3D;&#x3D;&#x3D; b3); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šçš„ä»£ç ï¼šä»£ç ä¸€å’Œä»£ç äºŒåˆ†éƒ¨æ˜¯å‡½æ•°å¼•ç”¨å’Œå‡½æ•°è°ƒç”¨çš„åˆ—å­ï¼Œè¿”å›éƒ½ä¸ºtrueï¼Œä»£ç ä¸‰ä¹Ÿæ˜¯å‡½æ•°è°ƒç”¨çš„åˆ—å­ï¼Œè¿”å›ä¸”ä¸ºfalse</p>
<p>æˆ‘ä»¬ç°åœ¨æ¥ç†è§£ä¸‹å‡½æ•°å¼•ç”¨å’Œå‡½æ•°è°ƒç”¨çš„æœ¬è´¨åŒºåˆ«ï¼šå½“å¼•ç”¨å‡½æ•°æ—¶å€™ï¼Œå¤šä¸ªå˜é‡å†…å­˜å­˜å‚¨çš„æ˜¯å‡½æ•°çš„ç›¸åŒçš„å…¥å£æŒ‡é’ˆï¼Œå› æ­¤å¯¹äºåŒä¸€ä¸ªå‡½æ•°æ¥è®²ï¼Œæ— è®ºå¤šå°‘ä¸ªå˜é‡å¼•ç”¨ï¼Œä»–ä»¬éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œå› ä¸ºå¯¹äºå¼•ç”¨ç±»å‹(å¯¹è±¡ï¼Œæ•°ç»„ï¼Œå‡½æ•°ç­‰)éƒ½æ˜¯æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€ï¼Œå¦‚æœä»–ä»¬å†…å­˜åœ°å€ä¸€æ ·çš„è¯ï¼Œè¯´æ˜æ˜¯ç›¸åŒçš„ï¼›ä½†æ˜¯å¯¹äºå‡½æ•°è°ƒç”¨æ¥è®²ï¼Œæ¯”å¦‚ä»£ç ä¸‰;æ¯æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œéƒ½è¢«åˆ†é…ä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥ä»–ä»¬çš„å†…å­˜åœ°å€ä¸ç›¸åŒï¼Œå› æ­¤ä»–ä»¬ä¼šè¿”å›falseï¼Œä½†æ˜¯å¯¹äºä»£ç äºŒæ¥è®²ï¼Œæˆ‘ä»¬çœ‹åˆ°ä»–ä»¬æ²¡æœ‰è¿”å›å‡½æ•°ï¼Œåªæ˜¯è¿”å›æ•°å€¼ï¼Œä»–ä»¬æ¯”è¾ƒçš„ä¸æ˜¯å†…å­˜åœ°å€ï¼Œè€Œæ˜¯æ¯”è¾ƒå€¼ï¼Œæ‰€ä»¥ä»–ä»¬çš„å€¼ç›¸ç­‰ï¼Œå› æ­¤ä»–ä»¬ä¹Ÿè¿”å›trueï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹çœ‹å¦‚ä¸‹å®åˆ—åŒ–ä¸€ä¸ªå¯¹è±¡çš„åˆ—å­ï¼Œä»–ä»¬ä¹Ÿè¢«åˆ†é…åˆ°ä¸åŒçš„å†…å­˜åœ°å€ï¼Œå› æ­¤ä»–ä»¬ä¹Ÿæ˜¯è¿”å›falseçš„ï¼›å¦‚ä¸‹ä»£ç æµ‹è¯•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function F()&#123;</span><br><span class="line">    this.x &#x3D; 5;</span><br><span class="line">&#125;</span><br><span class="line">var a &#x3D; new F();</span><br><span class="line">var b &#x3D; new F();</span><br><span class="line">console.log(a &#x3D;&#x3D;&#x3D; b); &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p><strong>äº”ï¼šç†è§£jsä¸­çš„é“¾å¼è°ƒç”¨</strong></p>
<p>æˆ‘ä»¬ä½¿ç”¨jqueryçš„æ—¶å€™ï¼Œjqueryçš„ç®€å•çš„è¯­æ³•åŠå¯å®ç°é“¾å¼è°ƒç”¨æ–¹æ³•ï¼Œç°åœ¨æˆ‘ä»¬è‡ªå·±ä¹Ÿå°è£…ä¸€ä¸ªé“¾å¼è°ƒç”¨çš„æ–¹æ³•ï¼Œæ¥ç†è§£ä¸‹ jqueryä¸­å¦‚ä½•å°è£…é“¾å¼è°ƒç”¨ æ— éå°±æ˜¯æ¯æ¬¡è°ƒç”¨ä¸€ä¸ªæ–¹æ³•çš„æ—¶å€™ ç»™è¿™ä¸ªæ–¹æ³•è¿”å›thiså³å¯ï¼ŒthisæŒ‡å‘è¯¥å¯¹è±¡è‡ªèº«ï¼Œæˆ‘ä»¬çœ‹çœ‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Œæ¯æ¬¡è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•éƒ½è¿”å›è¯¥å¯¹è±¡è‡ªèº«</span><br><span class="line">var obj &#x3D; &#123;</span><br><span class="line">    a: function()&#123;</span><br><span class="line">        console.log(&quot;è¾“å‡ºa&quot;);</span><br><span class="line">        return this;</span><br><span class="line">    &#125;,</span><br><span class="line">    b:function()&#123;</span><br><span class="line">        console.log(&quot;è¾“å‡ºb&quot;);</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">console.log(obj.a().b()); &#x2F;&#x2F; è¾“å‡ºa è¾“å‡ºb è¾“å‡ºthisæŒ‡å‘ä¸objè¿™ä¸ªå¯¹è±¡</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ä¸‹é¢æˆ‘ä»¬å†çœ‹ä¸‹ ä¸Šé¢çš„é€šè¿‡Functionæ‰©å±•ç±»å‹æ·»åŠ æ–¹æ³•çš„demoå¦‚ä¸‹ï¼š</span><br><span class="line">Function.prototype.method &#x3D; function(name,func) &#123;</span><br><span class="line">    if(!this.prototype[name]) &#123;</span><br><span class="line">        this.prototype[name] &#x3D; func;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String.method(&#39;trim&#39;,function()&#123;</span><br><span class="line">    return this.replace(&#x2F;^\s+|\s+$&#x2F;g,&#39;&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">String.method(&#39;log2&#39;,function()&#123;</span><br><span class="line">    console.log(&quot;é“¾å¼è°ƒç”¨&quot;);</span><br><span class="line">    return this;</span><br><span class="line">&#125;);</span><br><span class="line">String.method(&#39;r&#39;,function()&#123;</span><br><span class="line">    return this.replace(&#x2F;a&#x2F;,&#39;&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">var str &#x3D; &quot; abc &quot;;</span><br><span class="line">console.log(str.trim().log2().r()); &#x2F;&#x2F; è¾“å‡ºé“¾å¼è°ƒç”¨å’Œ bc</span><br></pre></td></tr></table></figure>

<p><strong>å…­ï¼šç†è§£ä½¿ç”¨å‡½æ•°å®ç°å†å²è®°å½•â€“æé«˜æ€§èƒ½</strong></p>
<p>å‡½æ•°å¯ä»¥ä½¿ç”¨å¯¹è±¡å»è®°ä½å…ˆå‰æ“ä½œçš„ç»“æœï¼Œä»è€Œé¿å…å¤šä½™çš„è¿ç®—ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æµ‹è¯•ä¸€ä¸ªè´¹æ³¢çº³èŒ¨çš„ç®—æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’å‡½æ•°è®¡ç®—fibonacciæ•°åˆ—ï¼Œä¸€ä¸ªfibonacciæ•°å­—æ˜¯ä¹‹å‰ä¸¤ä¸ªfibonacciæ•°å­—ä¹‹å’Œï¼Œæœ€å‰é¢çš„ä¸¤ä¸ªæ•°å­—æ˜¯0å’Œ1ï¼›ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var count &#x3D; 0;</span><br><span class="line"> var fibonacci &#x3D; function(n) &#123;</span><br><span class="line">    count++;</span><br><span class="line">    return n &lt; 2 ? n : fibonacci(n-1) + fibonacci(n-2);</span><br><span class="line"> &#125;;</span><br><span class="line"> for(var i &#x3D; 0; i &lt;&#x3D; 10; i+&#x3D;1) &#123;</span><br><span class="line">    console.log(i+&quot;:&quot;+fibonacci(i));</span><br><span class="line"> &#125;</span><br><span class="line"> console.log(count); &#x2F;&#x2F; 453</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸Š fibonacciå‡½æ•°æ€»å…±è°ƒç”¨äº†453æ¬¡ï¼Œforå¾ªç¯äº†11æ¬¡ï¼Œå®ƒè‡ªèº«è°ƒç”¨äº†442æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„è®°å¿†å‡½æ•°çš„è¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥å‡å°‘ä»–ä»¬çš„è¿ç®—æ¬¡æ•°ï¼Œä»è€Œæé«˜æ€§èƒ½ï¼›</p>
<p>æ€è·¯ï¼šå…ˆä½¿ç”¨ä¸€ä¸ªä¸´æ—¶æ•°ç»„ä¿å­˜å­˜å‚¨ç»“æœï¼Œå½“å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå…ˆçœ‹æ˜¯å¦å·²ç»æœ‰å­˜å‚¨ç»“æœ å¦‚æœæœ‰çš„è¯ï¼Œå°±ç«‹å³è¿”å›è¿™ä¸ªå­˜å‚¨ç»“æœï¼Œå¦åˆ™çš„è¯ï¼Œè°ƒç”¨å‡½æ•°è¿ç®—ä¸‹ï¼›ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var count2 &#x3D; 0;</span><br><span class="line">var fibonacci2 &#x3D; (function()&#123;</span><br><span class="line">    var memo &#x3D; [0,1];</span><br><span class="line">    var fib &#x3D; function(n) &#123;</span><br><span class="line">        var result &#x3D; memo[n];</span><br><span class="line">        count2++;</span><br><span class="line">        if(typeof result !&#x3D;&#x3D; &#39;number&#39;) &#123;</span><br><span class="line">            result &#x3D; fib(n-1) + fib(n-2);</span><br><span class="line">            memo[n] &#x3D; result;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;;</span><br><span class="line">    return fib;</span><br><span class="line"> &#125;)();</span><br><span class="line"> for(var j &#x3D; 0; j &lt;&#x3D; 10; j+&#x3D;1) &#123;</span><br><span class="line">    console.log(j+&quot;:&quot;+fibonacci2(j));</span><br><span class="line"> &#125;</span><br><span class="line"> console.log(count2); &#x2F;&#x2F; 29</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªå‡½æ•°ä¹Ÿè¿”å›äº†åŒæ ·çš„ç»“æœï¼Œä½†æ˜¯åªè°ƒç”¨äº†å‡½æ•°29æ¬¡ï¼Œå¾ªç¯äº†11æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°è‡ªèº«è°ƒç”¨äº†18æ¬¡ï¼Œä»è€Œå‡å°‘æ— è°“çš„å‡½æ•°çš„è°ƒç”¨åŠè¿ç®—ï¼Œä¸‹é¢æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå‡½æ•°è¿›è¡ŒæŠ½è±¡åŒ–ï¼Œä»¥æ„é€ å¸¦è®°å¿†åŠŸèƒ½çš„å‡½æ•°ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var count3 &#x3D; 0;</span><br><span class="line">var memoizer &#x3D; function(memo,formula) &#123;</span><br><span class="line">    var recur &#x3D; function(n) &#123;</span><br><span class="line">        var result &#x3D; memo[n];</span><br><span class="line">        count3++;   &#x2F;&#x2F; è¿™å¥ä»£ç åªæ˜¯è¯´æ˜è¿è¡Œå‡½æ•°å¤šå°‘æ¬¡ï¼Œåœ¨ä»£ç ä¸­å¹¶æ— ä½œç”¨ï¼Œå®é™…ä½¿ç”¨ä¸Šå¯ä»¥åˆ æ‰</span><br><span class="line">        if(typeof result !&#x3D;&#x3D; &#39;number&#39;) &#123;</span><br><span class="line">            result &#x3D; formula(recur,n);</span><br><span class="line">            memo[n] &#x3D; result;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;;</span><br><span class="line">    return recur;</span><br><span class="line"> &#125;;</span><br><span class="line"> var fibonacci3 &#x3D; memoizer([0,1],function(recur,n)&#123;</span><br><span class="line">    return recur(n-1) + recur(n-2);</span><br><span class="line"> &#125;);</span><br><span class="line"> &#x2F;&#x2F; è°ƒç”¨æ–¹å¼å¦‚ä¸‹</span><br><span class="line"> for(var k &#x3D; 0; k &lt;&#x3D;10; k+&#x3D;1) &#123;</span><br><span class="line">    console.log(k+&quot;:&quot;+fibonacci3(k));</span><br><span class="line"> &#125;</span><br><span class="line"> console.log(count3); &#x2F;&#x2F; 29</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šå°è£… memoizer é‡Œé¢çš„å‚æ•°æ˜¯å®ç°æŸä¸ªæ–¹æ³•çš„è®¡ç®—å…¬å¼ï¼Œå…·ä½“çš„å¯ä»¥æ ¹æ®éœ€è¦è‡ªå·±æ‰‹åŠ¨æ›´æ”¹ï¼Œè¿™è¾¹çš„æ€è·¯æ— éå°±æ˜¯æƒ³ä¹ æƒ¯ä½¿ç”¨å¯¹è±¡å»ä¿å­˜ä¸´æ—¶å€¼ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å–å€¼å­˜å‚¨å€¼çš„æ“ä½œï¼›</p>
<p><strong>ä¸ƒï¼šç†è§£é€šè¿‡Functionæ‰©å±•ç±»å‹</strong></p>
<p>javascript å…è®¸ä¸ºè¯­è¨€çš„åŸºæœ¬æ•°æ®ç±»å‹å®šä¹‰æ–¹æ³•ã€‚é€šè¿‡<code>Object.prototype</code>æ·»åŠ åŸå‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯è¢«æ‰€æœ‰çš„å¯¹è±¡ä½¿ç”¨ã€‚</p>
<p>è¿™å¯¹å‡½æ•°ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œæ­£åˆ™å’Œå¸ƒå°”å€¼éƒ½é€‚ç”¨ï¼Œæ¯”å¦‚å¦‚ä¸‹ç°åœ¨ç»™<code>Function.prototype</code>å¢åŠ æ–¹æ³•ï¼Œä½¿è¯¥æ–¹æ³•å¯¹æ‰€æœ‰å‡½æ•°éƒ½å¯ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.method &#x3D; function(name,func) &#123;</span><br><span class="line">    if(!this.prototype[name]) &#123;</span><br><span class="line">        this.prototype[name] &#x3D; func;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Number.method(&#39;integer&#39;,function()&#123;</span><br><span class="line">    return Math[this &lt; 0 ? &#39;ceil&#39; : &#39;floor&#39;](this);</span><br><span class="line">&#125;);</span><br><span class="line">console.log((-10&#x2F;3).integer()); &#x2F;&#x2F; -3</span><br><span class="line"></span><br><span class="line">String.method(&#39;trim&#39;,function()&#123;</span><br><span class="line">    return this.replace(&#x2F;^\s+|\s+$&#x2F;g,&#39;&#39;);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(&quot; abc &quot;.trim()); &#x2F;&#x2F; abc</span><br></pre></td></tr></table></figure>

<p><strong>å…«ï¼šç†è§£ä½¿ç”¨æ¨¡å—æ¨¡å¼ç¼–å†™ä»£ç </strong></p>
<p>ä½¿ç”¨å‡½æ•°å’Œé—­åŒ…å¯ä»¥æ„å»ºæ¨¡å—ï¼Œæ‰€è°“æ¨¡å—ï¼Œå°±æ˜¯ä¸€ä¸ªæä¾›æ¥å£å´éšè—çŠ¶æ€ä¸å®ç°çš„å‡½æ•°æˆ–å¯¹è±¡ã€‚ä½¿ç”¨å‡½æ•°æ„å»ºæ¨¡å—çš„ä¼˜ç‚¹æ˜¯ï¼šå‡å°‘å…¨å±€å˜é‡çš„ä½¿ç”¨ï¼›</p>
<p>æ¯”å¦‚å¦‚ä¸‹ï¼šæˆ‘æƒ³ä¸ºStringæ‰©å±•ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•çš„ä½œç”¨æ˜¯å¯»æ‰¾å­—ç¬¦ä¸²ä¸­çš„HTMLå­—ç¬¦å­—ä½“å¹¶å°†å…¶æ›¿æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å¦‚ä¸‹ä»£ç ï¼š</span><br><span class="line">Function.prototype.method &#x3D; function(name,func) &#123;</span><br><span class="line">    if(!this.prototype[name]) &#123;</span><br><span class="line">        this.prototype[name] &#x3D; func;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">String.method(&#39;deentityify&#39;,function()&#123;</span><br><span class="line">    var entity &#x3D; &#123;</span><br><span class="line">        quot: &#39;&quot;&#39;,</span><br><span class="line">        It: &#39;&lt;&#39;,</span><br><span class="line">        gt: &#39;&gt;&#39;</span><br><span class="line">    &#125;;</span><br><span class="line">    return function()&#123;</span><br><span class="line">        return this.replace(&#x2F;&amp;([^&amp;;]+);&#x2F;g,function(a,b)&#123;</span><br><span class="line">            var r &#x3D; entity[b];</span><br><span class="line">            return typeof r &#x3D;&#x3D;&#x3D; &#39;string&#39; ? r : a;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line">console.log(&quot;&amp;It;&quot;&gt;&quot;.deentityify()); &#x2F;&#x2F; &lt;&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>æ¨¡å—æ¨¡å¼åˆ©ç”¨å‡½æ•°ä½œç”¨åŸŸå’Œé—­åŒ…æ¥åˆ›å»ºç»‘å®šå¯¹è±¡ä¸ç§æœ‰æˆå‘˜çš„å…³è”ï¼Œæ¯”å¦‚åœ¨ä¸Šé¢çš„deentityify()æ–¹æ³•æ‰æœ‰æƒè®¿é—®å­—ç¬¦å®ä½“è¡¨entityè¿™ä¸ªæ•°æ®å¯¹è±¡ï¼›</p>
<p>æ¨¡å—å¼€å‘çš„ä¸€èˆ¬å½¢å¼æ˜¯ï¼šå®šä¹‰äº†ç§æœ‰å˜é‡å’Œå‡½æ•°çš„å‡½æ•°ï¼Œåˆ©ç”¨é—­åŒ…åˆ›å»ºå¯ä»¥è®¿é—®åˆ°çš„ç§æœ‰å˜é‡å’Œå‡½æ•°çš„ç‰¹æƒå‡½æ•°ï¼Œæœ€åè¿”å›è¿™ä¸ªç‰¹æƒå‡½æ•°ï¼Œæˆ–æŠŠä»–ä»¬ä¿å­˜åˆ°å¯ä»¥è®¿é—®çš„åœ°æ–¹ã€‚</p>
<p>æ¨¡å—æ¨¡å¼ä¸€èˆ¬ä¼šç»“åˆå®ä¾‹æ¨¡å¼ä½¿ç”¨ã€‚javascriptçš„å®ä¾‹å°±æ˜¯ä½¿ç”¨å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•åˆ›å»ºçš„ã€‚å¯¹è±¡çš„å±æ€§å€¼å¯ä»¥æ˜¯æ•°å€¼æˆ–è€…å‡½æ•°ï¼Œå¹¶ä¸”å±æ€§å€¼åœ¨è¯¥å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸­ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼›æ¯”å¦‚å¦‚ä¸‹ä»£ç å±äºæ¨¡å—æ¨¡å¼ï¼šå®šä¹‰äº†ä¸€ä¸ªç§æœ‰å˜é‡nameå±æ€§ï¼Œå’Œä¸€ä¸ªå®ä¾‹æ¨¡å¼(å¯¹è±¡å­—é¢é‡obj)å¹¶ä¸”è¿”å›è¿™ä¸ªå¯¹è±¡å­—é¢é‡objï¼Œå¯¹è±¡å­—é¢é‡ä¸­çš„æ–¹æ³•ä¸ç§æœ‰å˜é‡nameè¿›è¡Œäº†ç»‘å®šï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æ¯”å¦‚å¦‚ä¸‹ç»å…¸çš„æ¨¡å—æ¨¡å¼</span><br><span class="line">var MODULE &#x3D; (function()&#123;</span><br><span class="line">    var name &#x3D; &quot;tugenhua&quot;;</span><br><span class="line">    var obj &#x3D; &#123;</span><br><span class="line">        setName: function() &#123;</span><br><span class="line">            this.name &#x3D; name;</span><br><span class="line">        &#125;,</span><br><span class="line">        getName: function()&#123;</span><br><span class="line">            return this.name;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    return obj;</span><br><span class="line">&#125;)();</span><br><span class="line">MODULE.setName()</span><br><span class="line">console.log(MODULE.getName()); &#x2F;&#x2F; tugenhua</span><br></pre></td></tr></table></figure>

<p><strong>ä¹ï¼šç†è§£æƒ°æ€§å®åˆ—åŒ–</strong></p>
<p>åœ¨é¡µé¢ä¸­javascriptåˆå§‹åŒ–æ‰§è¡Œçš„æ—¶å€™å°±å®ä¾‹åŒ–ç±»ï¼Œå¦‚æœåœ¨é¡µé¢ä¸­æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªå®åˆ—åŒ–çš„å¯¹è±¡ï¼Œå°±ä¼šé€ æˆä¸€å®šçš„å†…å­˜æµªè´¹å’Œæ€§èƒ½æŸè€—ï¼›è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æƒ°æ€§å®åˆ—åŒ–æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæƒ°æ€§å°±æ˜¯æŠŠå®åˆ—åŒ–æ¨è¿Ÿåˆ°éœ€è¦ä½¿ç”¨å®ƒçš„æ—¶å€™æ‰å»åšï¼Œåšåˆ° â€œæŒ‰éœ€ä¾›åº”â€;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æƒ°æ€§å®åˆ—åŒ–ä»£ç å¦‚ä¸‹</span><br><span class="line">var myNamespace &#x3D; function()&#123;</span><br><span class="line">    var Configure &#x3D; function()&#123;</span><br><span class="line">        var privateName &#x3D; &quot;tugenhua&quot;;</span><br><span class="line">        var privateGetName &#x3D; function()&#123;</span><br><span class="line">            return privateName;</span><br><span class="line">        &#125;;</span><br><span class="line">        var privateSetName &#x3D; function(name) &#123;</span><br><span class="line">            privateName &#x3D; name;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#x2F;&#x2F; è¿”å›å•åˆ—å¯¹è±¡</span><br><span class="line">        return &#123;</span><br><span class="line">            setName: function(name) &#123;</span><br><span class="line">                privateSetName(name);</span><br><span class="line">            &#125;,</span><br><span class="line">            getName: function()&#123;</span><br><span class="line">                return privateGetName();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#x2F;&#x2F; å­˜å‚¨Configureå®åˆ—</span><br><span class="line">    var instance;</span><br><span class="line">    return &#123;</span><br><span class="line">        init: function()&#123;</span><br><span class="line">            &#x2F;&#x2F; å¦‚æœä¸å­˜åœ¨å®åˆ—ï¼Œå°±åˆ›å»ºå•åˆ—å®åˆ—</span><br><span class="line">            if(!instance) &#123;</span><br><span class="line">                instance &#x3D; Configure();</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; åˆ›å»ºConfigureå•åˆ—</span><br><span class="line">            for(var key in instance) &#123;</span><br><span class="line">                if(instance.hasOwnProperty(key)) &#123;</span><br><span class="line">                    this[key] &#x3D; instance[key];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            this.init &#x3D; null;</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;();</span><br><span class="line">&#x2F;&#x2F; è°ƒç”¨æ–¹å¼</span><br><span class="line">myNamespace.init();</span><br><span class="line">var name &#x3D; myNamespace.getName();</span><br><span class="line">console.log(name); &#x2F;&#x2F; tugenhua</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸Šä»£ç æ˜¯æƒ°æ€§åŒ–å®åˆ—ä»£ç ï¼šå®ƒåŒ…æ‹¬ä¸€ä¸ªå•ä½“Configureå®åˆ—ï¼Œç›´æ¥è¿”å›initå‡½æ•°ï¼Œå…ˆåˆ¤æ–­è¯¥å•ä½“æ˜¯å¦è¢«å®åˆ—åŒ–ï¼Œå¦‚æœæ²¡æœ‰è¢«å®åˆ—åŒ–çš„è¯ï¼Œåˆ™åˆ›å»ºå¹¶æ‰§è¡Œå®åˆ—åŒ–å¹¶è¿”å›è¯¥å®åˆ—åŒ–ï¼Œå¦‚æœå·²ç»å®åˆ—åŒ–äº†ï¼Œåˆ™è¿”å›ç°æœ‰å®åˆ—ï¼›æ‰§è¡Œå®Œåï¼Œåˆ™é”€æ¯initæ–¹æ³•ï¼Œåªåˆå§‹åŒ–ä¸€æ¬¡</p>
<p><strong>åï¼šæ¨èåˆ†æ”¯å‡½æ•°(è§£å†³å…¼å®¹é—®é¢˜çš„æ›´å¥½çš„æ–¹æ³•)</strong></p>
<p>åˆ†æ”¯å‡½æ•°çš„ä½œç”¨æ˜¯ï¼šå¯ä»¥è§£å†³å…¼å®¹é—®é¢˜ifæˆ–è€…elseçš„é‡å¤åˆ¤æ–­çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼šæ ¹æ®å…¼å®¹çš„ä¸åŒå†™ifï¼Œelseç­‰ï¼Œè¿™äº›åˆ¤æ–­æ¥å®ç°å…¼å®¹ï¼Œä½†æ˜¯è¿™æ ·æ˜æ˜¾å°±æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œæ¯æ¬¡æ‰§è¡Œè¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œéƒ½éœ€è¦è¿›è¡Œifå’Œelseçš„æ£€æµ‹ï¼Œæ•ˆç‡æ˜æ˜¾ä¸é«˜ï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨åˆ†æ”¯å‡½æ•°æ¥å®ç°å½“åˆå§‹åŒ–çš„æ—¶å€™è¿›è¡Œä¸€äº›æ£€æµ‹ï¼Œåœ¨ä¹‹åçš„è¿è¡Œä»£ç è¿‡ç¨‹ä¸­ï¼Œä»£ç å°±æ— éœ€æ£€æµ‹äº†ï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¼ ç»Ÿçš„å°è£…ajaxè¯·æ±‚çš„å‡½æ•°</span><br><span class="line">&#x2F;&#x2F;åˆ›å»ºXMLHttpRequestå¯¹è±¡ï¼š</span><br><span class="line">var xmlhttp;</span><br><span class="line">function createxmlhttp()&#123;</span><br><span class="line">    if (window.XMLHttpRequest)&#123;</span><br><span class="line">        &#x2F;&#x2F; code for IE7+, Firefox, Chrome, Opera, Safari</span><br><span class="line">        xmlhttp&#x3D;new XMLHttpRequest();</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">      &#x2F;&#x2F; code for IE6, IE5</span><br><span class="line">      xmlhttp&#x3D;new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹åˆ†æ”¯å‡½æ•°ä»£ç å¦‚ä¸‹ï¼š</span><br><span class="line">var XHR &#x3D; (function()&#123;</span><br><span class="line">    var standard &#x3D; &#123;</span><br><span class="line">        createXHR : function() &#123;</span><br><span class="line">            return new XMLHttpRequest();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    var oldActionXObject &#x3D; &#123;</span><br><span class="line">        createXHR : function()&#123;</span><br><span class="line">            return new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    var newActionXObject &#x3D; &#123;</span><br><span class="line">        createXHR : function()&#123;</span><br><span class="line">            return new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    if(standard.createXHR) &#123;</span><br><span class="line">        return standard;</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        try&#123;</span><br><span class="line">            newActionXObject.createXHR();</span><br><span class="line">            return newActionXObject;</span><br><span class="line">        &#125;catch(e)&#123;</span><br><span class="line">            oldActionXObject.createXHR();</span><br><span class="line">            return oldActionXObject;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br><span class="line">console.log(XHR.createXHR()); &#x2F;&#x2F;xmlHttpRequestå¯¹è±¡</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç å°±æ˜¯åˆ†æ”¯å‡½æ•°ï¼Œåˆ†æ”¯çš„åŸç†æ˜¯ï¼šå£°æ˜å‡ ä¸ªä¸åŒåç§°çš„å¯¹è±¡ï¼Œä¸”ä¸ºè¯¥ä¸åŒåç§°å¯¹è±¡å£°æ˜ä¸€ä¸ªç›¸åŒçš„æ–¹æ³•ï¼Œç„¶åæ ¹æ®ä¸åŒçš„æµè§ˆå™¨è®¾è®¡æ¥å®ç°ï¼Œæ¥ç€å¼€å§‹è¿›è¡Œæµè§ˆå™¨æ£€æµ‹ï¼Œå¹¶ä¸”æ ¹æ®æµè§ˆå™¨æ£€æµ‹æ¥è¿”å›å“ªä¸€ä¸ªå¯¹è±¡ï¼Œä¸è®ºè¿”å›çš„æ˜¯å“ªä¸€ä¸ªå¯¹è±¡ï¼Œæœ€åå®ƒä¸€è‡´å¯¹å¤–çš„æ¥å£éƒ½æ˜¯createXHRæ–¹æ³•çš„ï¼›</p>
<p><strong>åä¸€ï¼šæƒ°æ€§è½½å…¥å‡½æ•°ï¼ˆä¹Ÿæ˜¯è§£å†³å…¼å®¹é—®é¢˜çš„ï¼‰</strong></p>
<p>å’Œä¸Šé¢åˆ†æ”¯çš„åŸç†æ˜¯ä¸€æ ·çš„ï¼Œä»£ç ä¹Ÿå¯ä»¥æŒ‰ç…§ä¸Šé¢çš„æ¨èåˆ†æ”¯é£æ ¼ç¼–ç çš„ï¼›è§£å†³çš„é—®é¢˜ä¹Ÿæ˜¯è§£å†³å¤šä¸ªifæ¡ä»¶åˆ¤æ–­çš„ï¼›ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; ä»£ç å¦‚ä¸‹ï¼š</span><br><span class="line">var addEvent &#x3D; function(el,type,handler)&#123;</span><br><span class="line">    addEvent &#x3D; el.addEventListener ? function(el,type,handler)&#123;</span><br><span class="line">        el.addEventListener(type,handler,false);</span><br><span class="line">    &#125; : function(el,type,handler) &#123;</span><br><span class="line">        el.attachEvent(&quot;on&quot; + type,handler);</span><br><span class="line">    &#125;</span><br><span class="line">    addEvent(el,type,handler);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æƒ°æ€§è½½å…¥å‡½æ•°ä¹Ÿæ˜¯åœ¨å‡½æ•°å†…éƒ¨æ”¹å˜è‡ªèº«çš„ä¸€ç§æ–¹å¼ï¼Œåœ¨é‡å¤æ‰§è¡Œçš„æ—¶å€™å°±ä¸ä¼šå†è¿›è¡Œæ£€æµ‹çš„ï¼›æƒ°æ€§è½½å…¥å‡½æ•°çš„åˆ†æ”¯åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå³ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶å€™ï¼Œå…¶ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li><p> è¦æ‰§è¡Œçš„é€‚å½“ä»£ç åªæœ‰åœ¨å®é™…è°ƒç”¨å‡½æ•°æ—¶æ‰æ‰§è¡Œã€‚</p>
</li>
<li><p> ç¬¬ä¸€æ¬¡è°ƒç”¨è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œç´§æ¥ç€å†…éƒ¨å‡½æ•°ä¹Ÿä¼šæ‰§è¡Œï¼Œä½†æ˜¯æ­£å› ä¸ºè¿™ä¸ªï¼Œæ‰€ä»¥åç»­ç»§ç»­è°ƒç”¨è¯¥å‡½æ•°çš„è¯ï¼Œåç»­çš„è°ƒç”¨é€Ÿåº¦ä¼šå¾ˆå¿«ï¼›å› æ­¤é¿å…äº†å¤šé‡æ¡ä»¶ï¼›</p>
</li>
</ol>
<p><strong>åäºŒï¼šç†è§£å‡½æ•°èŠ‚æµ</strong></p>
<p>DOMæ“ä½œçš„äº¤äº’éœ€è¦æ›´å¤šçš„å†…å­˜å’ŒCPUæ—¶é—´ï¼Œè¿ç»­è¿›è¡Œè¿‡å¤šçš„DOMç›¸å…³çš„æ“ä½œå¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨å˜æ…¢ç”šè‡³å´©æºƒï¼Œå‡½æ•°èŠ‚æµçš„è®¾è®¡æ€æƒ³æ˜¯è®©æŸäº›ä»£ç å¯ä»¥åœ¨é—´æ–­çš„æƒ…å†µä¸‹è¿ç»­é‡å¤æ‰§è¡Œï¼Œå®ç°è¯¥æ–¹æ³•å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨å¯¹è¯¥å‡½æ•°è¿›è¡ŒèŠ‚æµæ“ä½œ;</p>
<p>æ¯”å¦‚ï¼šç¬¬ä¸€æ¬¡è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œåˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”ä¸‹æ‰§è¡Œä»£ç ã€‚å½“ç¬¬äºŒæ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œæ¸…é™¤å‰ä¸€æ¬¡çš„å®šæ—¶å™¨å¹¶è®¾ç½®å¦ä¸€ä¸ªï¼Œå°†å…¶æ›¿æ¢æˆä¸€ä¸ªæ–°çš„å®šæ—¶å™¨;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; å¦‚ä¸‹ç®€å•å‡½æ•°èŠ‚æµä»£ç æ¼”ç¤º</span><br><span class="line">var throttle &#x3D; &#123;</span><br><span class="line">    timeoutId: null,</span><br><span class="line">    &#x2F;&#x2F; éœ€è¦æ‰§è¡Œçš„æ–¹æ³•</span><br><span class="line">    preformMethod: function()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    &#x2F;&#x2F; åˆå§‹åŒ–éœ€è¦è°ƒç”¨çš„æ–¹æ³•</span><br><span class="line">    process: function()&#123;</span><br><span class="line">        clearTimeout(this.timeoutId);</span><br><span class="line">        var self &#x3D; this;</span><br><span class="line">        self.timeoutId &#x3D; setTimeout(function()&#123;</span><br><span class="line">            self.preformMethod();</span><br><span class="line">        &#125;,100);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; æ‰§è¡Œæ“ä½œ</span><br><span class="line">throttle.process();</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°èŠ‚æµè§£å†³çš„é—®é¢˜æ˜¯ä¸€äº›ä»£ç (æ¯”å¦‚äº‹ä»¶)æ— é—´æ–­çš„æ‰§è¡Œï¼Œè¿™å¯èƒ½ä¼šå½±å“æµè§ˆå™¨çš„æ€§èƒ½ï¼Œæ¯”å¦‚æµè§ˆå™¨å˜æ…¢æˆ–è€…ç›´æ¥å´©æºƒã€‚æ¯”å¦‚å¯¹äºmouseoveräº‹ä»¶æˆ–è€…clickäº‹ä»¶ï¼Œæ¯”å¦‚ç‚¹å‡»tabé¡¹èœå•ï¼Œæ— é™çš„ç‚¹å‡»ï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨ä¼šå˜æ…¢æ“ä½œï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‡½æ•°èŠ‚æµçš„æ“ä½œæ¥è§£å†³ï¼›<br>åŸæ–‡åœ°å€ï¼š<a target="_blank" rel="noopener" href="http://www.cnblogs.com/tugenhua0707/p/5046854.html">http://www.cnblogs.com/tugenhua0707/p/5046854.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/javascript/%E5%89%8D%E7%AB%AF/es6%E5%AD%A6%E4%B9%A0%E4%B8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/javascript/%E5%89%8D%E7%AB%AF/es6%E5%AD%A6%E4%B9%A0%E4%B8%80/" class="post-title-link" itemprop="url">es6å­¦ä¹ ä¸€</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
        </span>
    </span>

  
    <span id="/nirvana/javascript/%E5%89%8D%E7%AB%AF/es6%E5%AD%A6%E4%B9%A0%E4%B8%80/" class="post-meta-item leancloud_visitors" data-flag-title="es6å­¦ä¹ ä¸€" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>14k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>12 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="letå’Œconst"><a href="#letå’Œconst" class="headerlink" title="letå’Œconst"></a>letå’Œconst</h1><p>ä»‹ç»letå’Œconstä¹‹å‰å…ˆè¯´è¯´varå…³é”®å­—ï¼Œä»–æœ‰å‡ ä¸ªç‰¹ç‚¹ï¼š</p>
<ol>
<li>å¯ä»¥é‡å¤å£°æ˜<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure></li>
<li>æ— æ³•é™åˆ¶ä¿®æ”¹<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">a = <span class="number">2</span></span><br></pre></td></tr></table></figure></li>
<li>æ²¡æœ‰å—çº§ä½œç”¨åŸŸ<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>; i &lt; <span class="number">10</span>; i++)  &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<h2 id="letçš„ä½¿ç”¨"><a href="#letçš„ä½¿ç”¨" class="headerlink" title="letçš„ä½¿ç”¨"></a>letçš„ä½¿ç”¨</h2><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4>ES6 æ–°å¢äº†letå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚å®ƒçš„ç”¨æ³•ç±»ä¼¼äºvarï¼Œä½†æ˜¯æ‰€å£°æ˜çš„å˜é‡ï¼Œåªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆã€‚</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a <span class="comment">// ReferenceError: a is not defined.</span></span><br><span class="line">b <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// forå¾ªç¯çš„è®¡æ•°å™¨ï¼Œå°±å¾ˆåˆé€‚ä½¿ç”¨letå‘½ä»¤</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"><span class="comment">// ReferenceError: i is not defined</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¸å­˜åœ¨å˜é‡æå‡"><a href="#ä¸å­˜åœ¨å˜é‡æå‡" class="headerlink" title="ä¸å­˜åœ¨å˜é‡æå‡"></a>ä¸å­˜åœ¨å˜é‡æå‡</h4><p>varå‘½ä»¤ä¼šå‘ç”Ÿâ€œå˜é‡æå‡â€ç°è±¡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œå€¼ä¸ºundefinedã€‚è¿™ç§ç°è±¡å¤šå¤šå°‘å°‘æ˜¯æœ‰äº›å¥‡æ€ªçš„ï¼ŒæŒ‰ç…§ä¸€èˆ¬çš„é€»è¾‘ï¼Œå˜é‡åº”è¯¥åœ¨å£°æ˜è¯­å¥ä¹‹åæ‰å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>ä¸ºäº†çº æ­£è¿™ç§ç°è±¡ï¼Œletå‘½ä»¤æ”¹å˜äº†è¯­æ³•è¡Œä¸ºï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var çš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let çš„æƒ…å†µ</span></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// æŠ¥é”™ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h4 id="æš‚æ—¶æ€§æ­»åŒº"><a href="#æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="æš‚æ—¶æ€§æ­»åŒº"></a>æš‚æ—¶æ€§æ­»åŒº</h4><p>åœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚è¿™åœ¨è¯­æ³•ä¸Šï¼Œç§°ä¸ºâ€œæš‚æ—¶æ€§æ­»åŒºâ€</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="comment">// TDZå¼€å§‹</span></span><br><span class="line">  tmp = <span class="string">&#x27;abc&#x27;</span>; <span class="comment">// ReferenceError</span></span><br><span class="line">  <span class="built_in">console</span>.log(tmp); <span class="comment">// ReferenceError</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> tmp; <span class="comment">// TDZç»“æŸ</span></span><br><span class="line">  <span class="built_in">console</span>.log(tmp); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">  tmp = <span class="number">123</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(tmp); <span class="comment">// 123</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œåœ¨letå‘½ä»¤å£°æ˜å˜é‡tmpä¹‹å‰ï¼Œéƒ½å±äºå˜é‡tmpçš„â€œæ­»åŒºâ€ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> x; <span class="comment">// ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> x;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> undeclared_variable <span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure>
<p>â€œæš‚æ—¶æ€§æ­»åŒºâ€ä¹Ÿæ„å‘³ç€typeofä¸å†æ˜¯ä¸€ä¸ªç™¾åˆ†ä¹‹ç™¾å®‰å…¨çš„æ“ä½œã€‚</p>
<h4 id="ä¸å…è®¸é‡å¤å£°æ˜"><a href="#ä¸å…è®¸é‡å¤å£°æ˜" class="headerlink" title="ä¸å…è®¸é‡å¤å£°æ˜"></a>ä¸å…è®¸é‡å¤å£°æ˜</h4><p>letä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> arg;</span><br><span class="line">&#125;</span><br><span class="line">func() <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">let</span> arg;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">func() <span class="comment">// ä¸æŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<h4 id="ES6-çš„å—çº§ä½œç”¨åŸŸ"><a href="#ES6-çš„å—çº§ä½œç”¨åŸŸ" class="headerlink" title="ES6 çš„å—çº§ä½œç”¨åŸŸ"></a>ES6 çš„å—çº§ä½œç”¨åŸŸ</h4><p>letå®é™…ä¸Šä¸º JavaScript æ–°å¢äº†å—çº§ä½œç”¨åŸŸã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> n = <span class="number">5</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> n = <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(n); <span class="comment">// 5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="constä½¿ç”¨"><a href="#constä½¿ç”¨" class="headerlink" title="constä½¿ç”¨"></a>constä½¿ç”¨</h2><p>constå£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚<br>constå£°æ˜çš„å˜é‡ä¸å¾—æ”¹å˜å€¼ï¼Œè¿™æ„å‘³ç€ï¼Œconstä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ã€‚<br>constçš„ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆã€‚<br>constå‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ã€‚<br>constå£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸letä¸€æ ·ä¸å¯é‡å¤å£°æ˜ã€‚</p>
<h1 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h1><h4 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>ES6 å…è®¸ä½¿ç”¨â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰å®šä¹‰å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> v;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="function">() =&gt;</span> <span class="number">5</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="number">5</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 + num2;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç®­å¤´å‡½æ•°çš„ä»£ç å—éƒ¨åˆ†å¤šäºä¸€æ¡è¯­å¥ï¼Œå°±è¦ä½¿ç”¨å¤§æ‹¬å·å°†å®ƒä»¬æ‹¬èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨returnè¯­å¥è¿”å›ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> &#123; <span class="keyword">return</span> num1 + num2; &#125;</span><br></pre></td></tr></table></figure>
<p>ç®­å¤´å‡½æ•°çš„ä¸€ä¸ªç”¨å¤„æ˜¯ç®€åŒ–å›è°ƒå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£å¸¸å‡½æ•°å†™æ³•</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x * x;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å†™æ³•</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].map(<span class="function"><span class="params">x</span> =&gt;</span> x * x);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£å¸¸å‡½æ•°å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> result = values.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> result = values.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br></pre></td></tr></table></figure>
<h4 id="ä½¿ç”¨æ³¨æ„ç‚¹"><a href="#ä½¿ç”¨æ³¨æ„ç‚¹" class="headerlink" title="ä½¿ç”¨æ³¨æ„ç‚¹"></a>ä½¿ç”¨æ³¨æ„ç‚¹</h4><p>ç®­å¤´å‡½æ•°æœ‰å‡ ä¸ªä½¿ç”¨æ³¨æ„ç‚¹ã€‚</p>
<p>ï¼ˆ1ï¼‰å‡½æ•°ä½“å†…çš„thiså¯¹è±¡ï¼Œå°±æ˜¯å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ä½¿ç”¨newå‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¸å¯ä»¥ä½¿ç”¨argumentså¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨å‡½æ•°ä½“å†…ä¸å­˜åœ¨ã€‚å¦‚æœè¦ç”¨ï¼Œå¯ä»¥ç”¨ rest å‚æ•°ä»£æ›¿ã€‚</p>
<p>ï¼ˆ4ï¼‰ä¸å¯ä»¥ä½¿ç”¨yieldå‘½ä»¤ï¼Œå› æ­¤ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œ Generator å‡½æ•°ã€‚</p>
<p>ä¸Šé¢å››ç‚¹ä¸­ï¼Œç¬¬ä¸€ç‚¹å°¤å…¶å€¼å¾—æ³¨æ„ã€‚thiså¯¹è±¡çš„æŒ‡å‘æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼Œå®ƒæ˜¯å›ºå®šçš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> handler = &#123;</span><br><span class="line">  id: <span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  init: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;click&#x27;</span>,</span><br><span class="line">      event =&gt; <span class="built_in">this</span>.doSomething(event.type), <span class="literal">false</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  doSomething: <span class="function"><span class="keyword">function</span>(<span class="params">type</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;Handling &#x27;</span> + type  + <span class="string">&#x27; for &#x27;</span> + <span class="built_in">this</span>.id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">handler.init() </span><br><span class="line"><span class="comment">// å‡ºå‘ç‚¹å‡»äº‹ä»¶ä¼šæ‰“å°ï¼š Handling click for 123456</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¦ç†è§£thisçš„æŒ‡å‘é—®é¢˜</p>
<p>thisæŒ‡å‘çš„å›ºå®šåŒ–ï¼Œå¹¶ä¸æ˜¯å› ä¸ºç®­å¤´å‡½æ•°å†…éƒ¨æœ‰ç»‘å®šthisçš„æœºåˆ¶ï¼Œå®é™…åŸå› æ˜¯ç®­å¤´å‡½æ•°æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œå¯¼è‡´å†…éƒ¨çš„thiså°±æ˜¯å¤–å±‚ä»£ç å—çš„thisã€‚æ­£æ˜¯å› ä¸ºå®ƒæ²¡æœ‰thisï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ã€‚</p>
<p>æ‰€ä»¥ï¼Œç®­å¤´å‡½æ•°è½¬æˆ ES5 çš„ä»£ç å¦‚ä¸‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;id:&#x27;</span>, <span class="built_in">this</span>.id);</span><br><span class="line">  &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _this = <span class="built_in">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;id:&#x27;</span>, _this.id);</span><br><span class="line">  &#125;, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè½¬æ¢åçš„ ES5 ç‰ˆæœ¬æ¸…æ¥šåœ°è¯´æ˜äº†ï¼Œç®­å¤´å‡½æ•°é‡Œé¢æ ¹æœ¬æ²¡æœ‰è‡ªå·±çš„thisï¼Œè€Œæ˜¯å¼•ç”¨å¤–å±‚çš„thisã€‚</p>
<p>è¯·é—®ä¸‹é¢çš„ä»£ç ä¹‹ä¸­æœ‰å‡ ä¸ªthisï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;id:&#x27;</span>, <span class="built_in">this</span>.id);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = foo.call(&#123;<span class="attr">id</span>: <span class="number">1</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t1 = f.call(&#123;<span class="attr">id</span>: <span class="number">2</span>&#125;)()(); <span class="comment">// id: 1</span></span><br><span class="line"><span class="keyword">var</span> t2 = f().call(&#123;<span class="attr">id</span>: <span class="number">3</span>&#125;)(); <span class="comment">// id: 1</span></span><br><span class="line"><span class="keyword">var</span> t3 = f()().call(&#123;<span class="attr">id</span>: <span class="number">4</span>&#125;); <span class="comment">// id: 1</span></span><br></pre></td></tr></table></figure>
<h1 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h1><p>ES6 å…è®¸æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–å€¼ï¼Œå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™è¢«ç§°ä¸ºè§£æ„ï¼ˆDestructuringï¼‰ã€‚æœ¬è´¨ä¸Šï¼Œè¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚<br>ä»€ä¹ˆä½¿æ¨¡å¼åŒ¹é…ï¼Œä»æ•°ç»„æˆ–å¯¹è±¡ç­‰å·å·¦è¾¹å’Œç­‰å·å³è¾¹æ¨¡å¼ç›¸åŒï¼Œå¯¹åº”çš„å˜é‡å°±æ˜¯å¯¹åº”çš„å€¼</p>
<h4 id="æ•°ç»„çš„è§£æ„èµ‹å€¼"><a href="#æ•°ç»„çš„è§£æ„èµ‹å€¼" class="headerlink" title="æ•°ç»„çš„è§£æ„èµ‹å€¼"></a>æ•°ç»„çš„è§£æ„èµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// es5å¯ä»¥è¿™æ ·å£°æ˜å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">3</span>;</span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥è¿™æ ·</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>, b = <span class="number">2</span>, c = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">let</span> [x, , y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; <span class="comment">//  x = 1, y = 3</span></span><br><span class="line"><span class="keyword">let</span> [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]; <span class="comment">// head: 1, tail: [1, 2, 3, 4]</span></span><br><span class="line"><span class="keyword">let</span> [x, y, ...z] = [<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">x <span class="comment">// &quot;a&quot;</span></span><br><span class="line">y <span class="comment">// undefined</span></span><br><span class="line">z <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœè§£æ„ä¸æˆåŠŸå˜é‡çš„å€¼å°±ä¼šç­‰äºundefined</p>
<p>ä¸å®Œå…¨ç»“æ„åµŒå¥—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, [b, c], d] = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> [x, y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; <span class="comment">// x = 1, y = 2</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸­å·¦å³ä¸¤è¾¹å¯¹åº”çš„ç»“æ„å¼ç›¸åŒçš„ï¼Œè§£æ„è¿‡ç¨‹ä¸­ä¼šæ ¹æ®ä»å·¦åˆ°å³é¡ºåºä¸€æ¬¡ç»™å¯¹åº”çš„å˜é‡èµ‹å€¼</p>
<p>æ³¨æ„ï¼šå¦‚æœç­‰å·å³è¾¹ä¸æ˜¯æ•°ç»„ï¼Œåˆ™ä¼šæŠ¥é”™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [a] = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> [c] = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> [a] = &#123;&#125;</span><br><span class="line"><span class="keyword">var</span> [a] = <span class="literal">undefined</span></span><br><span class="line"><span class="keyword">var</span> [a] = <span class="literal">null</span></span><br><span class="line"><span class="comment">// xx is not iterable</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥è®¾ç½®é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [foo = <span class="literal">true</span>] = [];</span><br><span class="line">foo <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> [x, y = <span class="string">&#x27;b&#x27;</span>] = [<span class="string">&#x27;a&#x27;</span>]; <span class="comment">// x=&#x27;a&#x27;, y=&#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">let</span> [x, y = <span class="string">&#x27;b&#x27;</span>] = [<span class="string">&#x27;a&#x27;</span>, <span class="literal">undefined</span>]; <span class="comment">// x=&#x27;a&#x27;, y=&#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>] = [<span class="literal">undefined</span>];</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>] = [<span class="literal">null</span>];</span><br><span class="line">x <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„ä»£ç æ€»ç»“ï¼šè®¾ç½®é»˜è®¤æ˜¯es6å†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ï¼ˆ===ï¼‰è¿›è¡Œåˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºundefinedï¼Œåªæœ‰ç­‰äºundefinedæ—¶ï¼Œé»˜è®¤å€¼è®¾ç½®æ‰ä¼šç”Ÿæ•ˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>, y = x] = [];     <span class="comment">// x=1; y=1</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>, y = x] = [<span class="number">2</span>];    <span class="comment">// x=2; y=2</span></span><br><span class="line"><span class="keyword">let</span> [x = <span class="number">1</span>, y = x] = [<span class="number">1</span>, <span class="number">2</span>]; <span class="comment">// x=1; y=2</span></span><br><span class="line"><span class="comment">// ä¹‹æ‰€ä»¥ä¼šæŠ¥é”™ï¼Œæ˜¯å› ä¸ºxç”¨yåšé»˜è®¤å€¼æ—¶ï¼Œyè¿˜æ²¡æœ‰å£°æ˜ã€‚</span></span><br><span class="line"><span class="keyword">let</span> [x = y, y = <span class="number">1</span>] = [];     <span class="comment">// ReferenceError: y is not defined</span></span><br></pre></td></tr></table></figure>
<p>é»˜è®¤å€¼å¯ä»¥å¼•ç”¨è§£æ„èµ‹å€¼çš„å…¶ä»–å˜é‡ï¼Œä½†è¯¥å˜é‡å¿…é¡»å·²ç»å£°æ˜ã€‚</p>
<h4 id="å¯¹è±¡çš„è§£æ„èµ‹å€¼"><a href="#å¯¹è±¡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å¯¹è±¡çš„è§£æ„èµ‹å€¼"></a>å¯¹è±¡çš„è§£æ„èµ‹å€¼</h4><p>å¯¹è±¡çš„è§£æ„èµ‹å€¼å’Œæ•°ç»„æ—¶ç±»ä¼¼<br>å¯¹è±¡å’Œå˜é‡è§£æ„å¯¹åº”ï¼Œä¸åŒçš„æ˜¯ï¼Œå±æ€§å¿…é¡»æ˜¯å¯¹è±¡ä¸­å­˜åœ¨çš„å±æ€§ï¼Œå¦åˆ™å˜é‡å°±ä¼šç­‰äºundefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">&quot;aaa&quot;</span>, <span class="attr">bar</span>: <span class="string">&quot;bbb&quot;</span> &#125;;</span><br><span class="line">foo <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line">bar <span class="comment">// &quot;bbb&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&quot;aaa&quot;</span>, <span class="attr">bar</span>: <span class="string">&quot;bbb&quot;</span> &#125;;</span><br><span class="line">baz <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå˜é‡åå’Œå±æ€§åä¸ä¸€æ ·çš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">baz <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">first</span>: <span class="string">&#x27;hello&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;world&#x27;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">first</span>: f, <span class="attr">last</span>: l &#125; = obj;</span><br><span class="line">f <span class="comment">// &#x27;hello&#x27;</span></span><br><span class="line">l <span class="comment">// &#x27;world&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// é‚£ä¹ˆå¯ä»¥æ€»ç»“ä¸€ä¸‹ï¼šä»¥ä¸Šçš„è§£æ„èµ‹å€¼çš„å†™æ³•å®é™…ä¸Šæ˜¯ä¸‹é¢è¿™ç§æ–¹å¼çš„ç®€å†™</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: foo, <span class="attr">bar</span>: bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">&quot;aaa&quot;</span>, <span class="attr">bar</span>: <span class="string">&quot;bbb&quot;</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„è§£æ„èµ‹å€¼çš„å†…éƒ¨æœºåˆ¶ï¼Œæ˜¯å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œç„¶åå†èµ‹ç»™å¯¹åº”çš„å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åè€…ï¼Œè€Œä¸æ˜¯å‰è€…ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&quot;aaa&quot;</span>, <span class="attr">bar</span>: <span class="string">&quot;bbb&quot;</span> &#125;;</span><br><span class="line">baz <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line">foo <span class="comment">// error: foo is not defined</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œfooæ˜¯åŒ¹é…çš„æ¨¡å¼ï¼Œbazæ‰æ˜¯å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯å˜é‡bazï¼Œè€Œä¸æ˜¯æ¨¡å¼fooã€‚</p>
<p>å¯¹è±¡çš„è§£æ„ä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;&#125;;</span><br><span class="line">x <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;x, y = <span class="number">5</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line">y <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">x</span>: y = <span class="number">3</span>&#125; = &#123;&#125;;</span><br><span class="line">y <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">x</span>: y = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">5</span>&#125;;</span><br><span class="line">y <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123; <span class="attr">message</span>: msg = <span class="string">&#x27;Something went wrong&#x27;</span> &#125; = &#123;&#125;;</span><br><span class="line">msg <span class="comment">// &quot;Something went wrong&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å€¼ç”Ÿæ•ˆçš„æ¡ä»¶æ˜¯ï¼Œå¯¹è±¡çš„å±æ€§å€¼ä¸¥æ ¼ç­‰äºundefinedã€‚</span></span><br><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">undefined</span>&#125;;</span><br><span class="line">x <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">null</span>&#125;;</span><br><span class="line">x <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<h4 id="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"><a href="#å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼" class="headerlink" title="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"></a>å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h4><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [a, b, c, d, e] = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">a <span class="comment">// &quot;h&quot;</span></span><br><span class="line">b <span class="comment">// &quot;e&quot;</span></span><br><span class="line">c <span class="comment">// &quot;l&quot;</span></span><br><span class="line">d <span class="comment">// &quot;l&quot;</span></span><br><span class="line">e <span class="comment">// &quot;o&quot;</span></span><br></pre></td></tr></table></figure>
<p>ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªlengthå±æ€§ï¼Œå› æ­¤è¿˜å¯ä»¥å¯¹è¿™ä¸ªå±æ€§è§£æ„èµ‹å€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">length</span> : len&#125; = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">len <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<h4 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h4><p>å˜é‡çš„è§£æ„èµ‹å€¼ç”¨é€”å¾ˆå¤šã€‚</p>
<p>ï¼ˆ1ï¼‰äº¤æ¢å˜é‡å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">[x, y] = [y, x];</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ2ï¼‰ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [a, b, c] = example();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    foo: <span class="number">1</span>,</span><br><span class="line">    bar: <span class="number">2</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = example();</span><br></pre></td></tr></table></figure>
<p>ï¼ˆ3ï¼‰æå– JSON æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> jsonData = &#123;</span><br><span class="line">  retCode: <span class="string">&#x27;000000&#x27;</span>,</span><br><span class="line">  retInfo: <span class="string">&quot;å­—æ®µæ ¡éªŒæˆåŠŸ&quot;</span>,</span><br><span class="line">  data: [<span class="number">867</span>, <span class="number">5309</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; retCode, retInfo, <span class="attr">data</span>: number &#125; = jsonData;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(id, status, number);</span><br><span class="line"><span class="comment">// &#x27;000000&#x27;, &quot;å­—æ®µæ ¡éªŒæˆåŠŸ&quot;, [867, 5309]</span></span><br></pre></td></tr></table></figure>
<p>ç­‰ç­‰ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
<h1 id="å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²çš„æ‰©å±•"><a href="#å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²çš„æ‰©å±•"></a>å¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²çš„æ‰©å±•</h1><h4 id="å¯¹è±¡çš„æ‰©å±•"><a href="#å¯¹è±¡çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡çš„æ‰©å±•"></a>å¯¹è±¡çš„æ‰©å±•</h4><p>å¯¹è±¡å®šä¹‰è¿‡ç¨‹ä¸­æ›´ç®€å•å†™æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> io = <span class="string">&#x27;computed&#x27;</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">	io,</span><br><span class="line">	<span class="function"><span class="title">foo</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// es5</span></span><br><span class="line"><span class="keyword">var</span> io = <span class="string">&#x27;computed&#x27;</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">	io: io,</span><br><span class="line">	foo: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ•°ç»„çš„æ‰©å±•"><a href="#æ•°ç»„çš„æ‰©å±•" class="headerlink" title="æ•°ç»„çš„æ‰©å±•"></a>æ•°ç»„çš„æ‰©å±•</h4><p>ï¼ˆ1ï¼‰æ‰©å±•è¿ç®—ç¬¦<br>æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>, ...[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]) <span class="comment">// 1,2,3,4</span></span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨äºå‡½æ•°çš„å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> number = [<span class="number">35</span>, <span class="number">27</span>]</span><br><span class="line">add(...number) <span class="comment">// 62</span></span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line">add(number[<span class="number">0</span>], number[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨äºå‡½æ•°æ›¿ä»£applyçš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">// ES5 çš„å†™æ³•</span></span><br><span class="line"><span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, [<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</span><br><span class="line"><span class="comment">// ES6 çš„å†™æ³•</span></span><br><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>])</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="built_in">Math</span>.max(<span class="number">14</span>, <span class="number">3</span>, <span class="number">77</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">new</span> (<span class="built_in">Date</span>.bind.apply(<span class="built_in">Date</span>, [<span class="literal">null</span>, <span class="number">2015</span>, <span class="number">1</span>, <span class="number">1</span>]))</span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(...[<span class="number">2015</span>, <span class="number">1</span>, <span class="number">1</span>]);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰©å±•è¿ç®—ç¬¦çš„åº”ç”¨</p>
<p>1.å¤åˆ¶æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ…åº¦å¤åˆ¶</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arrCopy = arr</span><br><span class="line"><span class="comment">// è¿™æ ·çš„ç®€å•å¤åˆ¶åªæ˜¯å°†æ•°ç»„çš„æŒ‡é’ˆèµ‹ç»™äº†arrCopyå˜é‡ï¼Œæ‰€ä»¥arrå’ŒarrCopyæ•°ç»„çš„å…ƒç´ æ”¹å˜æ—¶ï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šåŒæ—¶æ”¹å˜</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(arrCopy) <span class="comment">// [0, &#x27;world&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// es5è§£å†³æ–¹æ³•</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;world&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> arrCopy = arr.concat()</span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">&#x27;OK&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(arrCopy) <span class="comment">// [&#x27;hello&#x27;, &#x27;world&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰©å±•è¿ç®—ç¬¦æä¾›äº†å¤åˆ¶æ•°ç»„çš„ç®€ä¾¿å†™æ³•ã€‚</span></span><br><span class="line"><span class="keyword">const</span> a1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">const</span> a2 = [...a1];</span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">const</span> [...a2] = a1;</span><br><span class="line"><span class="comment">/* æ³¨æ„ï¼šæ‰©å±•è¿ç®—ç¬¦åªèƒ½èµ‹å€¼æ•°ç»„å…ƒç´ ä¸ºåŸºæœ¬æ•°æ®ç±»å‹çš„å…ƒç´ ï¼Œ</span></span><br><span class="line"><span class="comment">å¦‚æœå…ƒç´ çš„æ•°æ®ç±»å‹ä¸ºå¼•ç”¨ç±»å‹ï¼Œä¾ç„¶ä¿å­˜çš„æ˜¯åº”ç”¨ç±»å‹çš„æŒ‡é’ˆ */</span></span><br></pre></td></tr></table></figure>
<p>2.åˆå¹¶æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> b = [<span class="number">12</span>, <span class="number">13</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// es5</span></span><br><span class="line">a.concat(b) <span class="comment">// [2,3,5,12,13]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="keyword">const</span> result = [...a, ...b] <span class="comment">// [2,3,5,12,13]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸¤ç§æ–¹å¼ä¹Ÿéƒ½æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœä¿®æ”¹äº†åŸæ•°ç»„çš„æˆå‘˜ï¼Œä¼šåŒæ­¥åæ˜ åˆ°æ–°æ•°ç»„ã€‚</span></span><br><span class="line"><span class="keyword">const</span> a1 = [&#123; <span class="attr">foo</span>: <span class="number">1</span> &#125;];</span><br><span class="line"><span class="keyword">const</span> a2 = [&#123; <span class="attr">bar</span>: <span class="number">2</span> &#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a3 = a1.concat(a2);</span><br><span class="line"><span class="keyword">const</span> a4 = [...a1, ...a2];</span><br><span class="line"></span><br><span class="line">a3[<span class="number">0</span>] === a1[<span class="number">0</span>] <span class="comment">// true</span></span><br><span class="line">a4[<span class="number">0</span>] === a1[<span class="number">0</span>] <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>3.ä¸è§£æ„èµ‹å€¼ç»“åˆ<br>æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ä¸è§£æ„èµ‹å€¼ç»“åˆèµ·æ¥ï¼Œç”¨äºç”Ÿæˆæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line">a = list[<span class="number">0</span>], rest = list.slice(<span class="number">1</span>)</span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line">[a, ...rest] = list</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">first <span class="comment">// 1</span></span><br><span class="line">rest  <span class="comment">// [2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [];</span><br><span class="line">first <span class="comment">// undefined</span></span><br><span class="line">rest  <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...rest] = [<span class="string">&quot;foo&quot;</span>];</span><br><span class="line">first  <span class="comment">// &quot;foo&quot;</span></span><br><span class="line">rest   <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœå°†æ‰©å±•è¿ç®—ç¬¦ç”¨äºæ•°ç»„èµ‹å€¼ï¼Œåªèƒ½æ”¾åœ¨å‚æ•°çš„æœ€åä¸€ä½ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [...butLast, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [first, ...middle, last] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆ2ï¼‰Array.from()<br>Array.fromæ–¹æ³•ç”¨äºå°†ä¸¤ç±»å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼šç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼ˆä¼ªæ•°ç»„ï¼‰å’Œå¯éå†ï¼ˆiterableï¼‰çš„å¯¹è±¡ï¼ˆåŒ…æ‹¬ ES6 æ–°å¢çš„æ•°æ®ç»“æ„ Set å’Œ Mapï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayLike = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">    length: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [].slice.call(arrayLike); <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="built_in">Array</span>.from(arrayLike); <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>
<p>å®é™…åº”ç”¨ä¸­ï¼Œå¸¸è§çš„ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡æ˜¯ DOM æ“ä½œè¿”å›çš„ NodeList é›†åˆï¼Œä»¥åŠå‡½æ•°å†…éƒ¨çš„argumentså¯¹è±¡ã€‚Array.froméƒ½å¯ä»¥å°†å®ƒä»¬è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// NodeListå¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> ps = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line"><span class="built_in">Array</span>.from(ps).filter(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> p.textContent.length &gt; <span class="number">100</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// argumentså¯¹è±¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> args = <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰Array.of()<br>Array.ofæ–¹æ³•ç”¨äºå°†ä¸€ç»„å€¼ï¼Œè½¬æ¢ä¸ºæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>, <span class="number">11</span>, <span class="number">8</span>) <span class="comment">// [3,11,8]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>) <span class="comment">// [3]</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">3</span>).length <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>ï¼ˆ4ï¼‰æ•°ç»„å®ä¾‹çš„ includes()<br>Array.prototype.includesæ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ç»™å®šçš„å€¼ï¼Œä¸å­—ç¬¦ä¸²çš„includesæ–¹æ³•ç±»ä¼¼ã€‚ES2016 å¼•å…¥äº†è¯¥æ–¹æ³•ã€‚<br>å‚æ•°ï¼š è¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ¥å—ä¸€ä¸ªæ•°å€¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º0ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºå€’æ•°çš„ä½ç½®ï¼Œå¦‚æœè¿™æ—¶å®ƒå¤§äºæ•°ç»„é•¿åº¦ï¼ˆæ¯”å¦‚ç¬¬äºŒä¸ªå‚æ•°ä¸º-4ï¼Œä½†æ•°ç»„é•¿åº¦ä¸º3ï¼‰ï¼Œåˆ™ä¼šé‡ç½®ä¸ºä»0å¼€å§‹ã€‚<br>è¿”å›å€¼ï¼š å¸ƒå°”ç±»å‹ï¼Œtrueè¡¨ç¤ºæœç´¢çš„ç»“æœåœ¨å½“å‰çš„æ•°ç»„ä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">2</span>)     <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">4</span>)     <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="literal">NaN</span>].includes(<span class="literal">NaN</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">3</span>, <span class="number">3</span>);  <span class="comment">// false</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].includes(<span class="number">3</span>, -<span class="number">1</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>ä¸indexOfçš„æ¯”è¾ƒï¼šindexOfçš„å«ä¹‰æ˜¯æ‰¾åˆ°å‚æ•°å€¼çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®ï¼Œæ‰€ä»¥è¦å»æ¯”è¾ƒæ˜¯å¦ä¸ç­‰äº-1ï¼Œè¡¨è¾¾èµ·æ¥ä¸å¤Ÿç›´è§‚ã€‚äºŒæ˜¯ï¼Œå®ƒå†…éƒ¨ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰è¿›è¡Œåˆ¤æ–­ï¼Œè¿™ä¼šå¯¼è‡´å¯¹NaNçš„è¯¯åˆ¤ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">NaN</span>].indexOf(<span class="literal">NaN</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢ä»£ç ç”¨æ¥æ£€æŸ¥å½“å‰ç¯å¢ƒæ˜¯å¦æ”¯æŒè¯¥æ–¹æ³•ï¼Œå¦‚æœä¸æ”¯æŒï¼Œéƒ¨ç½²ä¸€ä¸ªç®€æ˜“çš„æ›¿ä»£ç‰ˆæœ¬ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> contains = (<span class="function">() =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.prototype.includes</span><br><span class="line">    ? <span class="function">(<span class="params">arr, value</span>) =&gt;</span> arr.includes(value)</span><br><span class="line">    : <span class="function">(<span class="params">arr, value</span>) =&gt;</span> arr.some(<span class="function"><span class="params">el</span> =&gt;</span> el === value)</span><br><span class="line">)();</span><br><span class="line">contains([<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>], <span class="string">&#x27;baz&#x27;</span>); <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>

<h4 id="å­—ç¬¦ä¸²çš„æ‰©å±•"><a href="#å­—ç¬¦ä¸²çš„æ‰©å±•" class="headerlink" title="å­—ç¬¦ä¸²çš„æ‰©å±•"></a>å­—ç¬¦ä¸²çš„æ‰©å±•</h4><p>æ¨¡ç‰ˆå­—ç¬¦ä¸²</p>
<p>æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆtemplate stringï¼‰æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†ã€‚å®ƒå¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡ã€‚</p>
<p>ä¼ ç»Ÿçš„ JavaScript è¯­è¨€ï¼Œè¾“å‡ºæ¨¡æ¿é€šå¸¸æ˜¯è¿™æ ·å†™çš„ï¼ˆä¸‹é¢ä½¿ç”¨äº† jQuery çš„æ–¹æ³•ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#result&#x27;</span>).append(</span><br><span class="line">  <span class="string">&#x27;There are &lt;b&gt;&#x27;</span> + basket.count + <span class="string">&#x27;&lt;/b&gt; &#x27;</span> +</span><br><span class="line">  <span class="string">&#x27;items in your basket, &#x27;</span> +</span><br><span class="line">  <span class="string">&#x27;&lt;em&gt;&#x27;</span> + basket.onSale +</span><br><span class="line">  <span class="string">&#x27;&lt;/em&gt; are on sale!&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="comment">/*ä¸Šé¢è¿™ç§å†™æ³•ç›¸å½“ç¹çä¸æ–¹ä¾¿ï¼Œå› ä¸ºå˜é‡ä¸å­—ç¬¦ä¸²ä¹‹é—´çš„æ‹¼æ¥éœ€è¦ç”¨åˆ°+å’Œå¼•å·ï¼Œ</span></span><br><span class="line"><span class="comment">å¹¶ä¸”æ¢è¡Œæ—¶ä¸æ–¹ä¾¿ï¼ŒES6 å¼•å…¥äº†æ¨¡æ¿å­—ç¬¦ä¸²è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">$(<span class="string">&#x27;#result&#x27;</span>).append(<span class="string">`</span></span><br><span class="line"><span class="string">  There are &lt;b&gt;<span class="subst">$&#123;basket.count&#125;</span>&lt;/b&gt; items</span></span><br><span class="line"><span class="string">   in your basket, &lt;em&gt;<span class="subst">$&#123;basket.onSale&#125;</span>&lt;/em&gt;</span></span><br><span class="line"><span class="string">  are on sale!</span></span><br><span class="line"><span class="string">`</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">`In JavaScript &#x27;\n&#x27; is a line-feed.`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šè¡Œå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">`In JavaScript this is</span></span><br><span class="line"><span class="string"> not legal.`</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`string text line 1</span></span><br><span class="line"><span class="string">string text line 2`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;Bob&quot;</span>, time = <span class="string">&quot;today&quot;</span>;</span><br><span class="line"><span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span></span><br></pre></td></tr></table></figure>

<h4 id="å‡½æ•°çš„æ‰©å±•"><a href="#å‡½æ•°çš„æ‰©å±•" class="headerlink" title="å‡½æ•°çš„æ‰©å±•"></a>å‡½æ•°çš„æ‰©å±•</h4><p>ï¼ˆ1ï¼‰å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼<br>es6å¢åŠ äº†å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// es5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.x = x || <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">	<span class="built_in">this</span>.y = y || <span class="string">&#x27;world&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// es6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span> (<span class="params">x = <span class="string">&#x27;hello&#x27;</span>, y = <span class="string">&#x27;world&#x27;</span></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">this</span>.x = x ;</span><br><span class="line">	<span class="built_in">this</span>.y = y<span class="string">&#x27;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<p>è®¾ç½®å‡½æ•°çš„é»˜è®¤å‚æ•°ä¹‹åï¼Œå‡½æ•°å†…éƒ¨ä¸èƒ½å†æ¬¡å£°æ˜ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">boo</span> (<span class="params">x = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">let</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Identifier &#x27;x&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„åœ°æ–¹æ˜¯ï¼Œå‚æ•°é»˜è®¤å€¼ä¸æ˜¯ä¼ å€¼çš„ï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—é»˜è®¤å€¼è¡¨è¾¾å¼çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå‚æ•°é»˜è®¤å€¼æ˜¯æƒ°æ€§æ±‚å€¼çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">99</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">p = x + <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo() <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line">x = <span class="number">100</span>;</span><br><span class="line">foo() <span class="comment">// 101</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°pçš„é»˜è®¤å€¼æ˜¯x + 1ã€‚è¿™æ—¶ï¼Œæ¯æ¬¡è°ƒç”¨å‡½æ•°fooï¼Œéƒ½ä¼šé‡æ–°è®¡ç®—x + 1ï¼Œè€Œä¸æ˜¯é»˜è®¤pç­‰äº 100ã€‚</p>
<p>ï¼ˆ2ï¼‰rest å‚æ•°<br>ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€¦å˜é‡åï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</span><br><span class="line">    sum += val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çš„addå‡½æ•°æ˜¯ä¸€ä¸ªæ±‚å’Œå‡½æ•°ï¼Œåˆ©ç”¨ rest å‚æ•°ï¼Œå¯ä»¥å‘è¯¥å‡½æ•°ä¼ å…¥ä»»æ„æ•°ç›®çš„å‚æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª rest å‚æ•°ä»£æ›¿argumentså˜é‡çš„ä¾‹å­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// argumentså˜é‡çš„å†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumbers</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>).sort();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// restå‚æ•°çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> sortNumbers = <span class="function">(<span class="params">...numbers</span>) =&gt;</span> numbers.sort();</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çš„ä¸¤ç§å†™æ³•ï¼Œæ¯”è¾ƒåå¯ä»¥å‘ç°ï¼Œrest å‚æ•°çš„å†™æ³•æ›´è‡ªç„¶ä¹Ÿæ›´ç®€æ´ã€‚</p>
<p>argumentså¯¹è±¡ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€ä»¥ä¸ºäº†ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨Array.prototype.slice.callå…ˆå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚rest å‚æ•°å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ©ç”¨ rest å‚æ•°æ”¹å†™æ•°ç»„pushæ–¹æ³•çš„ä¾‹å­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">array, ...items</span>) </span>&#123;</span><br><span class="line">  items.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    array.push(item);</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">push(a, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€¦å˜é‡åï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> values) &#123;</span><br><span class="line">    sum += val;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="number">2</span>, <span class="number">5</span>, <span class="number">3</span>) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çš„addå‡½æ•°æ˜¯ä¸€ä¸ªæ±‚å’Œå‡½æ•°ï¼Œåˆ©ç”¨ rest å‚æ•°ï¼Œå¯ä»¥å‘è¯¥å‡½æ•°ä¼ å…¥ä»»æ„æ•°ç›®çš„å‚æ•°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª rest å‚æ•°ä»£æ›¿argumentså˜é‡çš„ä¾‹å­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// argumentså˜é‡çš„å†™æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumbers</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>).sort();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// restå‚æ•°çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">const</span> sortNumbers = <span class="function">(<span class="params">...numbers</span>) =&gt;</span> numbers.sort();</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çš„ä¸¤ç§å†™æ³•ï¼Œæ¯”è¾ƒåå¯ä»¥å‘ç°ï¼Œrest å‚æ•°çš„å†™æ³•æ›´è‡ªç„¶ä¹Ÿæ›´ç®€æ´ã€‚</p>
<p>argumentså¯¹è±¡ä¸æ˜¯æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€‚æ‰€ä»¥ä¸ºäº†ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼Œå¿…é¡»ä½¿ç”¨Array.prototype.slice.callå…ˆå°†å…¶è½¬ä¸ºæ•°ç»„ã€‚rest å‚æ•°å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œæ•°ç»„ç‰¹æœ‰çš„æ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåˆ©ç”¨ rest å‚æ•°æ”¹å†™æ•°ç»„pushæ–¹æ³•çš„ä¾‹å­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">push</span>(<span class="params">array, ...items</span>) </span>&#123;</span><br><span class="line">  items.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">    array.push(item);</span><br><span class="line">    <span class="built_in">console</span>.log(item);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">push(a, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œrest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, ...b, c</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°çš„lengthå±æ€§ï¼Œä¸åŒ…æ‹¬ rest å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;&#125;).length  <span class="comment">// 1</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">...a</span>) </span>&#123;&#125;).length  <span class="comment">// 0</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, ...b</span>) </span>&#123;&#125;).length  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œrest å‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a, ...b, c</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‡½æ•°çš„lengthå±æ€§ï¼Œä¸åŒ…æ‹¬ rest å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;&#125;).length  <span class="comment">// 1</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">...a</span>) </span>&#123;&#125;).length  <span class="comment">// 0</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, ...b</span>) </span>&#123;&#125;).length  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lzhwweb.github.io/nirvana/javascript/%E5%89%8D%E7%AB%AF/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/nirvana/images/headphoto.jpeg">
      <meta itemprop="name" content="nirvana">
      <meta itemprop="description" content="ä¸ªäººå­¦ä¹ ç¬”è®°">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¶…æ§ƒå¿«ä¹æ˜¯é‡‘">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/nirvana/javascript/%E5%89%8D%E7%AB%AF/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86/" class="post-title-link" itemprop="url">æµè§ˆå™¨ç¼“å­˜åŸºæœ¬è®¤è¯†</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-11 21:12:40" itemprop="dateCreated datePublished" datetime="2021-03-11T21:12:40+08:00">2021-03-11</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">æ›´æ–°äº</span>
        <time title="ä¿®æ”¹æ—¶é—´ï¼š2021-03-10 13:43:55" itemprop="dateModified" datetime="2021-03-10T13:43:55+08:00">2021-03-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/nirvana/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
        </span>
    </span>

  
    <span id="/nirvana/javascript/%E5%89%8D%E7%AB%AF/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98%E5%9F%BA%E6%9C%AC%E8%AE%A4%E8%AF%86/" class="post-meta-item leancloud_visitors" data-flag-title="æµè§ˆå™¨ç¼“å­˜åŸºæœ¬è®¤è¯†" title="é˜…è¯»æ¬¡æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
      <span class="leancloud-visitors-count"></span>
    </span>
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
      <span>6.6k</span>
    </span>
    <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
      <span>6 åˆ†é’Ÿ</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>æµè§ˆå™¨ç¼“å­˜ï¼Œä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ç¼“å­˜ï¼Œæ—¢æ˜¯ç½‘é¡µæ€§èƒ½ä¼˜åŒ–é‡Œé¢é™æ€èµ„æºç›¸å…³ä¼˜åŒ–çš„ä¸€å¤§åˆ©å™¨ï¼Œä¹Ÿæ˜¯æ— æ•°webå¼€å‘äººå‘˜åœ¨å·¥ä½œè¿‡ç¨‹ä¸å¯é¿å…çš„ä¸€å¤§é—®é¢˜ï¼Œæ‰€ä»¥åœ¨äº§å“å¼€å‘çš„æ—¶å€™æˆ‘ä»¬æ€»æ˜¯æƒ³åŠæ³•é¿å…ç¼“å­˜äº§ç”Ÿï¼Œè€Œåœ¨äº§å“å‘å¸ƒä¹‹æ—¶åˆåœ¨æƒ³ç­–ç•¥ç®¡ç†ç¼“å­˜æå‡ç½‘é¡µçš„è®¿é—®é€Ÿåº¦ã€‚äº†è§£æµè§ˆå™¨çš„ç¼“å­˜å‘½ä¸­åŸç†ï¼Œæ˜¯å¼€å‘webåº”ç”¨çš„åŸºç¡€ï¼Œæœ¬æ–‡ç€çœ¼äºæ­¤ï¼Œå­¦ä¹ æµè§ˆå™¨ç¼“å­˜çš„ç›¸å…³çŸ¥è¯†ï¼Œæ€»ç»“ç¼“å­˜é¿å…å’Œç¼“å­˜ç®¡ç†çš„æ–¹æ³•ï¼Œç»“åˆå…·ä½“çš„åœºæ™¯è¯´æ˜ç¼“å­˜çš„ç›¸å…³é—®é¢˜ã€‚å¸Œæœ›èƒ½å¯¹æœ‰éœ€è¦çš„äººæœ‰æ‰€å¸®åŠ©ã€‚</p>
<p>1. æµè§ˆå™¨ç¼“å­˜åŸºæœ¬è®¤è¯†</p>
<p>å®ƒåˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼šÂ </p>
<p>1ï¼‰æµè§ˆå™¨åœ¨åŠ è½½èµ„æºæ—¶ï¼Œå…ˆæ ¹æ®è¿™ä¸ªèµ„æºçš„ä¸€äº›http headeråˆ¤æ–­å®ƒæ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ï¼Œå¼ºç¼“å­˜å¦‚æœå‘½ä¸­ï¼Œæµè§ˆå™¨ç›´æ¥ä»è‡ªå·±çš„ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œä¸ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚æ¯”å¦‚æŸä¸ªcssæ–‡ä»¶ï¼Œå¦‚æœæµè§ˆå™¨åœ¨åŠ è½½å®ƒæ‰€åœ¨çš„ç½‘é¡µæ—¶ï¼Œè¿™ä¸ªcssæ–‡ä»¶çš„ç¼“å­˜é…ç½®å‘½ä¸­äº†å¼ºç¼“å­˜ï¼Œæµè§ˆå™¨å°±ç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½è¿™ä¸ªcssï¼Œè¿è¯·æ±‚éƒ½ä¸ä¼šå‘é€åˆ°ç½‘é¡µæ‰€åœ¨æœåŠ¡å™¨ï¼›</p>
<p>2ï¼‰å½“å¼ºç¼“å­˜æ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¸€å®šä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡æœåŠ¡å™¨ç«¯ä¾æ®èµ„æºçš„å¦å¤–ä¸€äº›http headeréªŒè¯è¿™ä¸ªèµ„æºæ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œå¦‚æœåå•†ç¼“å­˜å‘½ä¸­ï¼ŒæœåŠ¡å™¨ä¼šå°†è¿™ä¸ªè¯·æ±‚è¿”å›ï¼Œä½†æ˜¯ä¸ä¼šè¿”å›è¿™ä¸ªèµ„æºçš„æ•°æ®ï¼Œè€Œæ˜¯å‘Šè¯‰å®¢æˆ·ç«¯å¯ä»¥ç›´æ¥ä»ç¼“å­˜ä¸­åŠ è½½è¿™ä¸ªèµ„æºï¼Œäºæ˜¯æµè§ˆå™¨å°±åˆä¼šä»è‡ªå·±çš„ç¼“å­˜ä¸­å»åŠ è½½è¿™ä¸ªèµ„æºï¼›</p>
<p>3ï¼‰å¼ºç¼“å­˜ä¸åå•†ç¼“å­˜çš„å…±åŒç‚¹æ˜¯ï¼šå¦‚æœå‘½ä¸­ï¼Œéƒ½æ˜¯ä»å®¢æˆ·ç«¯ç¼“å­˜ä¸­åŠ è½½èµ„æºï¼Œè€Œä¸æ˜¯ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ•°æ®ï¼›åŒºåˆ«æ˜¯ï¼šå¼ºç¼“å­˜ä¸å‘è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œåå•†ç¼“å­˜ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚</p>
<p>4ï¼‰å½“åå•†ç¼“å­˜ä¹Ÿæ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæµè§ˆå™¨ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ•°æ®ã€‚</p>
<p>2. å¼ºç¼“å­˜çš„åŸç†</p>
<p>å½“æµè§ˆå™¨å¯¹æŸä¸ªèµ„æºçš„è¯·æ±‚å‘½ä¸­äº†å¼ºç¼“å­˜æ—¶ï¼Œè¿”å›çš„httpçŠ¶æ€ä¸º200ï¼Œåœ¨chromeçš„å¼€å‘è€…å·¥å…·çš„networké‡Œé¢sizeä¼šæ˜¾ç¤ºä¸ºfrom cacheï¼Œæ¯”å¦‚äº¬ä¸œçš„é¦–é¡µé‡Œå°±æœ‰å¾ˆå¤šé™æ€èµ„æºé…ç½®äº†å¼ºç¼“å­˜ï¼Œç”¨chromeæ‰“å¼€å‡ æ¬¡ï¼Œå†ç”¨f12æŸ¥çœ‹networkï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸å°‘è¯·æ±‚å°±æ˜¯ä»ç¼“å­˜ä¸­åŠ è½½çš„ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-cfb575b65a490aa6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/800/format/webp" alt="image"></p>
<p>å¼ºç¼“å­˜æ˜¯åˆ©ç”¨Expiresæˆ–è€…Cache-Controlè¿™ä¸¤ä¸ªhttp response headerå®ç°çš„ï¼Œå®ƒä»¬éƒ½ç”¨æ¥è¡¨ç¤ºèµ„æºåœ¨å®¢æˆ·ç«¯ç¼“å­˜çš„æœ‰æ•ˆæœŸã€‚</p>
<p>Expiresæ˜¯http1.0æå‡ºçš„ä¸€ä¸ªè¡¨ç¤ºèµ„æºè¿‡æœŸæ—¶é—´çš„headerï¼Œå®ƒæè¿°çš„æ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œç”±æœåŠ¡å™¨è¿”å›ï¼Œç”¨GMTæ ¼å¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œå¦‚ï¼šExpires:Thu, 31 Dec 2037 23:55:55 GMTï¼Œå®ƒçš„ç¼“å­˜åŸç†æ˜¯ï¼š</p>
<p>1ï¼‰æµè§ˆå™¨ç¬¬ä¸€æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªèµ„æºï¼ŒæœåŠ¡å™¨åœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨responeçš„headeråŠ ä¸ŠExpiresçš„headerï¼Œå¦‚ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-67a099b1dbbd9ede.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/378/format/webp" alt="image"></p>
<p>2ï¼‰æµè§ˆå™¨åœ¨æ¥æ”¶åˆ°è¿™ä¸ªèµ„æºåï¼Œä¼šæŠŠè¿™ä¸ªèµ„æºè¿åŒæ‰€æœ‰response headerä¸€èµ·ç¼“å­˜ä¸‹æ¥ï¼ˆæ‰€ä»¥ç¼“å­˜å‘½ä¸­çš„è¯·æ±‚è¿”å›çš„headerå¹¶ä¸æ˜¯æ¥è‡ªæœåŠ¡å™¨ï¼Œè€Œæ˜¯æ¥è‡ªä¹‹å‰ç¼“å­˜çš„headerï¼‰ï¼›</p>
<p>3ï¼‰æµè§ˆå™¨å†è¯·æ±‚è¿™ä¸ªèµ„æºæ—¶ï¼Œå…ˆä»ç¼“å­˜ä¸­å¯»æ‰¾ï¼Œæ‰¾åˆ°è¿™ä¸ªèµ„æºåï¼Œæ‹¿å‡ºå®ƒçš„Expiresè·Ÿå½“å‰çš„è¯·æ±‚æ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœè¯·æ±‚æ—¶é—´åœ¨ExpiresæŒ‡å®šçš„æ—¶é—´ä¹‹å‰ï¼Œå°±èƒ½å‘½ä¸­ç¼“å­˜ï¼Œå¦åˆ™å°±ä¸è¡Œã€‚</p>
<p>4ï¼‰å¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œæµè§ˆå™¨ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ—¶ï¼ŒExpires Headeråœ¨é‡æ–°åŠ è½½çš„æ—¶å€™ä¼šè¢«æ›´æ–°ã€‚</p>
<p>Expiresæ˜¯è¾ƒè€çš„å¼ºç¼“å­˜ç®¡ç†headerï¼Œç”±äºå®ƒæ˜¯æœåŠ¡å™¨è¿”å›çš„ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œåœ¨æœåŠ¡å™¨æ—¶é—´ä¸å®¢æˆ·ç«¯æ—¶é—´ç›¸å·®è¾ƒå¤§æ—¶ï¼Œç¼“å­˜ç®¡ç†å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚éšæ„ä¿®æ”¹ä¸‹å®¢æˆ·ç«¯æ—¶é—´ï¼Œå°±èƒ½å½±å“ç¼“å­˜å‘½ä¸­çš„ç»“æœã€‚æ‰€ä»¥åœ¨http1.1çš„æ—¶å€™ï¼Œæå‡ºäº†ä¸€ä¸ªæ–°çš„headerï¼Œå°±æ˜¯Cache-Controlï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œåœ¨é…ç½®ç¼“å­˜çš„æ—¶å€™ï¼Œä»¥ç§’ä¸ºå•ä½ï¼Œç”¨æ•°å€¼è¡¨ç¤ºï¼Œå¦‚ï¼šCache-Control:max-age=315360000ï¼Œå®ƒçš„ç¼“å­˜åŸç†æ˜¯ï¼š</p>
<p>1ï¼‰æµè§ˆå™¨ç¬¬ä¸€æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªèµ„æºï¼ŒæœåŠ¡å™¨åœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨responeçš„headeråŠ ä¸ŠCache-Controlçš„headerï¼Œå¦‚ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-e1e928ebfb43cf14.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/551/format/webp" alt="image"></p>
<p>2ï¼‰æµè§ˆå™¨åœ¨æ¥æ”¶åˆ°è¿™ä¸ªèµ„æºåï¼Œä¼šæŠŠè¿™ä¸ªèµ„æºè¿åŒæ‰€æœ‰response headerä¸€èµ·ç¼“å­˜ä¸‹æ¥ï¼›</p>
<p>3ï¼‰æµè§ˆå™¨å†è¯·æ±‚è¿™ä¸ªèµ„æºæ—¶ï¼Œå…ˆä»ç¼“å­˜ä¸­å¯»æ‰¾ï¼Œæ‰¾åˆ°è¿™ä¸ªèµ„æºåï¼Œæ ¹æ®å®ƒç¬¬ä¸€æ¬¡çš„è¯·æ±‚æ—¶é—´å’ŒCache-Controlè®¾å®šçš„æœ‰æ•ˆæœŸï¼Œè®¡ç®—å‡ºä¸€ä¸ªèµ„æºè¿‡æœŸæ—¶é—´ï¼Œå†æ‹¿è¿™ä¸ªè¿‡æœŸæ—¶é—´è·Ÿå½“å‰çš„è¯·æ±‚æ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœè¯·æ±‚æ—¶é—´åœ¨è¿‡æœŸæ—¶é—´ä¹‹å‰ï¼Œå°±èƒ½å‘½ä¸­ç¼“å­˜ï¼Œå¦åˆ™å°±ä¸è¡Œã€‚</p>
<p>4ï¼‰å¦‚æœç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œæµè§ˆå™¨ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ—¶ï¼ŒCache-Control Headeråœ¨é‡æ–°åŠ è½½çš„æ—¶å€™ä¼šè¢«æ›´æ–°ã€‚</p>
<p>Cache-Controlæè¿°çš„æ˜¯ä¸€ä¸ªç›¸å¯¹æ—¶é—´ï¼Œåœ¨è¿›è¡Œç¼“å­˜å‘½ä¸­çš„æ—¶å€™ï¼Œéƒ½æ˜¯åˆ©ç”¨å®¢æˆ·ç«¯æ—¶é—´è¿›è¡Œåˆ¤æ–­ï¼Œæ‰€ä»¥ç›¸æ¯”è¾ƒExpiresï¼ŒCache-Controlçš„ç¼“å­˜ç®¡ç†æ›´æœ‰æ•ˆï¼Œå®‰å…¨ä¸€äº›ã€‚</p>
<p>è¿™ä¸¤ä¸ªheaderå¯ä»¥åªå¯ç”¨ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥åŒæ—¶å¯ç”¨ï¼Œå½“response headerä¸­ï¼ŒExpireså’ŒCache-ControlåŒæ—¶å­˜åœ¨æ—¶ï¼ŒCache-Controlä¼˜å…ˆçº§é«˜äºExpiresï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-05a82b4ae250487a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/491/format/webp" alt="image"></p>
<p>3. å¼ºç¼“å­˜çš„ç®¡ç†</p>
<p>å‰é¢ä»‹ç»çš„æ˜¯å¼ºç¼“å­˜çš„åŸç†ï¼Œåœ¨å®é™…åº”ç”¨ä¸­æˆ‘ä»¬ä¼šç¢°åˆ°éœ€è¦å¼ºç¼“å­˜çš„åœºæ™¯å’Œä¸éœ€è¦å¼ºç¼“å­˜çš„åœºæ™¯ï¼Œé€šå¸¸æœ‰2ç§æ–¹å¼æ¥è®¾ç½®æ˜¯å¦å¯ç”¨å¼ºç¼“å­˜ï¼š</p>
<p>1ï¼‰é€šè¿‡ä»£ç çš„æ–¹å¼ï¼Œåœ¨webæœåŠ¡å™¨è¿”å›çš„å“åº”ä¸­æ·»åŠ Expireså’ŒCache-Control Headerï¼›</p>
<p>2ï¼‰é€šè¿‡é…ç½®webæœåŠ¡å™¨çš„æ–¹å¼ï¼Œè®©webæœåŠ¡å™¨åœ¨å“åº”èµ„æºçš„æ—¶å€™ç»Ÿä¸€æ·»åŠ Expireså’ŒCache-Control Headerã€‚</p>
<p>æ¯”å¦‚åœ¨javawebé‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ä¸‹é¢çš„ä»£ç è®¾ç½®å¼ºç¼“å­˜ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=javascript:;">+ View code</a></p>
<p>è¿˜å¯ä»¥é€šè¿‡ç±»ä¼¼ä¸‹é¢çš„javaä»£ç è®¾ç½®ä¸å¯ç”¨å¼ºç¼“å­˜ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=javascript:;">+ View code</a></p>
<p>tomcatè¿˜æä¾›äº†ä¸€ä¸ªExpiresFilterä¸“é—¨ç”¨æ¥é…ç½®å¼ºç¼“å­˜ï¼Œå…·ä½“ä½¿ç”¨çš„æ–¹å¼å¯å‚è€ƒtomcatçš„å®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html%23Expires_Filter">http://tomcat.apache.org/tomcat-7.0-doc/config/filter.html#Expires_Filter</a></p>
<p>nginxå’Œapacheä½œä¸ºä¸“ä¸šçš„webæœåŠ¡å™¨ï¼Œéƒ½æœ‰ä¸“é—¨çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é…ç½®expireså’Œcache-controlï¼Œè¿™æ–¹é¢çš„çŸ¥è¯†ï¼Œå¦‚æœä½ å¯¹è¿ç»´æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥åœ¨ç™¾åº¦ä¸Šæœç´¢â€œnginx è®¾ç½® expires cache-controlâ€æˆ–â€œapache è®¾ç½® expires cache-controlâ€éƒ½èƒ½æ‰¾åˆ°ä¸å°‘ç›¸å…³çš„æ–‡ç« ã€‚</p>
<p>ç”±äºåœ¨å¼€å‘çš„æ—¶å€™ä¸ä¼šä¸“é—¨å»é…ç½®å¼ºç¼“å­˜ï¼Œè€Œæµè§ˆå™¨åˆé»˜è®¤ä¼šç¼“å­˜å›¾ç‰‡ï¼Œcsså’Œjsç­‰é™æ€èµ„æºï¼Œæ‰€ä»¥å¼€å‘ç¯å¢ƒä¸‹ç»å¸¸ä¼šå› ä¸ºå¼ºç¼“å­˜å¯¼è‡´èµ„æºæ²¡æœ‰åŠæ—¶æ›´æ–°è€Œçœ‹ä¸åˆ°æœ€æ–°çš„æ•ˆæœï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¸¸ç”¨çš„æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<p>1ï¼‰ç›´æ¥ctrl+f5ï¼Œè¿™ä¸ªåŠæ³•èƒ½è§£å†³é¡µé¢ç›´æ¥å¼•ç”¨çš„èµ„æºæ›´æ–°çš„é—®é¢˜ï¼›</p>
<p>2ï¼‰ä½¿ç”¨æµè§ˆå™¨çš„éšç§æ¨¡å¼å¼€å‘ï¼›</p>
<p>3ï¼‰å¦‚æœç”¨çš„æ˜¯chromeï¼Œå¯ä»¥f12åœ¨networké‚£é‡ŒæŠŠç¼“å­˜ç»™ç¦æ‰ï¼ˆè¿™æ˜¯ä¸ªéå¸¸æœ‰æ•ˆçš„æ–¹æ³•ï¼‰ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-d4447787f6dd2cdb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/687/format/webp" alt="image"></p>
<p>4ï¼‰åœ¨å¼€å‘é˜¶æ®µï¼Œç»™èµ„æºåŠ ä¸Šä¸€ä¸ªåŠ¨æ€çš„å‚æ•°ï¼Œå¦‚css/index.css?v=0.0001ï¼Œç”±äºæ¯æ¬¡èµ„æºçš„ä¿®æ”¹éƒ½è¦æ›´æ–°å¼•ç”¨çš„ä½ç½®ï¼ŒåŒæ—¶ä¿®æ”¹å‚æ•°çš„å€¼ï¼Œæ‰€ä»¥æ“ä½œèµ·æ¥ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œé™¤éä½ æ˜¯åœ¨åŠ¨æ€é¡µé¢æ¯”å¦‚jspé‡Œå¼€å‘å°±å¯ä»¥ç”¨æœåŠ¡å™¨å˜é‡æ¥è§£å†³ï¼ˆv=${sysRnd}ï¼‰ï¼Œæˆ–è€…ä½ èƒ½ç”¨ä¸€äº›å‰ç«¯çš„æ„å»ºå·¥å…·æ¥å¤„ç†è¿™ä¸ªå‚æ•°ä¿®æ”¹çš„é—®é¢˜ï¼›</p>
<p>5ï¼‰å¦‚æœèµ„æºå¼•ç”¨çš„é¡µé¢ï¼Œè¢«åµŒå…¥åˆ°äº†ä¸€ä¸ªiframeé‡Œé¢ï¼Œå¯ä»¥åœ¨iframeçš„åŒºåŸŸå³é”®å•å‡»é‡æ–°åŠ è½½è¯¥é¡µé¢ï¼Œä»¥chromeä¸ºä¾‹ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-91bd6528ce390f9a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/280/format/webp" alt="image"></p>
<p>6ï¼‰å¦‚æœç¼“å­˜é—®é¢˜å‡ºç°åœ¨ajaxè¯·æ±‚ä¸­ï¼Œæœ€æœ‰æ•ˆçš„è§£å†³åŠæ³•å°±æ˜¯ajaxçš„è¯·æ±‚åœ°å€è¿½åŠ éšæœºæ•°ï¼›</p>
<p>7ï¼‰è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯åŠ¨æ€è®¾ç½®iframeçš„srcæ—¶ï¼Œæœ‰å¯èƒ½ä¹Ÿä¼šå› ä¸ºç¼“å­˜é—®é¢˜ï¼Œå¯¼è‡´çœ‹ä¸åˆ°æœ€æ–°çš„æ•ˆæœï¼Œè¿™æ—¶å€™åœ¨è¦è®¾ç½®çš„srcåé¢æ·»åŠ éšæœºæ•°ä¹Ÿèƒ½è§£å†³é—®é¢˜ï¼›</p>
<p>8ï¼‰å¦‚æœä½ ç”¨çš„æ˜¯gruntå’Œgulpè¿™ç§å‰ç«¯å·¥å…·å¼€å‘ï¼Œé€šè¿‡å®ƒä»¬çš„æ’ä»¶æ¯”å¦‚grunt-contrib-connectæ¥å¯åŠ¨ä¸€ä¸ªé™æ€æœåŠ¡å™¨ï¼Œåˆ™å®Œå…¨ä¸ç”¨æ‹…å¿ƒå¼€å‘é˜¶æ®µçš„èµ„æºæ›´æ–°é—®é¢˜ï¼Œå› ä¸ºåœ¨è¿™ä¸ªé™æ€æœåŠ¡å™¨ä¸‹çš„æ‰€æœ‰èµ„æºè¿”å›çš„respone headerä¸­ï¼Œcache-controlå§‹ç»ˆè¢«è®¾ç½®ä¸ºä¸ç¼“å­˜ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-811c2c36bf5d419b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/523/format/webp" alt="image"></p>
<p>4. å¼ºç¼“å­˜çš„åº”ç”¨</p>
<p>å¼ºç¼“å­˜æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–æœ€æœ‰åŠ›çš„å·¥å…·ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œå¯¹äºæœ‰å¤§é‡é™æ€èµ„æºçš„ç½‘é¡µï¼Œä¸€å®šè¦åˆ©ç”¨å¼ºç¼“å­˜ï¼Œæé«˜å“åº”é€Ÿåº¦ã€‚é€šå¸¸çš„åšæ³•æ˜¯ï¼Œä¸ºè¿™äº›é™æ€èµ„æºå…¨éƒ¨é…ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´è¶…é•¿çš„Expiresæˆ–Cache-Controlï¼Œè¿™æ ·ç”¨æˆ·åœ¨è®¿é—®ç½‘é¡µæ—¶ï¼Œåªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ä»æœåŠ¡å™¨è¯·æ±‚é™æ€èµ„æºï¼Œå…¶å®ƒæ—¶å€™åªè¦ç¼“å­˜æ²¡æœ‰å¤±æ•ˆå¹¶ä¸”ç”¨æˆ·æ²¡æœ‰å¼ºåˆ¶åˆ·æ–°çš„æ¡ä»¶ä¸‹éƒ½ä¼šä»è‡ªå·±çš„ç¼“å­˜ä¸­åŠ è½½ï¼Œæ¯”å¦‚å‰é¢æåˆ°è¿‡çš„äº¬ä¸œé¦–é¡µç¼“å­˜çš„èµ„æºï¼Œå®ƒçš„ç¼“å­˜è¿‡æœŸæ—¶é—´éƒ½è®¾ç½®åˆ°äº†2026å¹´ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-b92722283de1422c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/491/format/webp" alt="image"></p>
<p>ç„¶è€Œè¿™ç§ç¼“å­˜é…ç½®æ–¹å¼ä¼šå¸¦æ¥ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå°±æ˜¯å‘å¸ƒæ—¶èµ„æºæ›´æ–°çš„é—®é¢˜ï¼Œæ¯”å¦‚æŸä¸€å¼ å›¾ç‰‡ï¼Œåœ¨ç”¨æˆ·è®¿é—®ç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„æ—¶å€™å·²ç»ç¼“å­˜åˆ°äº†ç”¨æˆ·çš„ç”µè„‘ä¸Šï¼Œå½“ç½‘ç«™å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œæ›¿æ¢äº†è¿™ä¸ªå›¾ç‰‡æ—¶ï¼Œå·²ç»è®¿é—®è¿‡ç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„ç”¨æˆ·ç”±äºç¼“å­˜çš„è®¾ç½®ï¼Œå¯¼è‡´åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ä¸ä¼šè¯·æ±‚æœåŠ¡å™¨æœ€æ–°çš„å›¾ç‰‡èµ„æºï¼Œé™¤éä»–æ¸…æ‰æˆ–ç¦ç”¨ç¼“å­˜æˆ–è€…å¼ºåˆ¶åˆ·æ–°ï¼Œå¦åˆ™å°±çœ‹ä¸åˆ°æœ€æ–°çš„å›¾ç‰‡æ•ˆæœã€‚</p>
<p>è¿™ä¸ªé—®é¢˜å·²ç»æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œå…·ä½“å†…å®¹å¯é˜…è¯»çŸ¥ä¹è¿™ç¯‡æ–‡ç« è¯¦ç»†äº†è§£ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://www.zhihu.com/question/20790576">http://www.zhihu.com/question/20790576</a></p>
<p>æ–‡ç« æåˆ°çš„ä¸œè¥¿éƒ½å±äºç†è®ºä¸Šçš„è§£å†³æ–¹æ¡ˆï¼Œä¸è¿‡ç°åœ¨å·²ç»æœ‰å¾ˆå¤šå‰ç«¯å·¥å…·èƒ½å¤Ÿå®é™…åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”±äºæ¯ä¸ªå·¥å…·æ¶‰åŠåˆ°çš„å†…å®¹ç»†èŠ‚éƒ½æœ‰å¾ˆå¤šï¼Œæœ¬æ–‡æ²¡æœ‰åŠæ³•ä¸€ä¸€æ·±å…¥ä»‹ç»ã€‚æœ‰å…´è¶£çš„å¯ä»¥å»äº†è§£ä¸‹grunt gulp webpack fis è¿˜æœ‰edpè¿™å‡ ä¸ªå·¥å…·ï¼ŒåŸºäºè¿™å‡ ä¸ªå·¥å…·éƒ½èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°¤å…¶æ˜¯fiså’Œedpæ˜¯ç™¾åº¦æ¨å‡ºçš„å‰ç«¯å¼€å‘å¹³å°ï¼Œæœ‰ç°æˆçš„æ–‡æ¡£å¯ä»¥å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://fis.baidu.com/fis3/api/index.html">http://fis.baidu.com/fis3/api/index.html</a></p>
<p><a target="_blank" rel="noopener" href="https://link.jianshu.com/?t=http://ecomfe.github.io/edp/doc/initialization/install/">http://ecomfe.github.io/edp/doc/initialization/install/</a></p>
<p>å¼ºç¼“å­˜è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šå¸¸éƒ½æ˜¯é’ˆå¯¹é™æ€èµ„æºä½¿ç”¨ï¼ŒåŠ¨æ€èµ„æºéœ€è¦æ…ç”¨ï¼Œé™¤äº†æœåŠ¡ç«¯é¡µé¢å¯ä»¥çœ‹ä½œåŠ¨æ€èµ„æºå¤–ï¼Œé‚£äº›å¼•ç”¨é™æ€èµ„æºçš„htmlä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯åŠ¨æ€èµ„æºï¼Œå¦‚æœè¿™ç§htmlä¹Ÿè¢«ç¼“å­˜ï¼Œå½“è¿™äº›htmlæ›´æ–°ä¹‹åï¼Œå¯èƒ½å°±æ²¡æœ‰æœºåˆ¶èƒ½å¤Ÿé€šçŸ¥æµè§ˆå™¨è¿™äº›htmlæœ‰æ›´æ–°ï¼Œå°¤å…¶æ˜¯å‰åç«¯åˆ†ç¦»çš„åº”ç”¨é‡Œï¼Œé¡µé¢éƒ½æ˜¯çº¯htmlé¡µé¢ï¼Œæ¯ä¸ªè®¿é—®åœ°å€å¯èƒ½éƒ½æ˜¯ç›´æ¥è®¿é—®htmlé¡µé¢ï¼Œè¿™äº›é¡µé¢é€šå¸¸ä¸åŠ å¼ºç¼“å­˜ï¼Œä»¥ä¿è¯æµè§ˆå™¨è®¿é—®è¿™äº›é¡µé¢æ—¶å§‹ç»ˆè¯·æ±‚æœåŠ¡å™¨æœ€æ–°çš„èµ„æºã€‚</p>
<p>5. åå•†ç¼“å­˜çš„åŸç†</p>
<p>å½“æµè§ˆå™¨å¯¹æŸä¸ªèµ„æºçš„è¯·æ±‚æ²¡æœ‰å‘½ä¸­å¼ºç¼“å­˜ï¼Œå°±ä¼šå‘ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒéªŒè¯åå•†ç¼“å­˜æ˜¯å¦å‘½ä¸­ï¼Œå¦‚æœåå•†ç¼“å­˜å‘½ä¸­ï¼Œè¯·æ±‚å“åº”è¿”å›çš„httpçŠ¶æ€ä¸º304å¹¶ä¸”ä¼šæ˜¾ç¤ºä¸€ä¸ªNot Modifiedçš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ä½ æ‰“å¼€äº¬ä¸œçš„é¦–é¡µï¼ŒæŒ‰f12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œå†æŒ‰f5åˆ·æ–°é¡µé¢ï¼ŒæŸ¥çœ‹networkï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸å°‘è¯·æ±‚å°±æ˜¯å‘½ä¸­äº†åå•†ç¼“å­˜çš„ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-d585f64198f3d8ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/800/format/webp" alt="image"></p>
<p>æŸ¥çœ‹å•ä¸ªè¯·æ±‚çš„Response Headerï¼Œä¹Ÿèƒ½çœ‹åˆ°304çš„çŠ¶æ€ç å’ŒNot Modifiedçš„å­—ç¬¦ä¸²ï¼Œåªè¦çœ‹åˆ°è¿™ä¸ªå°±å¯è¯´æ˜è¿™ä¸ªèµ„æºæ˜¯å‘½ä¸­äº†åå•†ç¼“å­˜ï¼Œç„¶åä»å®¢æˆ·ç«¯ç¼“å­˜ä¸­åŠ è½½çš„ï¼Œè€Œä¸æ˜¯æœåŠ¡å™¨æœ€æ–°çš„èµ„æºï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-545761fa0143432f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/777/format/webp" alt="image"></p>
<p>åå•†ç¼“å­˜æ˜¯åˆ©ç”¨çš„æ˜¯ã€Last-Modifiedï¼ŒIf-Modified-Sinceã€‘å’Œã€ETagã€If-None-Matchã€‘è¿™ä¸¤å¯¹Headeræ¥ç®¡ç†çš„ã€‚</p>
<p>ã€Last-Modifiedï¼ŒIf-Modified-Sinceã€‘çš„æ§åˆ¶ç¼“å­˜çš„åŸç†æ˜¯ï¼š</p>
<p>1ï¼‰æµè§ˆå™¨ç¬¬ä¸€æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªèµ„æºï¼ŒæœåŠ¡å™¨åœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨responeçš„headeråŠ ä¸ŠLast-Modifiedçš„headerï¼Œè¿™ä¸ªheaderè¡¨ç¤ºè¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-064d4be1e2d4195b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/418/format/webp" alt="image"></p>
<p>2ï¼‰æµè§ˆå™¨å†æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚è¿™ä¸ªèµ„æºæ—¶ï¼Œåœ¨requestçš„headerä¸ŠåŠ ä¸ŠIf-Modified-Sinceçš„headerï¼Œè¿™ä¸ªheaderçš„å€¼å°±æ˜¯ä¸Šä¸€æ¬¡è¯·æ±‚æ—¶è¿”å›çš„Last-Modifiedçš„å€¼ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-d0e283cc3dbceee9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/844/format/webp" alt="image"></p>
<p>3ï¼‰æœåŠ¡å™¨å†æ¬¡æ”¶åˆ°èµ„æºè¯·æ±‚æ—¶ï¼Œæ ¹æ®æµè§ˆå™¨ä¼ è¿‡æ¥If-Modified-Sinceå’Œèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´åˆ¤æ–­èµ„æºæ˜¯å¦æœ‰å˜åŒ–ï¼Œå¦‚æœæ²¡æœ‰å˜åŒ–åˆ™è¿”å›304 Not Modifiedï¼Œä½†æ˜¯ä¸ä¼šè¿”å›èµ„æºå†…å®¹ï¼›å¦‚æœæœ‰å˜åŒ–ï¼Œå°±æ­£å¸¸è¿”å›èµ„æºå†…å®¹ã€‚å½“æœåŠ¡å™¨è¿”å›304 Not Modifiedçš„å“åº”æ—¶ï¼Œresponse headerä¸­ä¸ä¼šå†æ·»åŠ Last-Modifiedçš„headerï¼Œå› ä¸ºæ—¢ç„¶èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œé‚£ä¹ˆLast-Modifiedä¹Ÿå°±ä¸ä¼šæ”¹å˜ï¼Œè¿™æ˜¯æœåŠ¡å™¨è¿”å›304æ—¶çš„response headerï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-32766c5eab8824f0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/380/format/webp" alt="image"></p>
<p>4ï¼‰æµè§ˆå™¨æ”¶åˆ°304çš„å“åº”åï¼Œå°±ä¼šä»ç¼“å­˜ä¸­åŠ è½½èµ„æºã€‚</p>
<p>5ï¼‰å¦‚æœåå•†ç¼“å­˜æ²¡æœ‰å‘½ä¸­ï¼Œæµè§ˆå™¨ç›´æ¥ä»æœåŠ¡å™¨åŠ è½½èµ„æºæ—¶ï¼ŒLast-Modified Headeråœ¨é‡æ–°åŠ è½½çš„æ—¶å€™ä¼šè¢«æ›´æ–°ï¼Œä¸‹æ¬¡è¯·æ±‚æ—¶ï¼ŒIf-Modified-Sinceä¼šå¯ç”¨ä¸Šæ¬¡è¿”å›çš„Last-Modifiedå€¼ã€‚</p>
<p>ã€Last-Modifiedï¼ŒIf-Modified-Sinceã€‘éƒ½æ˜¯æ ¹æ®æœåŠ¡å™¨æ—¶é—´è¿”å›çš„headerï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ²¡æœ‰è°ƒæ•´æœåŠ¡å™¨æ—¶é—´å’Œç¯¡æ”¹å®¢æˆ·ç«¯ç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸¤ä¸ªheaderé…åˆèµ·æ¥ç®¡ç†åå•†ç¼“å­˜æ˜¯éå¸¸å¯é çš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä¹Ÿä¼šæœåŠ¡å™¨ä¸Šèµ„æºå…¶å®æœ‰å˜åŒ–ï¼Œä½†æ˜¯æœ€åä¿®æ”¹æ—¶é—´å´æ²¡æœ‰å˜åŒ–çš„æƒ…å†µï¼Œè€Œè¿™ç§é—®é¢˜åˆå¾ˆä¸å®¹æ˜“è¢«å®šä½å‡ºæ¥ï¼Œè€Œå½“è¿™ç§æƒ…å†µå‡ºç°çš„æ—¶å€™ï¼Œå°±ä¼šå½±å“åå•†ç¼“å­˜çš„å¯é æ€§ã€‚æ‰€ä»¥å°±æœ‰äº†å¦å¤–ä¸€å¯¹headeræ¥ç®¡ç†åå•†ç¼“å­˜ï¼Œè¿™å¯¹headerå°±æ˜¯ã€ETagã€If-None-Matchã€‘ã€‚å®ƒä»¬çš„ç¼“å­˜ç®¡ç†çš„æ–¹å¼æ˜¯ï¼š</p>
<p>1ï¼‰æµè§ˆå™¨ç¬¬ä¸€æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚ä¸€ä¸ªèµ„æºï¼ŒæœåŠ¡å™¨åœ¨è¿”å›è¿™ä¸ªèµ„æºçš„åŒæ—¶ï¼Œåœ¨responeçš„headeråŠ ä¸ŠETagçš„headerï¼Œè¿™ä¸ªheaderæ˜¯æœåŠ¡å™¨æ ¹æ®å½“å‰è¯·æ±‚çš„èµ„æºç”Ÿæˆçš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œè¿™ä¸ªå”¯ä¸€æ ‡è¯†æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–è¿™ä¸ªä¸²å°±ä¸åŒï¼Œè·Ÿæœ€åä¿®æ”¹æ—¶é—´æ²¡æœ‰å…³ç³»ï¼Œæ‰€ä»¥èƒ½å¾ˆå¥½çš„è¡¥å……Last-Modifiedçš„é—®é¢˜ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-6653a932aa13d102.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/398/format/webp" alt="image"></p>
<p>2ï¼‰æµè§ˆå™¨å†æ¬¡è·ŸæœåŠ¡å™¨è¯·æ±‚è¿™ä¸ªèµ„æºæ—¶ï¼Œåœ¨requestçš„headerä¸ŠåŠ ä¸ŠIf-None-Matchçš„headerï¼Œè¿™ä¸ªheaderçš„å€¼å°±æ˜¯ä¸Šä¸€æ¬¡è¯·æ±‚æ—¶è¿”å›çš„ETagçš„å€¼ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-04c00f2b3b7a9aac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/822/format/webp" alt="image"></p>
<p>3ï¼‰æœåŠ¡å™¨å†æ¬¡æ”¶åˆ°èµ„æºè¯·æ±‚æ—¶ï¼Œæ ¹æ®æµè§ˆå™¨ä¼ è¿‡æ¥If-None-Matchå’Œç„¶åå†æ ¹æ®èµ„æºç”Ÿæˆä¸€ä¸ªæ–°çš„ETagï¼Œå¦‚æœè¿™ä¸¤ä¸ªå€¼ç›¸åŒå°±è¯´æ˜èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œå¦åˆ™å°±æ˜¯æœ‰å˜åŒ–ï¼›å¦‚æœæ²¡æœ‰å˜åŒ–åˆ™è¿”å›304 Not Modifiedï¼Œä½†æ˜¯ä¸ä¼šè¿”å›èµ„æºå†…å®¹ï¼›å¦‚æœæœ‰å˜åŒ–ï¼Œå°±æ­£å¸¸è¿”å›èµ„æºå†…å®¹ã€‚ä¸Last-Modifiedä¸ä¸€æ ·çš„æ˜¯ï¼Œå½“æœåŠ¡å™¨è¿”å›304 Not Modifiedçš„å“åº”æ—¶ï¼Œç”±äºETagé‡æ–°ç”Ÿæˆè¿‡ï¼Œresponse headerä¸­è¿˜ä¼šæŠŠè¿™ä¸ªETagè¿”å›ï¼Œå³ä½¿è¿™ä¸ªETagè·Ÿä¹‹å‰çš„æ²¡æœ‰å˜åŒ–ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-37c4c3c9c51fccbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/374/format/webp" alt="image"></p>
<p>4ï¼‰æµè§ˆå™¨æ”¶åˆ°304çš„å“åº”åï¼Œå°±ä¼šä»ç¼“å­˜ä¸­åŠ è½½èµ„æºã€‚</p>
<p>6. åå•†ç¼“å­˜çš„ç®¡ç†</p>
<p>åå•†ç¼“å­˜è·Ÿå¼ºç¼“å­˜ä¸ä¸€æ ·ï¼Œå¼ºç¼“å­˜ä¸å‘è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥æœ‰æ—¶å€™èµ„æºæ›´æ–°äº†æµè§ˆå™¨è¿˜ä¸çŸ¥é“ï¼Œä½†æ˜¯åå•†ç¼“å­˜ä¼šå‘è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥èµ„æºæ˜¯å¦æ›´æ–°ï¼ŒæœåŠ¡å™¨è‚¯å®šçŸ¥é“ã€‚å¤§éƒ¨åˆ†webæœåŠ¡å™¨éƒ½é»˜è®¤å¼€å¯åå•†ç¼“å­˜ï¼Œè€Œä¸”æ˜¯åŒæ—¶å¯ç”¨ã€Last-Modifiedï¼ŒIf-Modified-Sinceã€‘å’Œã€ETagã€If-None-Matchã€‘ï¼Œæ¯”å¦‚apache:</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-692989d5bf667513.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/468/format/webp" alt="image"></p>
<p>å¦‚æœæ²¡æœ‰åå•†ç¼“å­˜ï¼Œæ¯ä¸ªåˆ°æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œå°±éƒ½å¾—è¿”å›èµ„æºå†…å®¹ï¼Œè¿™æ ·æœåŠ¡å™¨çš„æ€§èƒ½ä¼šæå·®ã€‚</p>
<p>ã€Last-Modifiedï¼ŒIf-Modified-Sinceã€‘å’Œã€ETagã€If-None-Matchã€‘ä¸€èˆ¬éƒ½æ˜¯åŒæ—¶å¯ç”¨ï¼Œè¿™æ˜¯ä¸ºäº†å¤„ç†Last-Modifiedä¸å¯é çš„æƒ…å†µã€‚æœ‰ä¸€ç§åœºæ™¯éœ€è¦æ³¨æ„ï¼š</p>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œå¤šå°æœºå™¨é—´æ–‡ä»¶çš„Last-Modifiedå¿…é¡»ä¿æŒä¸€è‡´ï¼Œä»¥å…è´Ÿè½½å‡è¡¡åˆ°ä¸åŒæœºå™¨å¯¼è‡´æ¯”å¯¹å¤±è´¥ï¼›</p>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿå°½é‡å…³é—­æ‰ETag(æ¯å°æœºå™¨ç”Ÿæˆçš„ETagéƒ½ä¼šä¸ä¸€æ ·ï¼‰ï¼›</p>
<p>äº¬ä¸œé¡µé¢çš„èµ„æºè¯·æ±‚ï¼Œè¿”å›çš„repsones headerå°±åªæœ‰Last-Modifiedï¼Œæ²¡æœ‰ETagï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/10024246-d101e2dafb7f8ca7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/600/format/webp" alt="image"></p>
<p>åå•†ç¼“å­˜éœ€è¦é…åˆå¼ºç¼“å­˜ä½¿ç”¨ï¼Œä½ çœ‹å‰é¢è¿™ä¸ªæˆªå›¾ä¸­ï¼Œé™¤äº†Last-Modifiedè¿™ä¸ªheaderï¼Œè¿˜æœ‰å¼ºç¼“å­˜çš„ç›¸å…³headerï¼Œå› ä¸ºå¦‚æœä¸å¯ç”¨å¼ºç¼“å­˜çš„è¯ï¼Œåå•†ç¼“å­˜æ ¹æœ¬æ²¡æœ‰æ„ä¹‰ã€‚</p>
<p>7. æµè§ˆå™¨è¡Œä¸ºå¯¹ç¼“å­˜çš„å½±å“</p>
<p>å¦‚æœèµ„æºå·²ç»è¢«æµè§ˆå™¨ç¼“å­˜ä¸‹æ¥ï¼Œåœ¨ç¼“å­˜å¤±æ•ˆä¹‹å‰ï¼Œå†æ¬¡è¯·æ±‚æ—¶ï¼Œé»˜è®¤ä¼šå…ˆæ£€æŸ¥æ˜¯å¦å‘½ä¸­å¼ºç¼“å­˜ï¼Œå¦‚æœå¼ºç¼“å­˜å‘½ä¸­åˆ™ç›´æ¥è¯»å–ç¼“å­˜ï¼Œå¦‚æœå¼ºç¼“å­˜æ²¡æœ‰å‘½ä¸­åˆ™å‘è¯·æ±‚åˆ°æœåŠ¡å™¨æ£€æŸ¥æ˜¯å¦å‘½ä¸­åå•†ç¼“å­˜ï¼Œå¦‚æœåå•†ç¼“å­˜å‘½ä¸­ï¼Œåˆ™å‘Šè¯‰æµè§ˆå™¨è¿˜æ˜¯å¯ä»¥ä»ç¼“å­˜è¯»å–ï¼Œå¦åˆ™æ‰ä»æœåŠ¡å™¨è¿”å›æœ€æ–°çš„èµ„æºã€‚è¿™æ˜¯é»˜è®¤çš„å¤„ç†æ–¹å¼ï¼Œè¿™ä¸ªæ–¹å¼å¯èƒ½è¢«æµè§ˆå™¨çš„è¡Œä¸ºæ”¹å˜ï¼š</p>
<p>1ï¼‰å½“ctrl+f5å¼ºåˆ¶åˆ·æ–°ç½‘é¡µæ—¶ï¼Œç›´æ¥ä»æœåŠ¡å™¨åŠ è½½ï¼Œè·³è¿‡å¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ï¼›</p>
<p>2ï¼‰å½“f5åˆ·æ–°ç½‘é¡µæ—¶ï¼Œè·³è¿‡å¼ºç¼“å­˜ï¼Œä½†æ˜¯ä¼šæ£€æŸ¥åå•†ç¼“å­˜ï¼›</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/nirvana/page/10/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/nirvana/">1</a><span class="space">&hellip;</span><a class="page-number" href="/nirvana/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/nirvana/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/nirvana/page/19/">19</a><a class="extend next" rel="next" href="/nirvana/page/12/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">nirvana</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">532k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">8:04</span>
  </span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/nirvana/js/utils.js"></script><script src="/nirvana/js/motion.js"></script><script src="/nirvana/js/next-boot.js"></script>

  
<script src="/nirvana/js/local-search.js"></script>






  


<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      const visitors = document.querySelector('.leancloud_visitors');
      const url = decodeURI(visitors.id);
      const title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            const counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      const visitors = document.querySelectorAll('.leancloud_visitors');
      const entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            const target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    const { app_id, app_key, server_url } = {"enable":true,"app_id":"SPsNUvBhME7XmrjzCfHkUu3e-gzGzoHsz","app_key":"4TONafemiIzvJUwqLa7WveoL","server_url":"https://leancloud.cn","security":true,"betterPerformance":false};
    function fetchData(api_server) {
      const Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    const api_server = app_id.slice(-9) === '-MdYXbMMI' ? `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com` : server_url;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>



</body>
</html>
