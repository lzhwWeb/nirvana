---
title: 算法-只出现一次的数字
date: 2021-04-21 14:57:30
category: algorithm
---
## 题目
给定一个非空整数数组，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。

>说明：
你的算法应该具有线性时间复杂度。 你可以不使用额外空间来实现吗？

##### 示例 1:
```
输入: [2,2,1]
输出: 1
```
##### 示例 2:
```
输入: [4,1,2,1,2]
输出: 4
```
## 解答
如果不考虑时间复杂度和空间复杂度的限制，这道题有很多种解法，如找一个数组储存数字，如果再次出现则删除，最后剩余数字为只出现一次的数字。但是这种算法都需要新增空间来存储临时对象。

如何才能做到线性时间复杂度和常数空间复杂度呢？

答案是使用`位运算`。对于这道题，可使用异或运算 ⊕。异或运算有以下三个性质。

- 任何数和 00 做异或运算，结果仍然是原来的数，即 a⊕0=a。
- 任何数和其自身做异或运算，结果是 0，即 a⊕a=0。
- 异或运算满足交换律和结合律，即 a⊕b⊕a=b⊕a⊕a=b⊕(a⊕a)=b⊕0=b。

```
/**
 * @param {number[]} nums
 * @return {number}
 */
var singleNumber = function(nums) {
    let single = 0;
    nums.forEach((item)=>{
        single ^= item;//javascript中的异或操作为^
    });
    return single;
};
```
## 复杂度分析

- 时间复杂度：`O(n)`，其中 n 是数组长度。只需要对数组遍历一次。
- 空间复杂度：`O(1)`。